<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="junit.xsl"?>
<testsuites>
  <testsuite name="pre_suite" tests="4" errors="0" failures="0" skip="0" pending="0" time="86.390302">
    <properties>
      <property name="project" value="Beaker"/>
      <property name="department" value="anode"/>
      <property name="validate" value="true"/>
      <property name="jenkins_build_url" value=""/>
      <property name="forge_host" value="api-forge-aio01-petest.puppetlabs.com"/>
      <property name="log_level" value="debug"/>
      <property name="trace_limit" value="10"/>
      <property name="hosts_file" value="hosts.cfg"/>
      <property name="options_file" value="merged_options.rb"/>
      <property name="type" value="git"/>
      <property name="provision" value="true"/>
      <property name="preserve_hosts" value="onfail"/>
      <property name="root_keys" value="true"/>
      <property name="quiet" value="false"/>
      <property name="project_root" value="/Users/anode/beaker/lib/beaker"/>
      <property name="xml_dir" value="junit"/>
      <property name="xml_file" value="beaker_junit.xml"/>
      <property name="xml_stylesheet" value="junit.xsl"/>
      <property name="log_dir" value="log"/>
      <property name="color" value="false"/>
      <property name="dry_run" value="false"/>
      <property name="timeout" value="1200"/>
      <property name="fail_mode" value="slow"/>
      <property name="timesync" value="true"/>
      <property name="repo_proxy" value="true"/>
      <property name="package_proxy" value="false"/>
      <property name="add_el_extras" value="false"/>
      <property name="add_master_entry" value="false"/>
      <property name="consoleport" value="443"/>
      <property name="pe_dir" value="http://neptune.puppetlabs.lan/3.3/ci-ready/"/>
      <property name="pe_version_file" value="LATEST"/>
      <property name="pe_version_file_win" value="LATEST-win"/>
      <property name="dot_fog" value="/Users/anode/.fog"/>
      <property name="ec2_yaml" value="config/image_templates/ec2.yaml"/>
      <property name="help" value="false"/>
      <property name="ssh" value="{:config=&gt;false, :paranoid=&gt;false, :timeout=&gt;300, :auth_methods=&gt;[&quot;publickey&quot;], :port=&gt;22, :forward_agent=&gt;true, :keys=&gt;[&quot;/Users/anode/.ssh/id_rsa-acceptance&quot;], :user_known_hosts_file=&gt;&quot;/Users/anode/.ssh/known_hosts&quot;}"/>
      <property name="helper" value="[&quot;lib/helper.rb&quot;]"/>
      <property name="tests" value="[&quot;tests/agent/agent_disable_lockfile.rb&quot;, &quot;tests/agent/fallback_to_cached_catalog.rb&quot;, &quot;tests/aix/aix_package_provider.rb&quot;, &quot;tests/aix/nim_package_provider.rb&quot;, &quot;tests/allow_arbitrary_node_name_fact_for_agent.rb&quot;, &quot;tests/allow_arbitrary_node_name_fact_for_apply.rb&quot;, &quot;tests/allow_arbitrary_node_name_for_agent.rb&quot;, &quot;tests/allow_arbitrary_node_name_for_apply.rb&quot;, &quot;tests/allow_symlinks_as_config_directories.rb&quot;, &quot;tests/apply/classes/parameterized_classes.rb&quot;, &quot;tests/apply/classes/should_allow_param_override.rb&quot;, &quot;tests/apply/classes/should_allow_param_undef_override.rb&quot;, &quot;tests/apply/classes/should_include_resources_from_class.rb&quot;, &quot;tests/apply/classes/should_not_auto_include_resources_from_class.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_else.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_elsif.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_empty.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_false.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_if.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_strings_true.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_undef.rb&quot;, &quot;tests/apply/hashes/should_not_reassign.rb&quot;, &quot;tests/apply/virtual/should_realize.rb&quot;, &quot;tests/apply/virtual/should_realize_complex_query.rb&quot;, &quot;tests/apply/virtual/should_realize_many.rb&quot;, &quot;tests/apply/virtual/should_realize_query.rb&quot;, &quot;tests/apply/virtual/should_realize_query_array.rb&quot;, &quot;tests/concurrency/ticket_2659_concurrent_catalog_requests.rb&quot;, &quot;tests/config/apply_file_metadata_specified_in_config.rb&quot;, &quot;tests/config/puppet_manages_own_configuration_in_robust_manner.rb&quot;, &quot;tests/cycle_detection.rb&quot;, &quot;tests/doc/should_print_function_reference.rb&quot;, &quot;tests/doc/ticket_4120_cannot_generate_type_reference.rb&quot;, &quot;tests/environment/can_enumerate_environments.rb&quot;, &quot;tests/environment/cmdline_overrides_environment.rb&quot;, &quot;tests/environment/directory_environment_with_environment_conf.rb&quot;, &quot;tests/environment/dynamic_environments.rb&quot;, &quot;tests/environment/use_agent_environment_when_enc_doesnt_specify.rb&quot;, &quot;tests/environment/use_agent_environment_when_no_enc.rb&quot;, &quot;tests/environment/use_enc_environment.rb&quot;, &quot;tests/environment/use_enc_environment_for_files.rb&quot;, &quot;tests/environment/use_enc_environment_for_pluginsync.rb&quot;, &quot;tests/environment/use_environment_from_environmentpath.rb&quot;, &quot;tests/external_ca_support/apache_external_root_ca.rb&quot;, &quot;tests/face/loadable_from_modules.rb&quot;, &quot;tests/file_hello_world.rb&quot;, &quot;tests/helpful_error_message_when_hostname_not_match_server_certificate.rb&quot;, &quot;tests/language/node_overrides_topscope_when_using_enc.rb&quot;, &quot;tests/language/resource_refs_with_nested_arrays.rb&quot;, &quot;tests/modules/build/build_agent.rb&quot;, &quot;tests/modules/build/build_basic.rb&quot;, &quot;tests/modules/build/build_no_modulefile.rb&quot;, &quot;tests/modules/changes/invalid_module_install_path.rb&quot;, &quot;tests/modules/changes/missing_metadata_json.rb&quot;, &quot;tests/modules/changes/module_with_modified_file.rb&quot;, &quot;tests/modules/changes/module_with_removed_file.rb&quot;, &quot;tests/modules/changes/unmodified_module.rb&quot;, &quot;tests/modules/generate/basic_generate.rb&quot;, &quot;tests/modules/install/already_installed.rb&quot;, &quot;tests/modules/install/already_installed_elsewhere.rb&quot;, &quot;tests/modules/install/already_installed_with_local_changes.rb&quot;, &quot;tests/modules/install/basic_install.rb&quot;, &quot;tests/modules/install/force_ignores_dependencies.rb&quot;, &quot;tests/modules/install/ignoring_dependencies.rb&quot;, &quot;tests/modules/install/nonexistent_directory.rb&quot;, &quot;tests/modules/install/nonexistent_module.rb&quot;, &quot;tests/modules/install/with_cycles.rb&quot;, &quot;tests/modules/install/with_debug.rb&quot;, &quot;tests/modules/install/with_dependencies.rb&quot;, &quot;tests/modules/install/with_environment.rb&quot;, &quot;tests/modules/install/with_existing_module_directory.rb&quot;, &quot;tests/modules/install/with_modulepath.rb&quot;, &quot;tests/modules/install/with_necessary_upgrade.rb&quot;, &quot;tests/modules/install/with_no_dependencies.rb&quot;, &quot;tests/modules/install/with_unnecessary_upgrade.rb&quot;, &quot;tests/modules/install/with_unsatisfied_constraints.rb&quot;, &quot;tests/modules/install/with_version.rb&quot;, &quot;tests/modules/list/with_circular_dependencies.rb&quot;, &quot;tests/modules/list/with_environment.rb&quot;, &quot;tests/modules/list/with_installed_modules.rb&quot;, &quot;tests/modules/list/with_invalid_dependencies.rb&quot;, &quot;tests/modules/list/with_missing_dependencies.rb&quot;, &quot;tests/modules/list/with_modulepath.rb&quot;, &quot;tests/modules/list/with_no_installed_modules.rb&quot;, &quot;tests/modules/list/with_repeated_dependencies.rb&quot;, &quot;tests/modules/search/communication_error.rb&quot;, &quot;tests/modules/search/formatting.rb&quot;, &quot;tests/modules/search/multiple_search_terms.rb&quot;, &quot;tests/modules/search/no_results.rb&quot;, &quot;tests/modules/search/ssl_errors.rb&quot;, &quot;tests/modules/uninstall/using_directory_name.rb&quot;, &quot;tests/modules/uninstall/using_version_filter.rb&quot;, &quot;tests/modules/uninstall/with_active_dependency.rb&quot;, &quot;tests/modules/uninstall/with_environment.rb&quot;, &quot;tests/modules/uninstall/with_module_installed.rb&quot;, &quot;tests/modules/uninstall/with_modulepath.rb&quot;, &quot;tests/modules/uninstall/with_multiple_modules_installed.rb&quot;, &quot;tests/modules/upgrade/in_a_secondary_directory.rb&quot;, &quot;tests/modules/upgrade/introducing_new_dependencies.rb&quot;, &quot;tests/modules/upgrade/not_upgradable.rb&quot;, &quot;tests/modules/upgrade/that_was_installed_twice.rb&quot;, &quot;tests/modules/upgrade/to_a_specific_version.rb&quot;, &quot;tests/modules/upgrade/to_installed_version.rb&quot;, &quot;tests/modules/upgrade/with_constraints_on_it.rb&quot;, &quot;tests/modules/upgrade/with_constraints_on_its_dependencies.rb&quot;, &quot;tests/modules/upgrade/with_environment.rb&quot;, &quot;tests/modules/upgrade/with_local_changes.rb&quot;, &quot;tests/modules/upgrade/with_scattered_dependencies.rb&quot;, &quot;tests/modules/upgrade/with_update_available.rb&quot;, &quot;tests/node/check_woy_cache_works.rb&quot;, &quot;tests/ordering/master_agent_application.rb&quot;, &quot;tests/parser_functions/hiera/lookup_data.rb&quot;, &quot;tests/parser_functions/hiera_array/lookup_data.rb&quot;, &quot;tests/parser_functions/hiera_hash/lookup_data.rb&quot;, &quot;tests/pluginsync/7316_apps_should_be_available_via_pluginsync.rb&quot;, &quot;tests/pluginsync/7316_faces_with_app_stubs_should_be_available_via_pluginsync.rb&quot;, &quot;tests/pluginsync/feature/pluginsync_should_sync_features.rb&quot;, &quot;tests/pluginsync/files_earlier_in_modulepath_take_precendence.rb&quot;, &quot;tests/puppet_apply_a_file_should_create_a_file_and_report_the_md5.rb&quot;, &quot;tests/puppet_apply_basics.rb&quot;, &quot;tests/puppet_apply_should_show_a_notice.rb&quot;, &quot;tests/puppet_master_help_should_mention_puppet_master.rb&quot;, &quot;tests/reports/submission.rb&quot;, &quot;tests/resource/cron/should_allow_changing_parameters.rb&quot;, &quot;tests/resource/cron/should_be_idempotent.rb&quot;, &quot;tests/resource/cron/should_create_cron.rb&quot;, &quot;tests/resource/cron/should_match_existing.rb&quot;, &quot;tests/resource/cron/should_remove_cron.rb&quot;, &quot;tests/resource/cron/should_remove_leading_and_trailing_whitespace.rb&quot;, &quot;tests/resource/cron/should_remove_matching.rb&quot;, &quot;tests/resource/cron/should_update_existing.rb&quot;, &quot;tests/resource/exec/accept_multi-line_commands.rb&quot;, &quot;tests/resource/exec/should_not_run_command_creates.rb&quot;, &quot;tests/resource/exec/should_run_command.rb&quot;, &quot;tests/resource/exec/should_set_path.rb&quot;, &quot;tests/resource/file/content_attribute.rb&quot;, &quot;tests/resource/file/should_create_directory.rb&quot;, &quot;tests/resource/file/should_create_empty.rb&quot;, &quot;tests/resource/file/should_create_symlink.rb&quot;, &quot;tests/resource/file/should_default_mode.rb&quot;, &quot;tests/resource/file/should_remove_dir.rb&quot;, &quot;tests/resource/file/should_remove_file.rb&quot;, &quot;tests/resource/file/source_attribute.rb&quot;, &quot;tests/resource/file/symbolic_modes.rb&quot;, &quot;tests/resource/file/ticket_7680-follow-symlinks.rb&quot;, &quot;tests/resource/file/ticket_8740_should_not_enumerate_root_directory.rb&quot;, &quot;tests/resource/group/should_create.rb&quot;, &quot;tests/resource/group/should_destroy.rb&quot;, &quot;tests/resource/group/should_modify_gid.rb&quot;, &quot;tests/resource/group/should_not_create_existing.rb&quot;, &quot;tests/resource/group/should_not_destoy_unexisting.rb&quot;, &quot;tests/resource/group/should_query.rb&quot;, &quot;tests/resource/group/should_query_all.rb&quot;, &quot;tests/resource/host/should_create.rb&quot;, &quot;tests/resource/host/should_create_aliases.rb&quot;, &quot;tests/resource/host/should_destroy.rb&quot;, &quot;tests/resource/host/should_modify_alias.rb&quot;, &quot;tests/resource/host/should_modify_ip.rb&quot;, &quot;tests/resource/host/should_not_create_existing.rb&quot;, &quot;tests/resource/host/should_query.rb&quot;, &quot;tests/resource/host/should_query_all.rb&quot;, &quot;tests/resource/host/ticket_4131_should_not_create_without_ip.rb&quot;, &quot;tests/resource/package/does_not_exist.rb&quot;, &quot;tests/resource/package/ips/basic_tests.rb&quot;, &quot;tests/resource/package/ips/should_be_holdable.rb&quot;, &quot;tests/resource/package/ips/should_be_idempotent.rb&quot;, &quot;tests/resource/package/ips/should_be_updatable.rb&quot;, &quot;tests/resource/package/ips/should_be_versionable.rb&quot;, &quot;tests/resource/package/ips/should_create.rb&quot;, &quot;tests/resource/package/ips/should_query.rb&quot;, &quot;tests/resource/package/ips/should_remove.rb&quot;, &quot;tests/resource/scheduled_task/should_create.rb&quot;, &quot;tests/resource/scheduled_task/should_destroy.rb&quot;, &quot;tests/resource/scheduled_task/should_modify.rb&quot;, &quot;tests/resource/scheduled_task/should_query.rb&quot;, &quot;tests/resource/service/AIX_service_provider.rb&quot;, &quot;tests/resource/service/should_not_change_the_system.rb&quot;, &quot;tests/resource/service/smf_basic_tests.rb&quot;, &quot;tests/resource/service/smf_should_be_idempotent.rb&quot;, &quot;tests/resource/service/smf_should_create.rb&quot;, &quot;tests/resource/service/smf_should_query.rb&quot;, &quot;tests/resource/service/smf_should_stop.rb&quot;, &quot;tests/resource/service/ticket_14297_handle_upstart.rb&quot;, &quot;tests/resource/service/ticket_4123_should_list_all_running_redhat.rb&quot;, &quot;tests/resource/service/ticket_4124_should_list_all_disabled.rb&quot;, &quot;tests/resource/tidy/should_remove_old_files.rb&quot;, &quot;tests/resource/user/should_create.rb&quot;, &quot;tests/resource/user/should_create_with_gid.rb&quot;, &quot;tests/resource/user/should_destroy.rb&quot;, &quot;tests/resource/user/should_modify.rb&quot;, &quot;tests/resource/user/should_modify_gid.rb&quot;, &quot;tests/resource/user/should_modify_when_not_managing_home.rb&quot;, &quot;tests/resource/user/should_modify_while_managing_home.rb&quot;, &quot;tests/resource/user/should_not_create_existing.rb&quot;, &quot;tests/resource/user/should_not_destoy_unexisting.rb&quot;, &quot;tests/resource/user/should_query.rb&quot;, &quot;tests/resource/user/should_query_all.rb&quot;, &quot;tests/resource/zfs/basic_tests.rb&quot;, &quot;tests/resource/zfs/should_be_idempotent.rb&quot;, &quot;tests/resource/zfs/should_create.rb&quot;, &quot;tests/resource/zfs/should_query.rb&quot;, &quot;tests/resource/zfs/should_remove.rb&quot;, &quot;tests/resource/zone/dataset.rb&quot;, &quot;tests/resource/zone/set_ip.rb&quot;, &quot;tests/resource/zone/set_path.rb&quot;, &quot;tests/resource/zone/should_be_created_and_removed.rb&quot;, &quot;tests/resource/zone/should_be_idempotent.rb&quot;, &quot;tests/resource/zone/statemachine.rb&quot;, &quot;tests/resource/zone/stepstates.rb&quot;, &quot;tests/resource/zone/ticket_4840_should_create_zone_with_zpool.rb&quot;, &quot;tests/resource/zpool/basic_tests.rb&quot;, &quot;tests/resource/zpool/should_be_idempotent.rb&quot;, &quot;tests/resource/zpool/should_create.rb&quot;, &quot;tests/resource/zpool/should_query.rb&quot;, &quot;tests/resource/zpool/should_remove.rb&quot;, &quot;tests/security/cve-2013-1640_facter_string.rb&quot;, &quot;tests/security/cve-2013-1652_improper_query_params.rb&quot;, &quot;tests/security/cve-2013-1652_poison_other_node_cache.rb&quot;, &quot;tests/security/cve-2013-1653_puppet_kick.rb&quot;, &quot;tests/security/cve-2013-1654_sslv2_downgrade_agent.rb&quot;, &quot;tests/security/cve-2013-1654_sslv2_downgrade_master.rb&quot;, &quot;tests/security/cve-2013-2275_report_acl.rb&quot;, &quot;tests/security/cve-2013-3567_yaml_deserialization_again.rb&quot;, &quot;tests/security/cve-2013-3567_yaml_parameter_deserialization.rb&quot;, &quot;tests/security/cve-2013-4761_injection_of_class_names_loading_code.rb&quot;, &quot;tests/security/cve-2013-4761_resource_type.rb&quot;, &quot;tests/ssl/autosign_command.rb&quot;, &quot;tests/ssl/certificate_extensions.rb&quot;, &quot;tests/ssl/puppet_cert_generate_and_autosign.rb&quot;, &quot;tests/stages/ticket_4655_default_stage_for_classes.rb&quot;, &quot;tests/store_configs/enc_provides_node_when_storeconfigs_enabled.rb&quot;, &quot;tests/ticket_12572_no_last_run_summary_diff.rb&quot;, &quot;tests/ticket_13948_lib_dir_hook_should_be_called_on_initialization.rb&quot;, &quot;tests/ticket_15560_managehome.rb&quot;, &quot;tests/ticket_15717_puppet_kick.rb&quot;, &quot;tests/ticket_17458_puppet_command_prints_help.rb&quot;, &quot;tests/ticket_3172_puppet_kick_with_hostnames_on_the_command_line.rb&quot;, &quot;tests/ticket_3360_allow_duplicate_csr_with_option_set.rb&quot;, &quot;tests/ticket_3656_requiring_multiple_resources.rb&quot;, &quot;tests/ticket_3961_puppet_ca_should_produce_certs.rb&quot;, &quot;tests/ticket_4059_ralsh_can_change_settings.rb&quot;, &quot;tests/ticket_4110_puppet_apply_should_not_create_a_user_that_already_exists.rb&quot;, &quot;tests/ticket_4233_resource_with_a_newline.rb&quot;, &quot;tests/ticket_4285_file_resource_fail_when_name_defined_instead_of_path.rb&quot;, &quot;tests/ticket_4287_undefined_method_evaluate_match_when_function_call_used_in_an_if_statement.rb&quot;, &quot;tests/ticket_4289_facter_should_recognize_OEL_operatingsystemrelease.rb&quot;, &quot;tests/ticket_4293_define_and_use_a_define_within_a_class.rb&quot;, &quot;tests/ticket_4404_should_allow_stage_main_on_left_side_of_relationship.rb&quot;, &quot;tests/ticket_4423_cannot_declare_two_parameterized_classes.rb&quot;, &quot;tests/ticket_5477_master_not_dectect_sitepp.rb&quot;, &quot;tests/ticket_6418_file_recursion_and_audit.rb&quot;, &quot;tests/ticket_6541_invalid_filebucket_files.rb&quot;, &quot;tests/ticket_6710_relationship_syntax_should_work_with_title_arrays.rb&quot;, &quot;tests/ticket_6734_6256_5530_5503.rb&quot;, &quot;tests/ticket_6857_password-disclosure-when-changing-a-users-password.rb&quot;, &quot;tests/ticket_6907_use_provider_in_same_run_it_becomes_suitable.rb&quot;, &quot;tests/ticket_6928_puppet_master_parse_fails.rb&quot;, &quot;tests/ticket_7101_template_compile.rb&quot;, &quot;tests/ticket_7117_broke_env_criteria_authconf.rb&quot;, &quot;tests/ticket_7139_puppet_resource_file_qualified_paths.rb&quot;, &quot;tests/ticket_7165_no_refresh_after_starting_service.rb&quot;, &quot;tests/ticket_7728_don't_log_whits_on_failure.rb&quot;, &quot;tests/ticket_9862_puppet_runs_without_service_user_or_group_present.rb&quot;, &quot;tests/windows/eventlog.rb&quot;]"/>
      <property name="xml" value="true"/>
      <property name="pre_suite" value="[&quot;setup/packages/pre-suite/010_Install.rb&quot;, &quot;setup/common/pre-suite/025_StopFirewall.rb&quot;, &quot;setup/common/pre-suite/040_ValidateSignCert.rb&quot;, &quot;setup/common/pre-suite/100_SetParser.rb&quot;]"/>
      <property name="service-wait" value="true"/>
      <property name="command_line" value="/Users/anode/puppet/acceptance/.bundle/gems/bin/beaker --options-file merged_options.rb"/>
      <property name="HOSTS" value="{:&quot;centos6-64-1&quot;=&gt;{:roles=&gt;[&quot;agent&quot;, &quot;master&quot;, &quot;dashboard&quot;, &quot;database&quot;, &quot;default&quot;], :hypervisor=&gt;&quot;vcloud&quot;, :pe_dir=&gt;nil, :pe_ver=&gt;nil, :pe_upgrade_dir=&gt;nil, :pe_upgrade_ver=&gt;nil, :platform=&gt;&quot;el-6-x86_64&quot;, :template=&gt;&quot;Delivery/Quality Assurance/Templates/vCloud/centos-6-x86_64&quot;}, :&quot;centos6-64-2&quot;=&gt;{:roles=&gt;[&quot;agent&quot;], :hypervisor=&gt;&quot;vcloud&quot;, :pe_dir=&gt;nil, :pe_ver=&gt;nil, :pe_upgrade_dir=&gt;nil, :pe_upgrade_ver=&gt;nil, :platform=&gt;&quot;el-6-x86_64&quot;, :template=&gt;&quot;Delivery/Quality Assurance/Templates/vCloud/centos-6-x86_64&quot;}}"/>
      <property name="nfs_server" value="none"/>
      <property name="datastore" value="instance0"/>
      <property name="folder" value="Delivery/Quality Assurance/Enterprise/Dynamic"/>
      <property name="resourcepool" value="delivery/Quality Assurance/Enterprise/Dynamic"/>
      <property name="pooling_api" value="http://vcloud.delivery.puppetlabs.net/"/>
      <property name="home" value="/Users/anode"/>
      <property name="answers" value="{:q_puppet_enterpriseconsole_auth_user_email=&gt;&quot;admin@example.com&quot;, :q_puppet_enterpriseconsole_auth_password=&gt;&quot;~!@\#$%^*-/ aZ&quot;, :q_puppet_enterpriseconsole_smtp_host=&gt;nil, :q_puppet_enterpriseconsole_smtp_port=&gt;25, :q_puppet_enterpriseconsole_smtp_username=&gt;nil, :q_puppet_enterpriseconsole_smtp_password=&gt;nil, :q_puppet_enterpriseconsole_smtp_use_tls=&gt;&quot;n&quot;, :q_verify_packages=&gt;&quot;y&quot;, :q_puppetdb_password=&gt;&quot;~!@\#$%^*-/ aZ&quot;}"/>
      <property name="load_path" value="[]"/>
      <property name="post_suite" value="[]"/>
      <property name="install" value="[]"/>
      <property name="modules" value="[]"/>
      <property name="logger" value="#&lt;Beaker::Logger:0x007fddc2506278&gt;"/>
    </properties>
    <testcase classname="setup/packages/pre-suite" name="010_Install.rb" time="63.330108">
      <system-out><![CDATA[
Install Packages

  * Install repositories on target machines...
Already fetched repo-configs/el-6-x86_64/puppetlabs-release-el-6.noarch.rpm
Already fetched repo-configs/el-6-x86_64/pl-puppet-1f01baf52c30e24dbbada1f372ce73ae5b384b0f-el-6-x86_64.repo
fetch_remote_dir (url: http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/, dst_dir repo-configs/el-6-x86_64)
Fetching remote directory: http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/
  and saving to repo-configs/el-6-x86_64/x86_64
  using command: wget -nv -P repo-configs/el-6-x86_64 --reject "index.html*","*.gif" --cut-dirs=6 -np -nH --no-check-certificate -r http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/
2014-06-18 12:55:36 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/ [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html" [1]
http://builds.puppetlabs.lan/robots.txt:
2014-06-18 12:55:36 ERROR 404: Not Found.
2014-06-18 12:55:36 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=N;O=D [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=N;O=D" [1]
2014-06-18 12:55:36 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=M;O=A [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=M;O=A" [1]
2014-06-18 12:55:36 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=S;O=A [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=S;O=A" [1]
2014-06-18 12:55:36 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=D;O=A [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=D;O=A" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/puppet-3.6.1.15-1.el6.noarch.rpm [1336476/1336476] -> "repo-configs/el-6-x86_64/x86_64/puppet-3.6.1.15-1.el6.noarch.rpm" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/puppet-server-3.6.1.15-1.el6.noarch.rpm [23572/23572] -> "repo-configs/el-6-x86_64/x86_64/puppet-server-3.6.1.15-1.el6.noarch.rpm" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/ [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=N;O=A [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=N;O=A" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=M;O=D [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=M;O=D" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=S;O=D [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=S;O=D" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=D;O=D [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=D;O=D" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=N;O=D [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=N;O=D" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=M;O=A [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=M;O=A" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=S;O=A [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=S;O=A" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=D;O=A [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=D;O=A" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/0e4e4f46b5a37287a9811011c60ae12735a526ec-other.xml.gz [4880/4880] -> "repo-configs/el-6-x86_64/x86_64/repodata/0e4e4f46b5a37287a9811011c60ae12735a526ec-other.xml.gz" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/1e32afa0570230fdeead7f5d67e3711b29e18070-primary.xml.gz [1389/1389] -> "repo-configs/el-6-x86_64/x86_64/repodata/1e32afa0570230fdeead7f5d67e3711b29e18070-primary.xml.gz" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/7bc892e948592b04adaf1089e8cbe3b70db99edf-primary.sqlite.bz2 [3258/3258] -> "repo-configs/el-6-x86_64/x86_64/repodata/7bc892e948592b04adaf1089e8cbe3b70db99edf-primary.sqlite.bz2" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/720323ef05c2e0822a1676437d922b67a377a7a7-filelists.sqlite.bz2 [12776/12776] -> "repo-configs/el-6-x86_64/x86_64/repodata/720323ef05c2e0822a1676437d922b67a377a7a7-filelists.sqlite.bz2" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/ba9817d9a5ccc62f2ad8a9dc4d04baf096c67d98-filelists.xml.gz [9131/9131] -> "repo-configs/el-6-x86_64/x86_64/repodata/ba9817d9a5ccc62f2ad8a9dc4d04baf096c67d98-filelists.xml.gz" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/f8122e0da80bf28bd0340f0a77a1881d217d1387-other.sqlite.bz2 [8974/8974] -> "repo-configs/el-6-x86_64/x86_64/repodata/f8122e0da80bf28bd0340f0a77a1881d217d1387-other.sqlite.bz2" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/repomd.xml [2508/2508] -> "repo-configs/el-6-x86_64/x86_64/repodata/repomd.xml" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=N;O=A [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=N;O=A" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=M;O=D [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=M;O=D" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=S;O=D [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=S;O=D" [1]
2014-06-18 12:55:37 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=D;O=D [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=D;O=D" [1]
FINISHED --2014-06-18 12:55:37--
Total wall clock time: 0.6s
Downloaded: 27 files, 1.4M in 0.3s (4.05 MB/s)

n6vo88vhlunm0j0 (centos6-64-1) 12:55:37$  rm -rf /root/*.repo; rm -rf /root/*.rpm; rm -rf /root/x86_64  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp repo-configs/el-6-x86_64/puppetlabs-release-el-6.noarch.rpm centos6-64-1:/root {}
localhost $ scp repo-configs/el-6-x86_64/pl-puppet-1f01baf52c30e24dbbada1f372ce73ae5b384b0f-el-6-x86_64.repo centos6-64-1:/root {}
localhost $ scp repo-configs/el-6-x86_64/x86_64 centos6-64-1:/root {}

n6vo88vhlunm0j0 (centos6-64-1) 12:55:38$  mv /root/*.repo /etc/yum.repos.d  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:55:38$  find /etc/yum.repos.d/ -name "*.repo" -exec sed -i "s/baseurl\s*=\s*http:\/\/builds.puppetlabs.lan.*$/baseurl=file:\/\/\/root\/x86_64/" {} \;  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:55:38$  rpm -Uvh --force /root/*.rpm  
warning: /root/puppetlabs-release-el-6.noarch.rpm: Header V4 RSA/SHA1 Signature, key ID 4bd6ec30: NOKEY
Preparing...                ##################################################
puppetlabs-release          ##################################################

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.23 seconds
Already fetched repo-configs/el-6-x86_64/puppetlabs-release-el-6.noarch.rpm
Already fetched repo-configs/el-6-x86_64/pl-puppet-1f01baf52c30e24dbbada1f372ce73ae5b384b0f-el-6-x86_64.repo
fetch_remote_dir (url: http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/, dst_dir repo-configs/el-6-x86_64)
Fetching remote directory: http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/
  and saving to repo-configs/el-6-x86_64/x86_64
  using command: wget -nv -P repo-configs/el-6-x86_64 --reject "index.html*","*.gif" --cut-dirs=6 -np -nH --no-check-certificate -r http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/ [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html" [1]
http://builds.puppetlabs.lan/robots.txt:
2014-06-18 12:55:39 ERROR 404: Not Found.
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=N;O=D [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=N;O=D" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=M;O=A [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=M;O=A" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=S;O=A [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=S;O=A" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=D;O=A [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=D;O=A" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/puppet-3.6.1.15-1.el6.noarch.rpm [1336476/1336476] -> "repo-configs/el-6-x86_64/x86_64/puppet-3.6.1.15-1.el6.noarch.rpm" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/puppet-server-3.6.1.15-1.el6.noarch.rpm [23572/23572] -> "repo-configs/el-6-x86_64/x86_64/puppet-server-3.6.1.15-1.el6.noarch.rpm" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/ [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=N;O=A [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=N;O=A" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=M;O=D [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=M;O=D" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=S;O=D [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=S;O=D" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/?C=D;O=D [1545/1545] -> "repo-configs/el-6-x86_64/x86_64/index.html?C=D;O=D" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=N;O=D [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=N;O=D" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=M;O=A [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=M;O=A" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=S;O=A [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=S;O=A" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=D;O=A [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=D;O=A" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/0e4e4f46b5a37287a9811011c60ae12735a526ec-other.xml.gz [4880/4880] -> "repo-configs/el-6-x86_64/x86_64/repodata/0e4e4f46b5a37287a9811011c60ae12735a526ec-other.xml.gz" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/1e32afa0570230fdeead7f5d67e3711b29e18070-primary.xml.gz [1389/1389] -> "repo-configs/el-6-x86_64/x86_64/repodata/1e32afa0570230fdeead7f5d67e3711b29e18070-primary.xml.gz" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/7bc892e948592b04adaf1089e8cbe3b70db99edf-primary.sqlite.bz2 [3258/3258] -> "repo-configs/el-6-x86_64/x86_64/repodata/7bc892e948592b04adaf1089e8cbe3b70db99edf-primary.sqlite.bz2" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/720323ef05c2e0822a1676437d922b67a377a7a7-filelists.sqlite.bz2 [12776/12776] -> "repo-configs/el-6-x86_64/x86_64/repodata/720323ef05c2e0822a1676437d922b67a377a7a7-filelists.sqlite.bz2" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/ba9817d9a5ccc62f2ad8a9dc4d04baf096c67d98-filelists.xml.gz [9131/9131] -> "repo-configs/el-6-x86_64/x86_64/repodata/ba9817d9a5ccc62f2ad8a9dc4d04baf096c67d98-filelists.xml.gz" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/f8122e0da80bf28bd0340f0a77a1881d217d1387-other.sqlite.bz2 [8974/8974] -> "repo-configs/el-6-x86_64/x86_64/repodata/f8122e0da80bf28bd0340f0a77a1881d217d1387-other.sqlite.bz2" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/repomd.xml [2508/2508] -> "repo-configs/el-6-x86_64/x86_64/repodata/repomd.xml" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=N;O=A [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=N;O=A" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=M;O=D [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=M;O=D" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=S;O=D [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=S;O=D" [1]
2014-06-18 12:55:39 URL:http://builds.puppetlabs.lan/puppet/1f01baf52c30e24dbbada1f372ce73ae5b384b0f/repos/el/6/products/x86_64/repodata/?C=D;O=D [2852/2852] -> "repo-configs/el-6-x86_64/x86_64/repodata/index.html?C=D;O=D" [1]
FINISHED --2014-06-18 12:55:39--
Total wall clock time: 0.5s
Downloaded: 27 files, 1.4M in 0.3s (4.79 MB/s)

t21rjumdkqr2x5d (centos6-64-2) 12:55:39$  rm -rf /root/*.repo; rm -rf /root/*.rpm; rm -rf /root/x86_64  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp repo-configs/el-6-x86_64/puppetlabs-release-el-6.noarch.rpm centos6-64-2:/root {}
localhost $ scp repo-configs/el-6-x86_64/pl-puppet-1f01baf52c30e24dbbada1f372ce73ae5b384b0f-el-6-x86_64.repo centos6-64-2:/root {}
localhost $ scp repo-configs/el-6-x86_64/x86_64 centos6-64-2:/root {}

t21rjumdkqr2x5d (centos6-64-2) 12:55:40$  mv /root/*.repo /etc/yum.repos.d  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:55:40$  find /etc/yum.repos.d/ -name "*.repo" -exec sed -i "s/baseurl\s*=\s*http:\/\/builds.puppetlabs.lan.*$/baseurl=file:\/\/\/root\/x86_64/" {} \;  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:55:40$  rpm -Uvh --force /root/*.rpm  
warning: /root/puppetlabs-release-el-6.noarch.rpm: Header V4 RSA/SHA1 Signature, key ID 4bd6ec30: NOKEY
Preparing...                ##################################################
puppetlabs-release          ##################################################

t21rjumdkqr2x5d (centos6-64-2) executed in 1.86 seconds
Installing puppet-server

n6vo88vhlunm0j0 (centos6-64-1) 12:55:42$  yum -y  install puppet-server  
Loaded plugins: fastestmirror
Determining fastest mirrors
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package puppet-server.noarch 0:3.6.2-1.el6 will be installed
--> Processing Dependency: puppet = 3.6.2-1.el6 for package: puppet-server-3.6.2-1.el6.noarch
--> Running transaction check
---> Package puppet.noarch 0:3.6.2-1.el6 will be installed
--> Processing Dependency: ruby-rgen >= 0.6.5 for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: hiera >= 1.0.0 for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: facter >= 1:1.7.0 for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: ruby-augeas for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: ruby-shadow for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: rubygem-json for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: ruby(selinux) for package: puppet-3.6.2-1.el6.noarch
--> Running transaction check
---> Package facter.x86_64 1:2.0.2-1.el6 will be installed
---> Package hiera.noarch 0:1.3.4-1.el6 will be installed
---> Package libselinux-ruby.x86_64 0:2.0.94-5.3.el6_4.1 will be installed
---> Package ruby-augeas.x86_64 0:0.4.1-3.el6 will be installed
--> Processing Dependency: augeas-libs >= 0.8.0 for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0(AUGEAS_0.12.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0(AUGEAS_0.8.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0(AUGEAS_0.11.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0(AUGEAS_0.1.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0(AUGEAS_0.10.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0()(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
---> Package ruby-rgen.noarch 0:0.6.5-2.el6 will be installed
---> Package ruby-shadow.x86_64 1:2.2.0-2.el6 will be installed
---> Package rubygem-json.x86_64 0:1.5.5-1.el6 will be installed
--> Running transaction check
---> Package augeas-libs.x86_64 0:1.0.0-5.el6_5.1 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package           Arch     Version                 Repository             Size
================================================================================
Installing:
 puppet-server     noarch   3.6.2-1.el6             puppetlabs-products    24 k
Installing for dependencies:
 augeas-libs       x86_64   1.0.0-5.el6_5.1         updates               309 k
 facter            x86_64   1:2.0.2-1.el6           puppetlabs-products    84 k
 hiera             noarch   1.3.4-1.el6             puppetlabs-products    23 k
 libselinux-ruby   x86_64   2.0.94-5.3.el6_4.1      base                   99 k
 puppet            noarch   3.6.2-1.el6             puppetlabs-products   1.3 M
 ruby-augeas       x86_64   0.4.1-3.el6             puppetlabs-deps        21 k
 ruby-rgen         noarch   0.6.5-2.el6             puppetlabs-deps       237 k
 ruby-shadow       x86_64   1:2.2.0-2.el6           puppetlabs-deps        13 k
 rubygem-json      x86_64   1.5.5-1.el6             puppetlabs-deps       763 k

Transaction Summary
================================================================================
Install      10 Package(s)

Total download size: 2.8 M
Installed size: 3.5 M
Downloading Packages:
--------------------------------------------------------------------------------
Total                                           1.9 MB/s | 2.8 MB     00:01     
warning: rpmts_HdrFromFdno: Header V4 RSA/SHA512 Signature, key ID 4bd6ec30: NOKEY
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-puppetlabs
Importing GPG key 0x4BD6EC30:
 Userid : Puppet Labs Release Key (Puppet Labs Release Key) <info@puppetlabs.com>
 Package: puppetlabs-release-6-10.noarch (installed)
 From   : /etc/pki/rpm-gpg/RPM-GPG-KEY-puppetlabs
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
Warning: RPMDB altered outside of yum.

  Installing : rubygem-json-1.5.5-1.el6.x86_64                             1/10 

  Installing : hiera-1.3.4-1.el6.noarch                                    2/10 

  Installing : augeas-libs-1.0.0-5.el6_5.1.x86_64                          3/10 

  Installing : ruby-augeas-0.4.1-3.el6.x86_64                              4/10 

  Installing : 1:facter-2.0.2-1.el6.x86_64                                 5/10 

  Installing : libselinux-ruby-2.0.94-5.3.el6_4.1.x86_64                   6/10 

  Installing : 1:ruby-shadow-2.2.0-2.el6.x86_64                            7/10 

  Installing : ruby-rgen-0.6.5-2.el6.noarch                                8/10 

  Installing : puppet-3.6.2-1.el6.noarch                                   9/10 

  Installing : puppet-server-3.6.2-1.el6.noarch                           10/10 

  Verifying  : ruby-rgen-0.6.5-2.el6.noarch                                1/10 

  Verifying  : 1:ruby-shadow-2.2.0-2.el6.x86_64                            2/10 

  Verifying  : puppet-server-3.6.2-1.el6.noarch                            3/10 

  Verifying  : libselinux-ruby-2.0.94-5.3.el6_4.1.x86_64                   4/10 

  Verifying  : 1:facter-2.0.2-1.el6.x86_64                                 5/10 

  Verifying  : rubygem-json-1.5.5-1.el6.x86_64                             6/10 

  Verifying  : augeas-libs-1.0.0-5.el6_5.1.x86_64                          7/10 

  Verifying  : puppet-3.6.2-1.el6.noarch                                   8/10 

  Verifying  : ruby-augeas-0.4.1-3.el6.x86_64                              9/10 

  Verifying  : hiera-1.3.4-1.el6.noarch                                   10/10 

Installed:
  puppet-server.noarch 0:3.6.2-1.el6                                            

Dependency Installed:
  augeas-libs.x86_64 0:1.0.0-5.el6_5.1                                          
  facter.x86_64 1:2.0.2-1.el6                                                   
  hiera.noarch 0:1.3.4-1.el6                                                    
  libselinux-ruby.x86_64 0:2.0.94-5.3.el6_4.1                                   
  puppet.noarch 0:3.6.2-1.el6                                                   
  ruby-augeas.x86_64 0:0.4.1-3.el6                                              
  ruby-rgen.noarch 0:0.6.5-2.el6                                                
  ruby-shadow.x86_64 1:2.2.0-2.el6                                              
  rubygem-json.x86_64 0:1.5.5-1.el6                                             

Complete!

n6vo88vhlunm0j0 (centos6-64-1) executed in 35.02 seconds
Installing puppet

n6vo88vhlunm0j0 (centos6-64-1) 12:56:17$  yum -y  install puppet  
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Setting up Install Process
Package puppet-3.6.2-1.el6.noarch already installed and latest version
Nothing to do

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.06 seconds
Installing puppet

t21rjumdkqr2x5d (centos6-64-2) 12:56:18$  yum -y  install puppet  
Loaded plugins: fastestmirror
Determining fastest mirrors
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package puppet.noarch 0:3.6.2-1.el6 will be installed
--> Processing Dependency: ruby-rgen >= 0.6.5 for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: hiera >= 1.0.0 for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: facter >= 1:1.7.0 for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: ruby-augeas for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: ruby-shadow for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: rubygem-json for package: puppet-3.6.2-1.el6.noarch
--> Processing Dependency: ruby(selinux) for package: puppet-3.6.2-1.el6.noarch
--> Running transaction check
---> Package facter.x86_64 1:2.0.2-1.el6 will be installed
---> Package hiera.noarch 0:1.3.4-1.el6 will be installed
---> Package libselinux-ruby.x86_64 0:2.0.94-5.3.el6_4.1 will be installed
---> Package ruby-augeas.x86_64 0:0.4.1-3.el6 will be installed
--> Processing Dependency: augeas-libs >= 0.8.0 for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0(AUGEAS_0.12.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0(AUGEAS_0.8.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0(AUGEAS_0.11.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0(AUGEAS_0.1.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0(AUGEAS_0.10.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
--> Processing Dependency: libaugeas.so.0()(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
---> Package ruby-rgen.noarch 0:0.6.5-2.el6 will be installed
---> Package ruby-shadow.x86_64 1:2.2.0-2.el6 will be installed
---> Package rubygem-json.x86_64 0:1.5.5-1.el6 will be installed
--> Running transaction check
---> Package augeas-libs.x86_64 0:1.0.0-5.el6_5.1 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package           Arch     Version                 Repository             Size
================================================================================
Installing:
 puppet            noarch   3.6.2-1.el6             puppetlabs-products   1.3 M
Installing for dependencies:
 augeas-libs       x86_64   1.0.0-5.el6_5.1         updates               309 k
 facter            x86_64   1:2.0.2-1.el6           puppetlabs-products    84 k
 hiera             noarch   1.3.4-1.el6             puppetlabs-products    23 k
 libselinux-ruby   x86_64   2.0.94-5.3.el6_4.1      base                   99 k
 ruby-augeas       x86_64   0.4.1-3.el6             puppetlabs-deps        21 k
 ruby-rgen         noarch   0.6.5-2.el6             puppetlabs-deps       237 k
 ruby-shadow       x86_64   1:2.2.0-2.el6           puppetlabs-deps        13 k
 rubygem-json      x86_64   1.5.5-1.el6             puppetlabs-deps       763 k

Transaction Summary
================================================================================
Install       9 Package(s)

Total download size: 2.8 M
Installed size: 3.5 M
Downloading Packages:
--------------------------------------------------------------------------------
Total                                           1.9 MB/s | 2.8 MB     00:01     
warning: rpmts_HdrFromFdno: Header V4 RSA/SHA512 Signature, key ID 4bd6ec30: NOKEY
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-puppetlabs
Importing GPG key 0x4BD6EC30:
 Userid : Puppet Labs Release Key (Puppet Labs Release Key) <info@puppetlabs.com>
 Package: puppetlabs-release-6-10.noarch (installed)
 From   : /etc/pki/rpm-gpg/RPM-GPG-KEY-puppetlabs
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
Warning: RPMDB altered outside of yum.

  Installing : rubygem-json-1.5.5-1.el6.x86_64                              1/9 

  Installing : hiera-1.3.4-1.el6.noarch                                     2/9 

  Installing : augeas-libs-1.0.0-5.el6_5.1.x86_64                           3/9 

  Installing : ruby-augeas-0.4.1-3.el6.x86_64                               4/9 

  Installing : 1:ruby-shadow-2.2.0-2.el6.x86_64                             5/9 

  Installing : libselinux-ruby-2.0.94-5.3.el6_4.1.x86_64                    6/9 

  Installing : 1:facter-2.0.2-1.el6.x86_64                                  7/9 

  Installing : ruby-rgen-0.6.5-2.el6.noarch                                 8/9 

  Installing : puppet-3.6.2-1.el6.noarch                                    9/9 

  Verifying  : ruby-rgen-0.6.5-2.el6.noarch                                 1/9 

  Verifying  : 1:facter-2.0.2-1.el6.x86_64                                  2/9 

  Verifying  : libselinux-ruby-2.0.94-5.3.el6_4.1.x86_64                    3/9 

  Verifying  : 1:ruby-shadow-2.2.0-2.el6.x86_64                             4/9 

  Verifying  : rubygem-json-1.5.5-1.el6.x86_64                              5/9 

  Verifying  : augeas-libs-1.0.0-5.el6_5.1.x86_64                           6/9 

  Verifying  : puppet-3.6.2-1.el6.noarch                                    7/9 

  Verifying  : ruby-augeas-0.4.1-3.el6.x86_64                               8/9 

  Verifying  : hiera-1.3.4-1.el6.noarch                                     9/9 

Installed:
  puppet.noarch 0:3.6.2-1.el6                                                   

Dependency Installed:
  augeas-libs.x86_64 0:1.0.0-5.el6_5.1                                          
  facter.x86_64 1:2.0.2-1.el6                                                   
  hiera.noarch 0:1.3.4-1.el6                                                    
  libselinux-ruby.x86_64 0:2.0.94-5.3.el6_4.1                                   
  ruby-augeas.x86_64 0:0.4.1-3.el6                                              
  ruby-rgen.noarch 0:0.6.5-2.el6                                                
  ruby-shadow.x86_64 1:2.2.0-2.el6                                              
  rubygem-json.x86_64 0:1.5.5-1.el6                                             

Complete!

t21rjumdkqr2x5d (centos6-64-2) executed in 20.90 seconds
]]></system-out>
      <system-err><![CDATA[warning: /root/puppetlabs-release-el-6.noarch.rpm: Header V4 RSA/SHA1 Signature, key ID 4bd6ec30: NOKEY
]]></system-err>
    </testcase>
    <testcase classname="setup/common/pre-suite" name="025_StopFirewall.rb" time="4.085913">
      <system-out><![CDATA[
Stop firewall

n6vo88vhlunm0j0 (centos6-64-1) 12:56:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  service iptables ensure=stopped
service { 'iptables':
  ensure => 'stopped',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.95 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:56:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  service iptables ensure=stopped
service { 'iptables':
  ensure => 'stopped',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 2.14 seconds
]]></system-out>
      <system-err><![CDATA[]]></system-err>
    </testcase>
    <testcase classname="setup/common/pre-suite" name="040_ValidateSignCert.rb" time="18.973093">
      <system-out><![CDATA[
Validate Sign Cert

n6vo88vhlunm0j0 (centos6-64-1) 12:56:43$  facter hostname  
n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:56:43$  facter fqdn  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

  * Clear SSL on all hosts

n6vo88vhlunm0j0 (centos6-64-1) 12:56:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:56:44$  rm -rf '/var/lib/puppet/ssl'  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:56:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.55 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:56:45$  rm -rf '/var/lib/puppet/ssl'  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * Master: Start Puppet Master

n6vo88vhlunm0j0 (centos6-64-1) 12:56:45$  mktemp -dt 040_ValidateSignCert.rb.XXXXXX  
/tmp/040_ValidateSignCert.rb.qRlaaG

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:56:45$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:56:45$  cp /etc/puppet/puppet.conf /tmp/040_ValidateSignCert.rb.qRlaaG/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:56:45$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1hujz6v centos6-64-1:/tmp/040_ValidateSignCert.rb.qRlaaG/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:56:45$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[main]
dns_alt_names = puppet,n6vo88vhlunm0j0,n6vo88vhlunm0j0.delivery.puppetlabs.net
verbose = true
daemonize = true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:56:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 5.40 seconds
Waiting for the puppet master to start
The puppet master has started

  * Agents: Run agent --test first time to gen CSR

t21rjumdkqr2x5d (centos6-64-2) 12:56:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --test --server n6vo88vhlunm0j0  
Info: Creating a new SSL key for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Caching certificate for ca
Info: csr_attributes file loading from /etc/puppet/csr_attributes.yaml
Info: Creating a new SSL certificate request for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Certificate Request fingerprint (SHA256): 83:B2:CB:08:35:50:9F:1E:31:23:0E:16:B1:E7:D0:AE:DC:02:C0:CB:B0:DD:7F:DD:5C:4A:C0:0F:F0:05:25:E0
Info: Caching certificate for ca
Exiting; no certificate found and waitforcert is disabled

t21rjumdkqr2x5d (centos6-64-2) executed in 2.41 seconds
Exited: 1

  * Master: sign all certs

n6vo88vhlunm0j0 (centos6-64-1) 12:56:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert --sign --all  
Notice: Signed certificate request for t21rjumdkqr2x5d.delivery.puppetlabs.net
Notice: Removing file Puppet::SSL::CertificateRequest t21rjumdkqr2x5d.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/requests/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.19 seconds

  * Agents: Run agent --test second time to obtain signed cert

n6vo88vhlunm0j0 (centos6-64-1) 12:56:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --test --server n6vo88vhlunm0j0  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121417'
Notice: Finished catalog run in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.77 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:56:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --test --server n6vo88vhlunm0j0  
Info: Caching certificate for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Caching certificate_revocation_list for ca
Info: Caching certificate for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121417'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.38 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:01$  if [ -f '/tmp/040_ValidateSignCert.rb.qRlaaG/puppet.conf.bak' ]; then cat '/tmp/040_ValidateSignCert.rb.qRlaaG/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/040_ValidateSignCert.rb.qRlaaG/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:01$  cat `puppet master --configprint pidfile`  
1926
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:01$  kill 1926  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:01$  kill -0 1926  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:02$  kill -0 1926  
bash: line 0: kill: (1926) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
Exited: 1
]]></system-out>
      <system-err><![CDATA[]]></system-err>
    </testcase>
    <testcase classname="setup/common/pre-suite" name="100_SetParser.rb" time="0.000234">
      <system-out><![CDATA[
add parser= to all puppet.conf (only if $PARSER is set)
]]></system-out>
    </testcase>
  </testsuite>
<testsuite name="tests" tests="264" errors="0" failures="0" skip="48" pending="1" time="3191.613924"><properties><property name="project" value="Beaker"/><property name="department" value="anode"/><property name="validate" value="true"/><property name="jenkins_build_url" value=""/><property name="forge_host" value="api-forge-aio01-petest.puppetlabs.com"/><property name="log_level" value="debug"/><property name="trace_limit" value="10"/><property name="hosts_file" value="hosts.cfg"/><property name="options_file" value="merged_options.rb"/><property name="type" value="git"/><property name="provision" value="true"/><property name="preserve_hosts" value="onfail"/><property name="root_keys" value="true"/><property name="quiet" value="false"/><property name="project_root" value="/Users/anode/beaker/lib/beaker"/><property name="xml_dir" value="junit"/><property name="xml_file" value="beaker_junit.xml"/><property name="xml_stylesheet" value="junit.xsl"/><property name="log_dir" value="log"/><property name="color" value="false"/><property name="dry_run" value="false"/><property name="timeout" value="1200"/><property name="fail_mode" value="slow"/><property name="timesync" value="true"/><property name="repo_proxy" value="true"/><property name="package_proxy" value="false"/><property name="add_el_extras" value="false"/><property name="add_master_entry" value="false"/><property name="consoleport" value="443"/><property name="pe_dir" value="http://neptune.puppetlabs.lan/3.3/ci-ready/"/><property name="pe_version_file" value="LATEST"/><property name="pe_version_file_win" value="LATEST-win"/><property name="dot_fog" value="/Users/anode/.fog"/><property name="ec2_yaml" value="config/image_templates/ec2.yaml"/><property name="help" value="false"/><property name="ssh" value="{:config=&gt;false, :paranoid=&gt;false, :timeout=&gt;300, :auth_methods=&gt;[&quot;publickey&quot;], :port=&gt;22, :forward_agent=&gt;true, :keys=&gt;[&quot;/Users/anode/.ssh/id_rsa-acceptance&quot;], :user_known_hosts_file=&gt;&quot;/Users/anode/.ssh/known_hosts&quot;}"/><property name="helper" value="[&quot;lib/helper.rb&quot;]"/><property name="tests" value="[&quot;tests/agent/agent_disable_lockfile.rb&quot;, &quot;tests/agent/fallback_to_cached_catalog.rb&quot;, &quot;tests/aix/aix_package_provider.rb&quot;, &quot;tests/aix/nim_package_provider.rb&quot;, &quot;tests/allow_arbitrary_node_name_fact_for_agent.rb&quot;, &quot;tests/allow_arbitrary_node_name_fact_for_apply.rb&quot;, &quot;tests/allow_arbitrary_node_name_for_agent.rb&quot;, &quot;tests/allow_arbitrary_node_name_for_apply.rb&quot;, &quot;tests/allow_symlinks_as_config_directories.rb&quot;, &quot;tests/apply/classes/parameterized_classes.rb&quot;, &quot;tests/apply/classes/should_allow_param_override.rb&quot;, &quot;tests/apply/classes/should_allow_param_undef_override.rb&quot;, &quot;tests/apply/classes/should_include_resources_from_class.rb&quot;, &quot;tests/apply/classes/should_not_auto_include_resources_from_class.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_else.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_elsif.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_empty.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_false.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_if.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_strings_true.rb&quot;, &quot;tests/apply/conditionals/should_evaluate_undef.rb&quot;, &quot;tests/apply/hashes/should_not_reassign.rb&quot;, &quot;tests/apply/virtual/should_realize.rb&quot;, &quot;tests/apply/virtual/should_realize_complex_query.rb&quot;, &quot;tests/apply/virtual/should_realize_many.rb&quot;, &quot;tests/apply/virtual/should_realize_query.rb&quot;, &quot;tests/apply/virtual/should_realize_query_array.rb&quot;, &quot;tests/concurrency/ticket_2659_concurrent_catalog_requests.rb&quot;, &quot;tests/config/apply_file_metadata_specified_in_config.rb&quot;, &quot;tests/config/puppet_manages_own_configuration_in_robust_manner.rb&quot;, &quot;tests/cycle_detection.rb&quot;, &quot;tests/doc/should_print_function_reference.rb&quot;, &quot;tests/doc/ticket_4120_cannot_generate_type_reference.rb&quot;, &quot;tests/environment/can_enumerate_environments.rb&quot;, &quot;tests/environment/cmdline_overrides_environment.rb&quot;, &quot;tests/environment/directory_environment_with_environment_conf.rb&quot;, &quot;tests/environment/dynamic_environments.rb&quot;, &quot;tests/environment/use_agent_environment_when_enc_doesnt_specify.rb&quot;, &quot;tests/environment/use_agent_environment_when_no_enc.rb&quot;, &quot;tests/environment/use_enc_environment.rb&quot;, &quot;tests/environment/use_enc_environment_for_files.rb&quot;, &quot;tests/environment/use_enc_environment_for_pluginsync.rb&quot;, &quot;tests/environment/use_environment_from_environmentpath.rb&quot;, &quot;tests/external_ca_support/apache_external_root_ca.rb&quot;, &quot;tests/face/loadable_from_modules.rb&quot;, &quot;tests/file_hello_world.rb&quot;, &quot;tests/helpful_error_message_when_hostname_not_match_server_certificate.rb&quot;, &quot;tests/language/node_overrides_topscope_when_using_enc.rb&quot;, &quot;tests/language/resource_refs_with_nested_arrays.rb&quot;, &quot;tests/modules/build/build_agent.rb&quot;, &quot;tests/modules/build/build_basic.rb&quot;, &quot;tests/modules/build/build_no_modulefile.rb&quot;, &quot;tests/modules/changes/invalid_module_install_path.rb&quot;, &quot;tests/modules/changes/missing_metadata_json.rb&quot;, &quot;tests/modules/changes/module_with_modified_file.rb&quot;, &quot;tests/modules/changes/module_with_removed_file.rb&quot;, &quot;tests/modules/changes/unmodified_module.rb&quot;, &quot;tests/modules/generate/basic_generate.rb&quot;, &quot;tests/modules/install/already_installed.rb&quot;, &quot;tests/modules/install/already_installed_elsewhere.rb&quot;, &quot;tests/modules/install/already_installed_with_local_changes.rb&quot;, &quot;tests/modules/install/basic_install.rb&quot;, &quot;tests/modules/install/force_ignores_dependencies.rb&quot;, &quot;tests/modules/install/ignoring_dependencies.rb&quot;, &quot;tests/modules/install/nonexistent_directory.rb&quot;, &quot;tests/modules/install/nonexistent_module.rb&quot;, &quot;tests/modules/install/with_cycles.rb&quot;, &quot;tests/modules/install/with_debug.rb&quot;, &quot;tests/modules/install/with_dependencies.rb&quot;, &quot;tests/modules/install/with_environment.rb&quot;, &quot;tests/modules/install/with_existing_module_directory.rb&quot;, &quot;tests/modules/install/with_modulepath.rb&quot;, &quot;tests/modules/install/with_necessary_upgrade.rb&quot;, &quot;tests/modules/install/with_no_dependencies.rb&quot;, &quot;tests/modules/install/with_unnecessary_upgrade.rb&quot;, &quot;tests/modules/install/with_unsatisfied_constraints.rb&quot;, &quot;tests/modules/install/with_version.rb&quot;, &quot;tests/modules/list/with_circular_dependencies.rb&quot;, &quot;tests/modules/list/with_environment.rb&quot;, &quot;tests/modules/list/with_installed_modules.rb&quot;, &quot;tests/modules/list/with_invalid_dependencies.rb&quot;, &quot;tests/modules/list/with_missing_dependencies.rb&quot;, &quot;tests/modules/list/with_modulepath.rb&quot;, &quot;tests/modules/list/with_no_installed_modules.rb&quot;, &quot;tests/modules/list/with_repeated_dependencies.rb&quot;, &quot;tests/modules/search/communication_error.rb&quot;, &quot;tests/modules/search/formatting.rb&quot;, &quot;tests/modules/search/multiple_search_terms.rb&quot;, &quot;tests/modules/search/no_results.rb&quot;, &quot;tests/modules/search/ssl_errors.rb&quot;, &quot;tests/modules/uninstall/using_directory_name.rb&quot;, &quot;tests/modules/uninstall/using_version_filter.rb&quot;, &quot;tests/modules/uninstall/with_active_dependency.rb&quot;, &quot;tests/modules/uninstall/with_environment.rb&quot;, &quot;tests/modules/uninstall/with_module_installed.rb&quot;, &quot;tests/modules/uninstall/with_modulepath.rb&quot;, &quot;tests/modules/uninstall/with_multiple_modules_installed.rb&quot;, &quot;tests/modules/upgrade/in_a_secondary_directory.rb&quot;, &quot;tests/modules/upgrade/introducing_new_dependencies.rb&quot;, &quot;tests/modules/upgrade/not_upgradable.rb&quot;, &quot;tests/modules/upgrade/that_was_installed_twice.rb&quot;, &quot;tests/modules/upgrade/to_a_specific_version.rb&quot;, &quot;tests/modules/upgrade/to_installed_version.rb&quot;, &quot;tests/modules/upgrade/with_constraints_on_it.rb&quot;, &quot;tests/modules/upgrade/with_constraints_on_its_dependencies.rb&quot;, &quot;tests/modules/upgrade/with_environment.rb&quot;, &quot;tests/modules/upgrade/with_local_changes.rb&quot;, &quot;tests/modules/upgrade/with_scattered_dependencies.rb&quot;, &quot;tests/modules/upgrade/with_update_available.rb&quot;, &quot;tests/node/check_woy_cache_works.rb&quot;, &quot;tests/ordering/master_agent_application.rb&quot;, &quot;tests/parser_functions/hiera/lookup_data.rb&quot;, &quot;tests/parser_functions/hiera_array/lookup_data.rb&quot;, &quot;tests/parser_functions/hiera_hash/lookup_data.rb&quot;, &quot;tests/pluginsync/7316_apps_should_be_available_via_pluginsync.rb&quot;, &quot;tests/pluginsync/7316_faces_with_app_stubs_should_be_available_via_pluginsync.rb&quot;, &quot;tests/pluginsync/feature/pluginsync_should_sync_features.rb&quot;, &quot;tests/pluginsync/files_earlier_in_modulepath_take_precendence.rb&quot;, &quot;tests/puppet_apply_a_file_should_create_a_file_and_report_the_md5.rb&quot;, &quot;tests/puppet_apply_basics.rb&quot;, &quot;tests/puppet_apply_should_show_a_notice.rb&quot;, &quot;tests/puppet_master_help_should_mention_puppet_master.rb&quot;, &quot;tests/reports/submission.rb&quot;, &quot;tests/resource/cron/should_allow_changing_parameters.rb&quot;, &quot;tests/resource/cron/should_be_idempotent.rb&quot;, &quot;tests/resource/cron/should_create_cron.rb&quot;, &quot;tests/resource/cron/should_match_existing.rb&quot;, &quot;tests/resource/cron/should_remove_cron.rb&quot;, &quot;tests/resource/cron/should_remove_leading_and_trailing_whitespace.rb&quot;, &quot;tests/resource/cron/should_remove_matching.rb&quot;, &quot;tests/resource/cron/should_update_existing.rb&quot;, &quot;tests/resource/exec/accept_multi-line_commands.rb&quot;, &quot;tests/resource/exec/should_not_run_command_creates.rb&quot;, &quot;tests/resource/exec/should_run_command.rb&quot;, &quot;tests/resource/exec/should_set_path.rb&quot;, &quot;tests/resource/file/content_attribute.rb&quot;, &quot;tests/resource/file/should_create_directory.rb&quot;, &quot;tests/resource/file/should_create_empty.rb&quot;, &quot;tests/resource/file/should_create_symlink.rb&quot;, &quot;tests/resource/file/should_default_mode.rb&quot;, &quot;tests/resource/file/should_remove_dir.rb&quot;, &quot;tests/resource/file/should_remove_file.rb&quot;, &quot;tests/resource/file/source_attribute.rb&quot;, &quot;tests/resource/file/symbolic_modes.rb&quot;, &quot;tests/resource/file/ticket_7680-follow-symlinks.rb&quot;, &quot;tests/resource/file/ticket_8740_should_not_enumerate_root_directory.rb&quot;, &quot;tests/resource/group/should_create.rb&quot;, &quot;tests/resource/group/should_destroy.rb&quot;, &quot;tests/resource/group/should_modify_gid.rb&quot;, &quot;tests/resource/group/should_not_create_existing.rb&quot;, &quot;tests/resource/group/should_not_destoy_unexisting.rb&quot;, &quot;tests/resource/group/should_query.rb&quot;, &quot;tests/resource/group/should_query_all.rb&quot;, &quot;tests/resource/host/should_create.rb&quot;, &quot;tests/resource/host/should_create_aliases.rb&quot;, &quot;tests/resource/host/should_destroy.rb&quot;, &quot;tests/resource/host/should_modify_alias.rb&quot;, &quot;tests/resource/host/should_modify_ip.rb&quot;, &quot;tests/resource/host/should_not_create_existing.rb&quot;, &quot;tests/resource/host/should_query.rb&quot;, &quot;tests/resource/host/should_query_all.rb&quot;, &quot;tests/resource/host/ticket_4131_should_not_create_without_ip.rb&quot;, &quot;tests/resource/package/does_not_exist.rb&quot;, &quot;tests/resource/package/ips/basic_tests.rb&quot;, &quot;tests/resource/package/ips/should_be_holdable.rb&quot;, &quot;tests/resource/package/ips/should_be_idempotent.rb&quot;, &quot;tests/resource/package/ips/should_be_updatable.rb&quot;, &quot;tests/resource/package/ips/should_be_versionable.rb&quot;, &quot;tests/resource/package/ips/should_create.rb&quot;, &quot;tests/resource/package/ips/should_query.rb&quot;, &quot;tests/resource/package/ips/should_remove.rb&quot;, &quot;tests/resource/scheduled_task/should_create.rb&quot;, &quot;tests/resource/scheduled_task/should_destroy.rb&quot;, &quot;tests/resource/scheduled_task/should_modify.rb&quot;, &quot;tests/resource/scheduled_task/should_query.rb&quot;, &quot;tests/resource/service/AIX_service_provider.rb&quot;, &quot;tests/resource/service/should_not_change_the_system.rb&quot;, &quot;tests/resource/service/smf_basic_tests.rb&quot;, &quot;tests/resource/service/smf_should_be_idempotent.rb&quot;, &quot;tests/resource/service/smf_should_create.rb&quot;, &quot;tests/resource/service/smf_should_query.rb&quot;, &quot;tests/resource/service/smf_should_stop.rb&quot;, &quot;tests/resource/service/ticket_14297_handle_upstart.rb&quot;, &quot;tests/resource/service/ticket_4123_should_list_all_running_redhat.rb&quot;, &quot;tests/resource/service/ticket_4124_should_list_all_disabled.rb&quot;, &quot;tests/resource/tidy/should_remove_old_files.rb&quot;, &quot;tests/resource/user/should_create.rb&quot;, &quot;tests/resource/user/should_create_with_gid.rb&quot;, &quot;tests/resource/user/should_destroy.rb&quot;, &quot;tests/resource/user/should_modify.rb&quot;, &quot;tests/resource/user/should_modify_gid.rb&quot;, &quot;tests/resource/user/should_modify_when_not_managing_home.rb&quot;, &quot;tests/resource/user/should_modify_while_managing_home.rb&quot;, &quot;tests/resource/user/should_not_create_existing.rb&quot;, &quot;tests/resource/user/should_not_destoy_unexisting.rb&quot;, &quot;tests/resource/user/should_query.rb&quot;, &quot;tests/resource/user/should_query_all.rb&quot;, &quot;tests/resource/zfs/basic_tests.rb&quot;, &quot;tests/resource/zfs/should_be_idempotent.rb&quot;, &quot;tests/resource/zfs/should_create.rb&quot;, &quot;tests/resource/zfs/should_query.rb&quot;, &quot;tests/resource/zfs/should_remove.rb&quot;, &quot;tests/resource/zone/dataset.rb&quot;, &quot;tests/resource/zone/set_ip.rb&quot;, &quot;tests/resource/zone/set_path.rb&quot;, &quot;tests/resource/zone/should_be_created_and_removed.rb&quot;, &quot;tests/resource/zone/should_be_idempotent.rb&quot;, &quot;tests/resource/zone/statemachine.rb&quot;, &quot;tests/resource/zone/stepstates.rb&quot;, &quot;tests/resource/zone/ticket_4840_should_create_zone_with_zpool.rb&quot;, &quot;tests/resource/zpool/basic_tests.rb&quot;, &quot;tests/resource/zpool/should_be_idempotent.rb&quot;, &quot;tests/resource/zpool/should_create.rb&quot;, &quot;tests/resource/zpool/should_query.rb&quot;, &quot;tests/resource/zpool/should_remove.rb&quot;, &quot;tests/security/cve-2013-1640_facter_string.rb&quot;, &quot;tests/security/cve-2013-1652_improper_query_params.rb&quot;, &quot;tests/security/cve-2013-1652_poison_other_node_cache.rb&quot;, &quot;tests/security/cve-2013-1653_puppet_kick.rb&quot;, &quot;tests/security/cve-2013-1654_sslv2_downgrade_agent.rb&quot;, &quot;tests/security/cve-2013-1654_sslv2_downgrade_master.rb&quot;, &quot;tests/security/cve-2013-2275_report_acl.rb&quot;, &quot;tests/security/cve-2013-3567_yaml_deserialization_again.rb&quot;, &quot;tests/security/cve-2013-3567_yaml_parameter_deserialization.rb&quot;, &quot;tests/security/cve-2013-4761_injection_of_class_names_loading_code.rb&quot;, &quot;tests/security/cve-2013-4761_resource_type.rb&quot;, &quot;tests/ssl/autosign_command.rb&quot;, &quot;tests/ssl/certificate_extensions.rb&quot;, &quot;tests/ssl/puppet_cert_generate_and_autosign.rb&quot;, &quot;tests/stages/ticket_4655_default_stage_for_classes.rb&quot;, &quot;tests/store_configs/enc_provides_node_when_storeconfigs_enabled.rb&quot;, &quot;tests/ticket_12572_no_last_run_summary_diff.rb&quot;, &quot;tests/ticket_13948_lib_dir_hook_should_be_called_on_initialization.rb&quot;, &quot;tests/ticket_15560_managehome.rb&quot;, &quot;tests/ticket_15717_puppet_kick.rb&quot;, &quot;tests/ticket_17458_puppet_command_prints_help.rb&quot;, &quot;tests/ticket_3172_puppet_kick_with_hostnames_on_the_command_line.rb&quot;, &quot;tests/ticket_3360_allow_duplicate_csr_with_option_set.rb&quot;, &quot;tests/ticket_3656_requiring_multiple_resources.rb&quot;, &quot;tests/ticket_3961_puppet_ca_should_produce_certs.rb&quot;, &quot;tests/ticket_4059_ralsh_can_change_settings.rb&quot;, &quot;tests/ticket_4110_puppet_apply_should_not_create_a_user_that_already_exists.rb&quot;, &quot;tests/ticket_4233_resource_with_a_newline.rb&quot;, &quot;tests/ticket_4285_file_resource_fail_when_name_defined_instead_of_path.rb&quot;, &quot;tests/ticket_4287_undefined_method_evaluate_match_when_function_call_used_in_an_if_statement.rb&quot;, &quot;tests/ticket_4289_facter_should_recognize_OEL_operatingsystemrelease.rb&quot;, &quot;tests/ticket_4293_define_and_use_a_define_within_a_class.rb&quot;, &quot;tests/ticket_4404_should_allow_stage_main_on_left_side_of_relationship.rb&quot;, &quot;tests/ticket_4423_cannot_declare_two_parameterized_classes.rb&quot;, &quot;tests/ticket_5477_master_not_dectect_sitepp.rb&quot;, &quot;tests/ticket_6418_file_recursion_and_audit.rb&quot;, &quot;tests/ticket_6541_invalid_filebucket_files.rb&quot;, &quot;tests/ticket_6710_relationship_syntax_should_work_with_title_arrays.rb&quot;, &quot;tests/ticket_6734_6256_5530_5503.rb&quot;, &quot;tests/ticket_6857_password-disclosure-when-changing-a-users-password.rb&quot;, &quot;tests/ticket_6907_use_provider_in_same_run_it_becomes_suitable.rb&quot;, &quot;tests/ticket_6928_puppet_master_parse_fails.rb&quot;, &quot;tests/ticket_7101_template_compile.rb&quot;, &quot;tests/ticket_7117_broke_env_criteria_authconf.rb&quot;, &quot;tests/ticket_7139_puppet_resource_file_qualified_paths.rb&quot;, &quot;tests/ticket_7165_no_refresh_after_starting_service.rb&quot;, &quot;tests/ticket_7728_don't_log_whits_on_failure.rb&quot;, &quot;tests/ticket_9862_puppet_runs_without_service_user_or_group_present.rb&quot;, &quot;tests/windows/eventlog.rb&quot;]"/><property name="xml" value="true"/><property name="pre_suite" value="[&quot;setup/packages/pre-suite/010_Install.rb&quot;, &quot;setup/common/pre-suite/025_StopFirewall.rb&quot;, &quot;setup/common/pre-suite/040_ValidateSignCert.rb&quot;, &quot;setup/common/pre-suite/100_SetParser.rb&quot;]"/><property name="service-wait" value="true"/><property name="command_line" value="/Users/anode/puppet/acceptance/.bundle/gems/bin/beaker --options-file merged_options.rb"/><property name="HOSTS" value="{:&quot;centos6-64-1&quot;=&gt;{:roles=&gt;[&quot;agent&quot;, &quot;master&quot;, &quot;dashboard&quot;, &quot;database&quot;, &quot;default&quot;], :hypervisor=&gt;&quot;vcloud&quot;, :pe_dir=&gt;nil, :pe_ver=&gt;nil, :pe_upgrade_dir=&gt;nil, :pe_upgrade_ver=&gt;nil, :platform=&gt;&quot;el-6-x86_64&quot;, :template=&gt;&quot;Delivery/Quality Assurance/Templates/vCloud/centos-6-x86_64&quot;}, :&quot;centos6-64-2&quot;=&gt;{:roles=&gt;[&quot;agent&quot;], :hypervisor=&gt;&quot;vcloud&quot;, :pe_dir=&gt;nil, :pe_ver=&gt;nil, :pe_upgrade_dir=&gt;nil, :pe_upgrade_ver=&gt;nil, :platform=&gt;&quot;el-6-x86_64&quot;, :template=&gt;&quot;Delivery/Quality Assurance/Templates/vCloud/centos-6-x86_64&quot;}}"/><property name="nfs_server" value="none"/><property name="datastore" value="instance0"/><property name="folder" value="Delivery/Quality Assurance/Enterprise/Dynamic"/><property name="resourcepool" value="delivery/Quality Assurance/Enterprise/Dynamic"/><property name="pooling_api" value="http://vcloud.delivery.puppetlabs.net/"/><property name="home" value="/Users/anode"/><property name="answers" value="{:q_puppet_enterpriseconsole_auth_user_email=&gt;&quot;admin@example.com&quot;, :q_puppet_enterpriseconsole_auth_password=&gt;&quot;~!@\#$%^*-/ aZ&quot;, :q_puppet_enterpriseconsole_smtp_host=&gt;nil, :q_puppet_enterpriseconsole_smtp_port=&gt;25, :q_puppet_enterpriseconsole_smtp_username=&gt;nil, :q_puppet_enterpriseconsole_smtp_password=&gt;nil, :q_puppet_enterpriseconsole_smtp_use_tls=&gt;&quot;n&quot;, :q_verify_packages=&gt;&quot;y&quot;, :q_puppetdb_password=&gt;&quot;~!@\#$%^*-/ aZ&quot;}"/><property name="load_path" value="[]"/><property name="post_suite" value="[]"/><property name="install" value="[]"/><property name="modules" value="[]"/><property name="logger" value="#&lt;Beaker::Logger:0x007fddc2506278&gt;"/></properties><testcase classname="tests/agent" name="agent_disable_lockfile.rb" time="35.456603"><system-out><![CDATA[
the agent --disable/--enable functionality should manage the agent lockfile properly

n6vo88vhlunm0j0 (centos6-64-1) 12:57:02$  mktemp -dt agent_disable_lockfile.XXXXXX  
/tmp/agent_disable_lockfile.lgLkP7

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:02$  chmod 755 /tmp/agent_disable_lockfile.lgLkP7  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:02$  mktemp -dt agent_disable_lockfile.XXXXXX  
/tmp/agent_disable_lockfile.jqp2mF

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:02$  chmod 755 /tmp/agent_disable_lockfile.jqp2mF  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:02$  mktemp -dt agent_disable_lockfile.rb.XXXXXX  
/tmp/agent_disable_lockfile.rb.Z8KkTO

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:02$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:02$  cp /etc/puppet/puppet.conf /tmp/agent_disable_lockfile.rb.Z8KkTO/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:02$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-5a9v93 centos6-64-1:/tmp/agent_disable_lockfile.rb.Z8KkTO/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:03$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.36 seconds
Waiting for the puppet master to start
The puppet master has started

  * disable the agent; specify message? 'false', message: 'reason not specified'

n6vo88vhlunm0j0 (centos6-64-1) 12:57:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --disable

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.36 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:05$  test -f "/var/lib/puppet/state/agent_disabled.lock"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:05$  cat "/var/lib/puppet/state/agent_disabled.lock"  
{"disabled_message":"reason not specified"}
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --disable

t21rjumdkqr2x5d (centos6-64-2) executed in 1.30 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:07$  test -f "/var/lib/puppet/state/agent_disabled.lock"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:07$  cat "/var/lib/puppet/state/agent_disabled.lock"  
{"disabled_message":"reason not specified"}
t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * attempt to run the agent (message: 'reason not specified')

n6vo88vhlunm0j0 (centos6-64-1) 12:57:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Notice: Skipping run of Puppet configuration client; administratively disabled (Reason: 'reason not specified');
Use 'puppet agent --enable' to re-enable.

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.77 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 12:57:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Notice: Skipping run of Puppet configuration client; administratively disabled (Reason: 'reason not specified');
Use 'puppet agent --enable' to re-enable.

t21rjumdkqr2x5d (centos6-64-2) executed in 1.54 seconds
Exited: 1

  * enable the agent (message: 'reason not specified')

n6vo88vhlunm0j0 (centos6-64-1) 12:57:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --enable

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.35 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:11$  test -f "/var/lib/puppet/state/agent_disabled.lock"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 12:57:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --enable

t21rjumdkqr2x5d (centos6-64-2) executed in 1.51 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:13$  test -f "/var/lib/puppet/state/agent_disabled.lock"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
Exited: 1

  * verify that we can run the agent (message: 'reason not specified')

n6vo88vhlunm0j0 (centos6-64-1) 12:57:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121436'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.66 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121436'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.94 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:19$  if [ -f '/tmp/agent_disable_lockfile.rb.Z8KkTO/puppet.conf.bak' ]; then cat '/tmp/agent_disable_lockfile.rb.Z8KkTO/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/agent_disable_lockfile.rb.Z8KkTO/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:19$  cat `puppet master --configprint pidfile`  
2123
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.56 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:19$  kill 2123  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:19$  kill -0 2123  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:20$  kill -0 2123  
bash: line 0: kill: (2123) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 12:57:20$  mktemp -dt agent_disable_lockfile.rb.XXXXXX  
/tmp/agent_disable_lockfile.rb.tgg0nf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:20$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:20$  cp /etc/puppet/puppet.conf /tmp/agent_disable_lockfile.rb.tgg0nf/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:20$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9zj61s centos6-64-1:/tmp/agent_disable_lockfile.rb.tgg0nf/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:21$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.79 seconds
Waiting for the puppet master to start
The puppet master has started

  * disable the agent; specify message? 'true', message: 'I'm busy; go away.''

n6vo88vhlunm0j0 (centos6-64-1) 12:57:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --disable "I'm busy; go away.'"

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:24$  test -f "/var/lib/puppet/state/agent_disabled.lock"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:24$  cat "/var/lib/puppet/state/agent_disabled.lock"  
{"disabled_message":"I'm busy; go away.'"}
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --disable "I'm busy; go away.'"

t21rjumdkqr2x5d (centos6-64-2) executed in 1.18 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:25$  test -f "/var/lib/puppet/state/agent_disabled.lock"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:25$  cat "/var/lib/puppet/state/agent_disabled.lock"  
{"disabled_message":"I'm busy; go away.'"}
t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * attempt to run the agent (message: 'I'm busy; go away.'')

n6vo88vhlunm0j0 (centos6-64-1) 12:57:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Notice: Skipping run of Puppet configuration client; administratively disabled (Reason: 'I'm busy; go away.'');
Use 'puppet agent --enable' to re-enable.

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.72 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 12:57:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Notice: Skipping run of Puppet configuration client; administratively disabled (Reason: 'I'm busy; go away.'');
Use 'puppet agent --enable' to re-enable.

t21rjumdkqr2x5d (centos6-64-2) executed in 1.53 seconds
Exited: 1

  * enable the agent (message: 'I'm busy; go away.'')

n6vo88vhlunm0j0 (centos6-64-1) 12:57:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --enable

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.23 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:30$  test -f "/var/lib/puppet/state/agent_disabled.lock"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 12:57:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --enable

t21rjumdkqr2x5d (centos6-64-2) executed in 1.24 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:31$  test -f "/var/lib/puppet/state/agent_disabled.lock"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
Exited: 1

  * verify that we can run the agent (message: 'I'm busy; go away.'')

n6vo88vhlunm0j0 (centos6-64-1) 12:57:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121454'
Notice: Finished catalog run in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.86 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121454'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:37$  if [ -f '/tmp/agent_disable_lockfile.rb.tgg0nf/puppet.conf.bak' ]; then cat '/tmp/agent_disable_lockfile.rb.tgg0nf/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/agent_disable_lockfile.rb.tgg0nf/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:37$  cat `puppet master --configprint pidfile`  
2339
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:38$  kill 2339  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:38$  kill -0 2339  
bash: line 0: kill: (2339) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 12:57:38$  rm -rf /tmp/agent_disable_lockfile.lgLkP7  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:38$  rm -rf /tmp/agent_disable_lockfile.jqp2mF  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/agent" name="fallback_to_cached_catalog.rb" time="13.581079"><system-out><![CDATA[
fallback to the cached catalog

  * run agents once to cache the catalog

n6vo88vhlunm0j0 (centos6-64-1) 12:57:38$  mktemp -dt fallback_to_cached_catalog.rb.XXXXXX  
/tmp/fallback_to_cached_catalog.rb.dzVcxV

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:38$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:38$  cp /etc/puppet/puppet.conf /tmp/fallback_to_cached_catalog.rb.dzVcxV/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:38$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ubulms centos6-64-1:/tmp/fallback_to_cached_catalog.rb.dzVcxV/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:38$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.60 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 12:57:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121462'
Notice: Finished catalog run in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.85 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121462'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.51 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:45$  if [ -f '/tmp/fallback_to_cached_catalog.rb.dzVcxV/puppet.conf.bak' ]; then cat '/tmp/fallback_to_cached_catalog.rb.dzVcxV/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/fallback_to_cached_catalog.rb.dzVcxV/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:45$  cat `puppet master --configprint pidfile`  
2555
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.61 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:46$  kill 2555  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:46$  kill -0 2555  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:47$  kill -0 2555  
bash: line 0: kill: (2555) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

  * run agents again, verify they use cached catalog

n6vo88vhlunm0j0 (centos6-64-1) 12:57:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --onetime --no-daemonize --server puppet.example.com --verbose  
Warning: Unable to fetch my node definition, but the agent run will continue:
Warning: getaddrinfo: Name or service not known
Info: Retrieving pluginfacts
Error: /File[/var/lib/puppet/facts.d]: Failed to generate additional resources using 'eval_generate': getaddrinfo: Name or service not known
Error: /File[/var/lib/puppet/facts.d]: Could not evaluate: Could not retrieve file metadata for puppet://puppet.example.com/pluginfacts: getaddrinfo: Name or service not known
Wrapped exception:
getaddrinfo: Name or service not known
Info: Retrieving plugin
Error: /File[/var/lib/puppet/lib]: Failed to generate additional resources using 'eval_generate': getaddrinfo: Name or service not known
Error: /File[/var/lib/puppet/lib]: Could not evaluate: Could not retrieve file metadata for puppet://puppet.example.com/plugins: getaddrinfo: Name or service not known
Wrapped exception:
getaddrinfo: Name or service not known
Error: Could not retrieve catalog from remote server: getaddrinfo: Name or service not known
Notice: Using cached catalog
Info: Applying configuration version '1403121462'
Notice: Finished catalog run in 0.03 seconds
Error: Could not send report: getaddrinfo: Name or service not known

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.52 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --onetime --no-daemonize --server puppet.example.com --verbose  
Warning: Unable to fetch my node definition, but the agent run will continue:
Warning: getaddrinfo: Name or service not known
Info: Retrieving pluginfacts
Error: /File[/var/lib/puppet/facts.d]: Failed to generate additional resources using 'eval_generate': getaddrinfo: Name or service not known
Error: /File[/var/lib/puppet/facts.d]: Could not evaluate: Could not retrieve file metadata for puppet://puppet.example.com/pluginfacts: getaddrinfo: Name or service not known
Wrapped exception:
getaddrinfo: Name or service not known
Info: Retrieving plugin
Error: /File[/var/lib/puppet/lib]: Failed to generate additional resources using 'eval_generate': getaddrinfo: Name or service not known
Error: /File[/var/lib/puppet/lib]: Could not evaluate: Could not retrieve file metadata for puppet://puppet.example.com/plugins: getaddrinfo: Name or service not known
Wrapped exception:
getaddrinfo: Name or service not known
Error: Could not retrieve catalog from remote server: getaddrinfo: Name or service not known
Notice: Using cached catalog
Info: Applying configuration version '1403121462'
Notice: Finished catalog run in 0.03 seconds
Error: Could not send report: getaddrinfo: Name or service not known

t21rjumdkqr2x5d (centos6-64-2) executed in 2.13 seconds
]]></system-out><system-err><![CDATA[Warning: Unable to fetch my node definition, but the agent run will continue:
Warning: getaddrinfo: Name or service not known
Error: /File[/var/lib/puppet/facts.d]: Failed to generate additional resources using 'eval_generate': getaddrinfo: Name or service not known
Error: /File[/var/lib/puppet/facts.d]: Could not evaluate: Could not retrieve file metadata for puppet://puppet.example.com/pluginfacts: getaddrinfo: Name or service not known
Wrapped exception:
getaddrinfo: Name or service not known
Error: /File[/var/lib/puppet/lib]: Failed to generate additional resources using 'eval_generate': getaddrinfo: Name or service not known
Error: /File[/var/lib/puppet/lib]: Could not evaluate: Could not retrieve file metadata for puppet://puppet.example.com/plugins: getaddrinfo: Name or service not known
Wrapped exception:
getaddrinfo: Name or service not known
Error: Could not retrieve catalog from remote server: getaddrinfo: Name or service not known
Error: Could not send report: getaddrinfo: Name or service not known
]]></system-err></testcase><testcase classname="tests/aix" name="aix_package_provider.rb" time="0.000471"><skip type="skip"/><system-out><![CDATA[
aix package provider should work correctly
Warning: No suitable hosts with: {:platform=>/aix/}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/aix" name="nim_package_provider.rb" time="0.000407"><skip type="skip"/><system-out><![CDATA[
NIM package provider should work correctly
Warning: No suitable hosts with: {:platform=>"aix"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests" name="allow_arbitrary_node_name_fact_for_agent.rb" time="9.686255"><system-out><![CDATA[
node_name_fact should be used to determine the node name for puppet agent

n6vo88vhlunm0j0 (centos6-64-1) 12:57:51$  mktemp -dt nodenamefact.XXXXXX  
/tmp/nodenamefact.CLmCCt

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  kernel
Linux

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  kernel
Linux

t21rjumdkqr2x5d (centos6-64-2) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1jjyr0 centos6-64-1:/tmp/nodenamefact.CLmCCt/auth.conf {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-hy3jnd centos6-64-1:/tmp/nodenamefact.CLmCCt/manifest.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 12:57:52$  chmod 644 /tmp/nodenamefact.CLmCCt/auth.conf /tmp/nodenamefact.CLmCCt/manifest.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:52$  chmod 777 /tmp/nodenamefact.CLmCCt  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:52$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:52$  cp /etc/puppet/puppet.conf /tmp/nodenamefact.CLmCCt/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:52$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-648av1 centos6-64-1:/tmp/nodenamefact.CLmCCt/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:52$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
rest_authconfig = /tmp/nodenamefact.CLmCCt/auth.conf
node_terminus = plain
manifest = /tmp/nodenamefact.CLmCCt/manifest.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.43 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 12:57:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --verbose --onetime --node_name_fact kernel --server n6vo88vhlunm0j0
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for Linux
Info: Applying configuration version '1403121476'
Notice: node_name_fact setting was correctly used to determine the node name
Notice: /Stage[main]/Main/Node[linux]/Notify[node_name_fact setting was correctly used to determine the node name]/message: defined 'message' as 'node_name_fact setting was correctly used to determine the node name'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.90 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:57:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --verbose --onetime --node_name_fact kernel --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for Linux
Info: Applying configuration version '1403121476'
Notice: node_name_fact setting was correctly used to determine the node name
Notice: /Stage[main]/Main/Node[linux]/Notify[node_name_fact setting was correctly used to determine the node name]/message: defined 'message' as 'node_name_fact setting was correctly used to determine the node name'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.89 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:59$  if [ -f '/tmp/nodenamefact.CLmCCt/puppet.conf.bak' ]; then cat '/tmp/nodenamefact.CLmCCt/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/nodenamefact.CLmCCt/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:57:59$  cat `puppet master --configprint pidfile`  
2871
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.60 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:00$  kill 2871  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:00$  kill -0 2871  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:01$  kill -0 2871  
bash: line 0: kill: (2871) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="allow_arbitrary_node_name_fact_for_apply.rb" time="5.907621"><system-out><![CDATA[
node_name_fact should be used to determine the node name for puppet apply

n6vo88vhlunm0j0 (centos6-64-1) 12:58:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  kernel
Linux

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.15 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  kernel
Linux

t21rjumdkqr2x5d (centos6-64-2) executed in 0.30 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --node_name_fact kernel
Notice: Compiled catalog for Linux in environment production in 0.06 seconds
Info: Applying configuration version '1403121484'
Notice: echo node_name_fact setting was correctly used to determine the node name
Notice: /Stage[main]/Main/Node[linux]/Notify[echo node_name_fact setting was correctly used to determine the node name]/message: defined 'message' as 'echo node_name_fact setting was correctly used to determine the node name'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.82 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --node_name_fact kernel
Notice: Compiled catalog for Linux in environment production in 0.04 seconds
Info: Applying configuration version '1403121486'
Notice: echo node_name_fact setting was correctly used to determine the node name
Notice: /Stage[main]/Main/Node[linux]/Notify[echo node_name_fact setting was correctly used to determine the node name]/message: defined 'message' as 'echo node_name_fact setting was correctly used to determine the node name'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.64 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="allow_arbitrary_node_name_for_agent.rb" time="10.895585"><system-out><![CDATA[
node_name_value should be used as the node name for puppet agent

n6vo88vhlunm0j0 (centos6-64-1) 12:58:07$  mktemp -dt nodenamevalue.XXXXXX  
/tmp/nodenamevalue.8MLn56

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10n0n9i centos6-64-1:/tmp/nodenamevalue.8MLn56/auth.conf {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1pzohah centos6-64-1:/tmp/nodenamevalue.8MLn56/manifest.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 12:58:07$  chmod 644 /tmp/nodenamevalue.8MLn56/auth.conf /tmp/nodenamevalue.8MLn56/manifest.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:07$  chmod 777 /tmp/nodenamevalue.8MLn56  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:07$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:07$  cp /etc/puppet/puppet.conf /tmp/nodenamevalue.8MLn56/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:08$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-y9zmi5 centos6-64-1:/tmp/nodenamevalue.8MLn56/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:08$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
rest_authconfig = /tmp/nodenamevalue.8MLn56/auth.conf
node_terminus = plain
manifest = /tmp/nodenamevalue.8MLn56/manifest.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.51 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 12:58:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --node_name_value specified_node_name --server n6vo88vhlunm0j0
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for specified_node_name
Info: Applying configuration version '1403121493'
Notice: node_name_value setting was correctly used as the node name
Notice: /Stage[main]/Main/Node[specified_node_name]/Notify[node_name_value setting was correctly used as the node name]/message: defined 'message' as 'node_name_value setting was correctly used as the node name'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.70 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 12:58:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --node_name_value specified_node_name --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for specified_node_name
Info: Applying configuration version '1403121493'
Notice: node_name_value setting was correctly used as the node name
Notice: /Stage[main]/Main/Node[specified_node_name]/Notify[node_name_value setting was correctly used as the node name]/message: defined 'message' as 'node_name_value setting was correctly used as the node name'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.86 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 12:58:17$  if [ -f '/tmp/nodenamevalue.8MLn56/puppet.conf.bak' ]; then cat '/tmp/nodenamevalue.8MLn56/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/nodenamevalue.8MLn56/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:17$  cat `puppet master --configprint pidfile`  
3286
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:18$  kill 3286  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:18$  kill -0 3286  
bash: line 0: kill: (3286) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="allow_arbitrary_node_name_for_apply.rb" time="4.384304"><system-out><![CDATA[
node_name_value should be used as the node name for puppet apply

n6vo88vhlunm0j0 (centos6-64-1) 12:58:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --node_name_value a_different_node_name
Notice: Compiled catalog for a_different_node_name in environment production in 0.04 seconds
Info: Applying configuration version '1403121500'
Notice: notify node_name_value setting was correctly used as the node name
Notice: /Stage[main]/Main/Node[a_different_node_name]/Notify[notify node_name_value setting was correctly used as the node name]/message: defined 'message' as 'notify node_name_value setting was correctly used as the node name'
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.65 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --node_name_value a_different_node_name
Notice: Compiled catalog for a_different_node_name in environment production in 0.03 seconds
Info: Applying configuration version '1403121502'
Notice: notify node_name_value setting was correctly used as the node name
Notice: /Stage[main]/Main/Node[a_different_node_name]/Notify[notify node_name_value setting was correctly used as the node name]/message: defined 'message' as 'notify node_name_value setting was correctly used as the node name'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.73 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="allow_symlinks_as_config_directories.rb" time="5.735036"><system-out><![CDATA[
Should allow symlinks to directories as configuration directories

  * Create the test confdir with a link to it

n6vo88vhlunm0j0 (centos6-64-1) 12:58:22$  mktemp -dt puppet_conf-directory.XXXXXX  
/tmp/puppet_conf-directory.LybcFS

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:22$  mktemp -t puppet_conf-symlink.XXXXXX  
/tmp/puppet_conf-symlink.TxdtN6

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:22$  rm -rf /tmp/puppet_conf-symlink.TxdtN6 /tmp/puppet_conf-directory.LybcFS  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:22$  mkdir /tmp/puppet_conf-directory.LybcFS  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:22$  ln -s /tmp/puppet_conf-directory.LybcFS /tmp/puppet_conf-symlink.TxdtN6  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set certname awesome_certname --confdir /tmp/puppet_conf-directory.LybcFS

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.77 seconds

  * Run Puppet and ensure it used the conf file in the confdir

n6vo88vhlunm0j0 (centos6-64-1) 12:58:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --confdir /tmp/puppet_conf-symlink.TxdtN6
Notice: Compiled catalog for awesome_certname in environment production in 0.04 seconds
Notice: My certname is awesome_certname
Notice: /Stage[main]/Main/Notify[My certname is awesome_certname]/message: defined 'message' as 'My certname is awesome_certname'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.00 seconds

  * Check that the symlink and confdir are unchanged

n6vo88vhlunm0j0 (centos6-64-1) 12:58:25$  [ -L /tmp/puppet_conf-symlink.TxdtN6 ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:25$  [ -d /tmp/puppet_conf-directory.LybcFS ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:25$  [ $(readlink /tmp/puppet_conf-symlink.TxdtN6) = /tmp/puppet_conf-directory.LybcFS ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.15 seconds

  * Create the test confdir with a link to it

t21rjumdkqr2x5d (centos6-64-2) 12:58:25$  mktemp -dt puppet_conf-directory.XXXXXX  
/tmp/puppet_conf-directory.uCu5ot

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:25$  mktemp -t puppet_conf-symlink.XXXXXX  
/tmp/puppet_conf-symlink.7izLrG

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:25$  rm -rf /tmp/puppet_conf-symlink.7izLrG /tmp/puppet_conf-directory.uCu5ot  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:26$  mkdir /tmp/puppet_conf-directory.uCu5ot  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:26$  ln -s /tmp/puppet_conf-directory.uCu5ot /tmp/puppet_conf-symlink.7izLrG  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set certname awesome_certname --confdir /tmp/puppet_conf-directory.uCu5ot

t21rjumdkqr2x5d (centos6-64-2) executed in 0.58 seconds

  * Run Puppet and ensure it used the conf file in the confdir

t21rjumdkqr2x5d (centos6-64-2) 12:58:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --confdir /tmp/puppet_conf-symlink.7izLrG
Notice: Compiled catalog for awesome_certname in environment production in 0.03 seconds
Notice: My certname is awesome_certname
Notice: /Stage[main]/Main/Notify[My certname is awesome_certname]/message: defined 'message' as 'My certname is awesome_certname'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.66 seconds

  * Check that the symlink and confdir are unchanged

t21rjumdkqr2x5d (centos6-64-2) 12:58:28$  [ -L /tmp/puppet_conf-symlink.7izLrG ]  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:28$  [ -d /tmp/puppet_conf-directory.uCu5ot ]  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:28$  [ $(readlink /tmp/puppet_conf-symlink.7izLrG) = /tmp/puppet_conf-directory.uCu5ot ]  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/classes" name="parameterized_classes.rb" time="17.646133"><system-out><![CDATA[
parametrized classes

  * should allow param classes

n6vo88vhlunm0j0 (centos6-64-1) 12:58:28$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.L2HlBV

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-l0f5fo centos6-64-1:/tmp/apply_manifest.pp.L2HlBV {}

n6vo88vhlunm0j0 (centos6-64-1) 12:58:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.L2HlBV
Notice: Scope(Class[X]): 1-2
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121510'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.54 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:31$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Y21b4f

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-hvi6da centos6-64-2:/tmp/apply_manifest.pp.Y21b4f {}

t21rjumdkqr2x5d (centos6-64-2) 12:58:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Y21b4f
Notice: Scope(Class[X]): 1-2
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121512'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.79 seconds

  * should allow param class post inclusion

n6vo88vhlunm0j0 (centos6-64-1) 12:58:33$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.lpwOUY

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-h9dgud centos6-64-1:/tmp/apply_manifest.pp.lpwOUY {}

n6vo88vhlunm0j0 (centos6-64-1) 12:58:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.lpwOUY
Notice: Scope(Class[X]): 1-2
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121514'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.84 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:35$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.hwMYE8

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-tm3492 centos6-64-2:/tmp/apply_manifest.pp.hwMYE8 {}

t21rjumdkqr2x5d (centos6-64-2) 12:58:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hwMYE8
Notice: Scope(Class[X]): 1-2
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121516'
Notice: Finished catalog run in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.79 seconds

  * should allow param classes defaults

n6vo88vhlunm0j0 (centos6-64-1) 12:58:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.kQUdz5

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ofnyna centos6-64-1:/tmp/apply_manifest.pp.kQUdz5 {}

n6vo88vhlunm0j0 (centos6-64-1) 12:58:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.kQUdz5
Warning: Config file /etc/puppet/hiera.yaml not found, using Hiera defaults
Notice: Scope(Class[X]): 1-2
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403121518'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.69 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:39$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.LS6nwm

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-907l4x centos6-64-2:/tmp/apply_manifest.pp.LS6nwm {}

t21rjumdkqr2x5d (centos6-64-2) 12:58:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LS6nwm
Warning: Config file /etc/puppet/hiera.yaml not found, using Hiera defaults
Notice: Scope(Class[X]): 1-2
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403121520'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.75 seconds

  * should allow param class defaults to be overriden

n6vo88vhlunm0j0 (centos6-64-1) 12:58:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.SXwgna

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1mpovim centos6-64-1:/tmp/apply_manifest.pp.SXwgna {}

n6vo88vhlunm0j0 (centos6-64-1) 12:58:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SXwgna
Notice: Scope(Class[X]): 1-3
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121522'
Notice: Finished catalog run in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:43$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.H1rQY3

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-jp5dfa centos6-64-2:/tmp/apply_manifest.pp.H1rQY3 {}

t21rjumdkqr2x5d (centos6-64-2) 12:58:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.H1rQY3
Notice: Scope(Class[X]): 1-3
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121525'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.00 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/classes" name="should_allow_param_override.rb" time="4.404525"><system-out><![CDATA[
should allow param override

n6vo88vhlunm0j0 (centos6-64-1) 12:58:46$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.VAeCED

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-t3l5xk centos6-64-1:/tmp/apply_manifest.pp.VAeCED {}

n6vo88vhlunm0j0 (centos6-64-1) 12:58:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.VAeCED
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403121527'
Notice: child
Notice: /Stage[main]/Parent/Notify[msg]/message: defined 'message' as 'child'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.99 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.4fhu8i

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-f10ges centos6-64-2:/tmp/apply_manifest.pp.4fhu8i {}

t21rjumdkqr2x5d (centos6-64-2) 12:58:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4fhu8i
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403121529'
Notice: child
Notice: /Stage[main]/Parent/Notify[msg]/message: defined 'message' as 'child'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.96 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/classes" name="should_allow_param_undef_override.rb" time="4.892715"><system-out><![CDATA[
should allow overriding a parameter to undef in inheritence

n6vo88vhlunm0j0 (centos6-64-1) 12:58:50$  mktemp -dt class_undef_override.XXXXXX  
/tmp/class_undef_override.m3Pzdo

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * prepare the target file on all systems

n6vo88vhlunm0j0 (centos6-64-1) 12:58:50$  echo 'hello world!' > /tmp/class_undef_override.m3Pzdo/class_undef_override_out  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * apply the manifest

n6vo88vhlunm0j0 (centos6-64-1) 12:58:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.hNiPq0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1d2ald5 centos6-64-1:/tmp/apply_manifest.pp.hNiPq0 {}

n6vo88vhlunm0j0 (centos6-64-1) 12:58:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hNiPq0
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403121531'
Info: /Stage[main]/Parent/File[test]: Filebucketed /tmp/class_undef_override.m3Pzdo/class_undef_override_out to puppet with sum c897d1410af8f2c74fba11b1db511e9e
Notice: /Stage[main]/Parent/File[test]/content: content changed '{md5}c897d1410af8f2c74fba11b1db511e9e' to '{md5}b7aea9356e4e65a1d307523172fdb856'
Notice: Finished catalog run in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.22 seconds

  * verify the file content

n6vo88vhlunm0j0 (centos6-64-1) 12:58:52$  cat /tmp/class_undef_override.m3Pzdo/class_undef_override_out  
hello new world!
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:58:52$  rm -rf /tmp/class_undef_override.m3Pzdo  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:53$  mktemp -dt class_undef_override.XXXXXX  
/tmp/class_undef_override.5Lsgrd

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

  * prepare the target file on all systems

t21rjumdkqr2x5d (centos6-64-2) 12:58:53$  echo 'hello world!' > /tmp/class_undef_override.5Lsgrd/class_undef_override_out  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * apply the manifest

t21rjumdkqr2x5d (centos6-64-2) 12:58:53$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.3qcRbE

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-13fsc9j centos6-64-2:/tmp/apply_manifest.pp.3qcRbE {}

t21rjumdkqr2x5d (centos6-64-2) 12:58:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.3qcRbE
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403121534'
Info: /Stage[main]/Parent/File[test]: Filebucketed /tmp/class_undef_override.5Lsgrd/class_undef_override_out to puppet with sum c897d1410af8f2c74fba11b1db511e9e
Notice: /Stage[main]/Parent/File[test]/content: content changed '{md5}c897d1410af8f2c74fba11b1db511e9e' to '{md5}b7aea9356e4e65a1d307523172fdb856'
Notice: Finished catalog run in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.97 seconds

  * verify the file content

t21rjumdkqr2x5d (centos6-64-2) 12:58:55$  cat /tmp/class_undef_override.5Lsgrd/class_undef_override_out  
hello new world!
t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:55$  rm -rf /tmp/class_undef_override.5Lsgrd  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/classes" name="should_include_resources_from_class.rb" time="3.964517"><system-out><![CDATA[
resources declared in a class can be applied with include

n6vo88vhlunm0j0 (centos6-64-1) 12:58:55$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.cQSznl

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1exjwg centos6-64-1:/tmp/apply_manifest.pp.cQSznl {}

n6vo88vhlunm0j0 (centos6-64-1) 12:58:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cQSznl
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121536'
Notice: a
Notice: /Stage[main]/X/Notify[a]/message: defined 'message' as 'a'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.94 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:58:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XfKHfk

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1e5bo9u centos6-64-2:/tmp/apply_manifest.pp.XfKHfk {}

t21rjumdkqr2x5d (centos6-64-2) 12:58:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XfKHfk
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121538'
Notice: a
Notice: /Stage[main]/X/Notify[a]/message: defined 'message' as 'a'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.76 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/classes" name="should_not_auto_include_resources_from_class.rb" time="5.001694"><system-out><![CDATA[
resources declared in classes are not applied without include

n6vo88vhlunm0j0 (centos6-64-1) 12:58:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.aNvtLD

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-66ah9a centos6-64-1:/tmp/apply_manifest.pp.aNvtLD {}

n6vo88vhlunm0j0 (centos6-64-1) 12:58:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.aNvtLD
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403121540'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.71 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:02$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.hU7IeO

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-z2a60 centos6-64-2:/tmp/apply_manifest.pp.hU7IeO {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hU7IeO
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121543'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.07 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/conditionals" name="should_evaluate_else.rb" time="4.164669"><system-out><![CDATA[
else clause will be reached if no expressions match

n6vo88vhlunm0j0 (centos6-64-1) 12:59:04$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.LmxyKO

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-12h5btu centos6-64-1:/tmp/apply_manifest.pp.LmxyKO {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LmxyKO
Notice: Scope(Class[main]): else
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403121545'
Notice: Finished catalog run in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.99 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:06$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.FagtMA

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1r8640z centos6-64-2:/tmp/apply_manifest.pp.FagtMA {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.FagtMA
Notice: Scope(Class[main]): else
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403121547'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.94 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/conditionals" name="should_evaluate_elsif.rb" time="3.931636"><system-out><![CDATA[
should evaluate the elsif block in a conditional

n6vo88vhlunm0j0 (centos6-64-1) 12:59:08$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.PyWg1T

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-12524d3 centos6-64-1:/tmp/apply_manifest.pp.PyWg1T {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.PyWg1T
Notice: Scope(Class[main]): elsif
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121549'
Notice: Finished catalog run in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.91 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.0ZhtW5

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1arwpfs centos6-64-2:/tmp/apply_manifest.pp.0ZhtW5 {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0ZhtW5
Notice: Scope(Class[main]): elsif
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121551'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.82 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/conditionals" name="should_evaluate_empty.rb" time="4.024940"><system-out><![CDATA[
ensure that undefined variables evaluate as false

n6vo88vhlunm0j0 (centos6-64-1) 12:59:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.rpG3Rz

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-2g92a3 centos6-64-1:/tmp/apply_manifest.pp.rpG3Rz {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.rpG3Rz
Notice: Scope(Class[main]): undef
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403121553'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.o9MHLK

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1i9s0a9 centos6-64-2:/tmp/apply_manifest.pp.o9MHLK {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.o9MHLK
Notice: Scope(Class[main]): undef
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121555'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.77 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/conditionals" name="should_evaluate_false.rb" time="4.394943"><system-out><![CDATA[
test that false evaluates to false

n6vo88vhlunm0j0 (centos6-64-1) 12:59:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Oq2ke2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-exz43c centos6-64-1:/tmp/apply_manifest.pp.Oq2ke2 {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Oq2ke2
Notice: Scope(Class[main]): false
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121557'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.11 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:18$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ChznvW

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1tf92fx centos6-64-2:/tmp/apply_manifest.pp.ChznvW {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ChznvW
Notice: Scope(Class[main]): false
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121560'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.99 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/conditionals" name="should_evaluate_if.rb" time="4.668872"><system-out><![CDATA[
n6vo88vhlunm0j0 (centos6-64-1) 12:59:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.nrV2L5

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1p1t111 centos6-64-1:/tmp/apply_manifest.pp.nrV2L5 {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.nrV2L5
Notice: Scope(Class[main]): if
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121562'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.97 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:23$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.C3W42l

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10dvz3v centos6-64-2:/tmp/apply_manifest.pp.C3W42l {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.C3W42l
Notice: Scope(Class[main]): if
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403121564'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.41 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/conditionals" name="should_evaluate_strings_true.rb" time="5.239953"><system-out><![CDATA[
test that the string 'false' evaluates to true

n6vo88vhlunm0j0 (centos6-64-1) 12:59:25$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.cS2aQV

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-5isg4e centos6-64-1:/tmp/apply_manifest.pp.cS2aQV {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cS2aQV
Notice: Scope(Class[main]): true
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403121567'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.89 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:28$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.cRupok

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1tbxejj centos6-64-2:/tmp/apply_manifest.pp.cRupok {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cRupok
Notice: Scope(Class[main]): true
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121570'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.94 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/conditionals" name="should_evaluate_undef.rb" time="5.138365"><system-out><![CDATA[
empty string should evaluate as false

n6vo88vhlunm0j0 (centos6-64-1) 12:59:30$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.s5RaAN

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1kvbtvq centos6-64-1:/tmp/apply_manifest.pp.s5RaAN {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.s5RaAN
Notice: Scope(Class[main]): empty
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403121572'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.95 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:34$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.RzTHTC

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zd6bf6 centos6-64-2:/tmp/apply_manifest.pp.RzTHTC {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.RzTHTC
Notice: Scope(Class[main]): empty
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121575'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.81 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/hashes" name="should_not_reassign.rb" time="4.967170"><system-out><![CDATA[
hash reassignment should fail

n6vo88vhlunm0j0 (centos6-64-1) 12:59:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint parser  
current

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.68 seconds

n6vo88vhlunm0j0 (centos6-64-1) 12:59:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.zVO9cw

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-hdndoq centos6-64-1:/tmp/apply_manifest.pp.zVO9cw {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.zVO9cw
Error: Assigning to the hash 'my_hash' with an existing key 'one' is forbidden at /tmp/apply_manifest.pp.zVO9cw:5 on node n6vo88vhlunm0j0.delivery.puppetlabs.net
Error: Assigning to the hash 'my_hash' with an existing key 'one' is forbidden at /tmp/apply_manifest.pp.zVO9cw:5 on node n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.96 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 12:59:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint parser  
current

t21rjumdkqr2x5d (centos6-64-2) executed in 0.75 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:39$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.zFdXI6

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-skdwfn centos6-64-2:/tmp/apply_manifest.pp.zFdXI6 {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.zFdXI6
Error: Assigning to the hash 'my_hash' with an existing key 'one' is forbidden at /tmp/apply_manifest.pp.zFdXI6:5 on node t21rjumdkqr2x5d.delivery.puppetlabs.net
Error: Assigning to the hash 'my_hash' with an existing key 'one' is forbidden at /tmp/apply_manifest.pp.zFdXI6:5 on node t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 1.19 seconds
Exited: 1
]]></system-out><system-err><![CDATA[Error: Assigning to the hash 'my_hash' with an existing key 'one' is forbidden at /tmp/apply_manifest.pp.zFdXI6:5 on node t21rjumdkqr2x5d.delivery.puppetlabs.net
Error: Assigning to the hash 'my_hash' with an existing key 'one' is forbidden at /tmp/apply_manifest.pp.zFdXI6:5 on node t21rjumdkqr2x5d.delivery.puppetlabs.net
]]></system-err></testcase><testcase classname="tests/apply/virtual" name="should_realize.rb" time="5.998728"><system-out><![CDATA[
should realize

n6vo88vhlunm0j0 (centos6-64-1) 12:59:40$  mktemp -t should_realize.XXXXXX  
/tmp/should_realize.LM1Je5

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

  * clean the system ready for testing

n6vo88vhlunm0j0 (centos6-64-1) 12:59:41$  rm -f /tmp/should_realize.LM1Je5  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

  * realize the resource on the host

n6vo88vhlunm0j0 (centos6-64-1) 12:59:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.qAh9tE

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9py3jk centos6-64-1:/tmp/apply_manifest.pp.qAh9tE {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.qAh9tE
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403121582'
Notice: /Stage[main]/Main/Host[test-1403121581-host]/ensure: created
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.04 seconds

  * verify the content of the file

n6vo88vhlunm0j0 (centos6-64-1) 12:59:44$  cat /tmp/should_realize.LM1Je5  
# HEADER: This file was autogenerated at Wed Jun 18 12:59:43 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.2	test-1403121581-host

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * final cleanup of the system

n6vo88vhlunm0j0 (centos6-64-1) 12:59:44$  rm -f /tmp/should_realize.LM1Je5  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:44$  mktemp -t should_realize.XXXXXX  
/tmp/should_realize.4IfuQd

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * clean the system ready for testing

t21rjumdkqr2x5d (centos6-64-2) 12:59:44$  rm -f /tmp/should_realize.4IfuQd  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * realize the resource on the host

t21rjumdkqr2x5d (centos6-64-2) 12:59:44$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.lzx5BQ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-lyzc68 centos6-64-2:/tmp/apply_manifest.pp.lzx5BQ {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.lzx5BQ
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403121585'
Notice: /Stage[main]/Main/Host[test-1403121584-host]/ensure: created
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.14 seconds

  * verify the content of the file

t21rjumdkqr2x5d (centos6-64-2) 12:59:46$  cat /tmp/should_realize.4IfuQd  
# HEADER: This file was autogenerated at Wed Jun 18 12:59:46 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.2	test-1403121584-host

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * final cleanup of the system

t21rjumdkqr2x5d (centos6-64-2) 12:59:46$  rm -f /tmp/should_realize.4IfuQd  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/virtual" name="should_realize_complex_query.rb" time="5.446225"><system-out><![CDATA[
should realize with complex query

n6vo88vhlunm0j0 (centos6-64-1) 12:59:46$  mktemp -t should_realize_complex_query.XXXXXX  
/tmp/should_realize_complex_query.KVKQuD

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

  * clean up target system for test

n6vo88vhlunm0j0 (centos6-64-1) 12:59:46$  rm -f /tmp/should_realize_complex_query.KVKQuD  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * run the manifest

n6vo88vhlunm0j0 (centos6-64-1) 12:59:47$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.q5sCak

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1rl0a3t centos6-64-1:/tmp/apply_manifest.pp.q5sCak {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.q5sCak
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403121588'
Notice: /Stage[main]/Main/Host[test-1403121586-host2]/ensure: created
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.76 seconds

  * verify the file output

n6vo88vhlunm0j0 (centos6-64-1) 12:59:49$  cat /tmp/should_realize_complex_query.KVKQuD  
# HEADER: This file was autogenerated at Wed Jun 18 12:59:49 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.3	test-1403121586-host2	two

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * clean up system after testing

n6vo88vhlunm0j0 (centos6-64-1) 12:59:50$  rm -f /tmp/should_realize_complex_query.KVKQuD  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:50$  mktemp -t should_realize_complex_query.XXXXXX  
/tmp/should_realize_complex_query.ZMBGUb

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * clean up target system for test

t21rjumdkqr2x5d (centos6-64-2) 12:59:50$  rm -f /tmp/should_realize_complex_query.ZMBGUb  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * run the manifest

t21rjumdkqr2x5d (centos6-64-2) 12:59:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.aXFgyu

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-94jv0n centos6-64-2:/tmp/apply_manifest.pp.aXFgyu {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.aXFgyu
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403121591'
Notice: /Stage[main]/Main/Host[test-1403121590-host2]/ensure: created
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.00 seconds

  * verify the file output

t21rjumdkqr2x5d (centos6-64-2) 12:59:52$  cat /tmp/should_realize_complex_query.ZMBGUb  
# HEADER: This file was autogenerated at Wed Jun 18 12:59:52 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.3	test-1403121590-host2	two

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * clean up system after testing

t21rjumdkqr2x5d (centos6-64-2) 12:59:52$  rm -f /tmp/should_realize_complex_query.ZMBGUb  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/virtual" name="should_realize_many.rb" time="5.203902"><system-out><![CDATA[
test that realize function takes a list

n6vo88vhlunm0j0 (centos6-64-1) 12:59:52$  mktemp -t should_realize_many.XXXXXX  
/tmp/should_realize_many.mqZfLH

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

  * clean up target system for test

n6vo88vhlunm0j0 (centos6-64-1) 12:59:52$  rm -f /tmp/should_realize_many.mqZfLH  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

  * run the manifest

n6vo88vhlunm0j0 (centos6-64-1) 12:59:52$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.DkRSrK

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-19u5y71 centos6-64-1:/tmp/apply_manifest.pp.DkRSrK {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DkRSrK
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403121594'
Notice: /Stage[main]/Main/Host[test-1403121592-host1]/ensure: created
Notice: /Stage[main]/Main/Host[test-1403121592-host2]/ensure: created
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.44 seconds

  * verify the file output

n6vo88vhlunm0j0 (centos6-64-1) 12:59:55$  cat /tmp/should_realize_many.mqZfLH  
# HEADER: This file was autogenerated at Wed Jun 18 12:59:54 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.2	test-1403121592-host1
127.0.0.2	test-1403121592-host2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:55$  mktemp -t should_realize_many.XXXXXX  
/tmp/should_realize_many.RuIeq9

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * clean up target system for test

t21rjumdkqr2x5d (centos6-64-2) 12:59:55$  rm -f /tmp/should_realize_many.RuIeq9  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * run the manifest

t21rjumdkqr2x5d (centos6-64-2) 12:59:55$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.aXc8lU

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1k0jnqm centos6-64-2:/tmp/apply_manifest.pp.aXc8lU {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.aXc8lU
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403121596'
Notice: /Stage[main]/Main/Host[test-1403121595-host1]/ensure: created
Notice: /Stage[main]/Main/Host[test-1403121595-host2]/ensure: created
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.13 seconds

  * verify the file output

t21rjumdkqr2x5d (centos6-64-2) 12:59:57$  cat /tmp/should_realize_many.RuIeq9  
# HEADER: This file was autogenerated at Wed Jun 18 12:59:57 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.2	test-1403121595-host1
127.0.0.2	test-1403121595-host2

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/virtual" name="should_realize_query.rb" time="6.820216"><system-out><![CDATA[
should realize query

n6vo88vhlunm0j0 (centos6-64-1) 12:59:57$  mktemp -t should_realize_query.XXXXXX  
/tmp/should_realize_query.DgABYP

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * clean up target system for test

n6vo88vhlunm0j0 (centos6-64-1) 12:59:57$  rm -f /tmp/should_realize_query.DgABYP  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * run the manifest

n6vo88vhlunm0j0 (centos6-64-1) 12:59:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.luUfgu

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1j2a0l4 centos6-64-1:/tmp/apply_manifest.pp.luUfgu {}

n6vo88vhlunm0j0 (centos6-64-1) 12:59:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.luUfgu
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403121598'
Notice: /Stage[main]/Main/Host[test-1403121597-host]/ensure: created
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.94 seconds

  * verify the file output

n6vo88vhlunm0j0 (centos6-64-1) 12:59:59$  cat /tmp/should_realize_query.DgABYP  
# HEADER: This file was autogenerated at Wed Jun 18 12:59:59 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.2	test-1403121597-host	alias

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 12:59:59$  mktemp -t should_realize_query.XXXXXX  
/tmp/should_realize_query.pfdvvr

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * clean up target system for test

t21rjumdkqr2x5d (centos6-64-2) 12:59:59$  rm -f /tmp/should_realize_query.pfdvvr  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * run the manifest

t21rjumdkqr2x5d (centos6-64-2) 12:59:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.5EPoDY

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1rfw7ys centos6-64-2:/tmp/apply_manifest.pp.5EPoDY {}

t21rjumdkqr2x5d (centos6-64-2) 12:59:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.5EPoDY
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403121601'
Notice: /Stage[main]/Main/Host[test-1403121599-host]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 4.36 seconds

  * verify the file output

t21rjumdkqr2x5d (centos6-64-2) 13:00:04$  cat /tmp/should_realize_query.pfdvvr  
# HEADER: This file was autogenerated at Wed Jun 18 13:00:03 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.2	test-1403121599-host	alias

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/apply/virtual" name="should_realize_query_array.rb" time="7.901671"><system-out><![CDATA[
should realize query array

n6vo88vhlunm0j0 (centos6-64-1) 13:00:04$  mktemp -t should_realize_query_array.XXXXXX  
/tmp/should_realize_query_array.avUpA4

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

  * clean up target system for test

n6vo88vhlunm0j0 (centos6-64-1) 13:00:04$  rm -f /tmp/should_realize_query_array.avUpA4  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * run the manifest

n6vo88vhlunm0j0 (centos6-64-1) 13:00:04$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.rkhxEP

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ujhbe6 centos6-64-1:/tmp/apply_manifest.pp.rkhxEP {}

n6vo88vhlunm0j0 (centos6-64-1) 13:00:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.rkhxEP
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403121605'
Notice: /Stage[main]/Main/Host[test-1403121604-host]/ensure: created
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 5.16 seconds

  * verify the file output

n6vo88vhlunm0j0 (centos6-64-1) 13:00:09$  cat /tmp/should_realize_query_array.avUpA4  
# HEADER: This file was autogenerated at Wed Jun 18 13:00:09 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.2	test-1403121604-host	one two three

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:09$  mktemp -t should_realize_query_array.XXXXXX  
/tmp/should_realize_query_array.jpcLcU

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * clean up target system for test

t21rjumdkqr2x5d (centos6-64-2) 13:00:09$  rm -f /tmp/should_realize_query_array.jpcLcU  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * run the manifest

t21rjumdkqr2x5d (centos6-64-2) 13:00:09$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.JfFgF0

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-6fvyf7 centos6-64-2:/tmp/apply_manifest.pp.JfFgF0 {}

t21rjumdkqr2x5d (centos6-64-2) 13:00:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.JfFgF0
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403121611'
Notice: /Stage[main]/Main/Host[test-1403121609-host]/ensure: created
Notice: Finished catalog run in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.16 seconds

  * verify the file output

t21rjumdkqr2x5d (centos6-64-2) 13:00:12$  cat /tmp/should_realize_query_array.jpcLcU  
# HEADER: This file was autogenerated at Wed Jun 18 13:00:12 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.2	test-1403121609-host	one two three

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/concurrency" name="ticket_2659_concurrent_catalog_requests.rb" time="19.671436"><system-out><![CDATA[
concurrent catalog requests (PUP-2659)

  * setup a manifest

n6vo88vhlunm0j0 (centos6-64-1) 13:00:12$  mktemp -dt concurrent.XXXXXX  
/tmp/concurrent.P3NLJZ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.KgevJq

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-m6cl12 centos6-64-1:/tmp/apply_manifest.pp.KgevJq {}

n6vo88vhlunm0j0 (centos6-64-1) 13:00:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --detailed-exitcodes /tmp/apply_manifest.pp.KgevJq
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403121613'
Notice: /Stage[main]/Main/File[/tmp/concurrent.P3NLJZ]/group: group changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/concurrent.P3NLJZ]/mode: mode changed '0700' to '0750'
Notice: /Stage[main]/Main/File[/tmp/concurrent.P3NLJZ/busy]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/concurrent.P3NLJZ/busy/one.txt]/ensure: defined content as '{md5}292d98a18faec6f6d36528b77cba9b6f'
Notice: /Stage[main]/Main/File[/tmp/concurrent.P3NLJZ/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/concurrent.P3NLJZ/manifests/site.pp]/ensure: defined content as '{md5}88618c18337391a198d0120789ca8c35'
Notice: /Stage[main]/Main/File[/tmp/concurrent.P3NLJZ/busy/three.txt]/ensure: defined content as '{md5}23dcd54fdb48821cdba0eac55a081136'
Notice: /Stage[main]/Main/File[/tmp/concurrent.P3NLJZ/busy/two.txt]/ensure: defined content as '{md5}5fbb7155a0befac885a9495c668eeb3c'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.59 seconds
Exited: 2

  * start master

n6vo88vhlunm0j0 (centos6-64-1) 13:00:15$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:15$  cp /etc/puppet/puppet.conf /tmp/concurrent.P3NLJZ/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:15$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-b597aw centos6-64-1:/tmp/concurrent.P3NLJZ/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:15$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl
manifest = /tmp/concurrent.P3NLJZ/manifests/site.pp

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.37 seconds
Waiting for the puppet master to start
The puppet master has started

  * concurrent catalog curls (with alliterative alacrity)

n6vo88vhlunm0j0 (centos6-64-1) 13:00:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print hostcert
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.84 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print hostprivkey
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print localcacert
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
/var/lib/puppet/ssl/certs/ca.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print certname
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:22$  mktemp -dt concurrent-loop-script.XXXXXX  
/tmp/concurrent-loop-script.1mNwlo

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xtrql centos6-64-1:/tmp/concurrent-loop-script.1mNwlo/loop.sh {}

n6vo88vhlunm0j0 (centos6-64-1) 13:00:22$  chmod +x /tmp/concurrent-loop-script.1mNwlo/loop.sh  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:22$  /tmp/concurrent-loop-script.1mNwlo/loop.sh  
Launched 6438
Launched 6439
Launched 6440
Launched 6441
Launched 6443
Launched 6444
All requests are finished

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.34 seconds

  * Checking the results of catalog request #0

n6vo88vhlunm0j0 (centos6-64-1) 13:00:25$  cat /tmp/concurrent-loop-script.1mNwlo/catalog-request-0.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:24 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Stage[main]","target":"Class[main]"},{"source":"Class[main]","target":"Notify[end]"},{"source":"Stage[main]","target":"Class[Settings]"}],"version":1403121622,"name":"n6vo88vhlunm0j0.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1745 Completed

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

  * Checking the results of catalog request #1

n6vo88vhlunm0j0 (centos6-64-1) 13:00:25$  cat /tmp/concurrent-loop-script.1mNwlo/catalog-request-1.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:23 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Class[main]","target":"Notify[end]"},{"source":"Stage[main]","target":"Class[Settings]"},{"source":"Stage[main]","target":"Class[main]"}],"version":1403121622,"name":"n6vo88vhlunm0j0.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1745 Completed

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.43 seconds

  * Checking the results of catalog request #2

n6vo88vhlunm0j0 (centos6-64-1) 13:00:25$  cat /tmp/concurrent-loop-script.1mNwlo/catalog-request-2.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:23 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Stage[main]","target":"Class[Settings]"},{"source":"Stage[main]","target":"Class[main]"},{"source":"Class[main]","target":"Notify[end]"}],"version":1403121622,"name":"n6vo88vhlunm0j0.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1745 Completed

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.27 seconds

  * Checking the results of catalog request #3

n6vo88vhlunm0j0 (centos6-64-1) 13:00:25$  cat /tmp/concurrent-loop-script.1mNwlo/catalog-request-3.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:24 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Stage[main]","target":"Class[main]"},{"source":"Class[main]","target":"Notify[end]"},{"source":"Stage[main]","target":"Class[Settings]"}],"version":1403121622,"name":"n6vo88vhlunm0j0.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1745 Completed

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

  * Checking the results of catalog request #4

n6vo88vhlunm0j0 (centos6-64-1) 13:00:25$  cat /tmp/concurrent-loop-script.1mNwlo/catalog-request-4.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:23 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Stage[main]","target":"Class[main]"},{"source":"Stage[main]","target":"Class[Settings]"},{"source":"Class[main]","target":"Notify[end]"}],"version":1403121622,"name":"n6vo88vhlunm0j0.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1745 Completed

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Checking the results of catalog request #5

n6vo88vhlunm0j0 (centos6-64-1) 13:00:25$  cat /tmp/concurrent-loop-script.1mNwlo/catalog-request-5.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/n6vo88vhlunm0j0.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:24 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Stage[main]","target":"Class[Settings]"},{"source":"Class[main]","target":"Notify[end]"},{"source":"Stage[main]","target":"Class[main]"}],"version":1403121622,"name":"n6vo88vhlunm0j0.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1745 Completed

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print hostcert
/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.63 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print hostprivkey
/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.55 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print localcacert
/var/lib/puppet/ssl/certs/ca.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.55 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print certname
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.58 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:28$  mktemp -dt concurrent-loop-script.XXXXXX  
/tmp/concurrent-loop-script.9topQ9

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1lsl5vr centos6-64-2:/tmp/concurrent-loop-script.9topQ9/loop.sh {}

t21rjumdkqr2x5d (centos6-64-2) 13:00:28$  chmod +x /tmp/concurrent-loop-script.9topQ9/loop.sh  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:28$  /tmp/concurrent-loop-script.9topQ9/loop.sh  
Launched 5929
Launched 5930
Launched 5932
Launched 5934
Launched 5935
Launched 5937
All requests are finished

t21rjumdkqr2x5d (centos6-64-2) executed in 1.51 seconds

  * Checking the results of catalog request #0

t21rjumdkqr2x5d (centos6-64-2) 13:00:29$  cat /tmp/concurrent-loop-script.9topQ9/catalog-request-0.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:54 2014 GMT
* 	expire date: Jun 17 19:56:54 2019 GMT
* 	common name: t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:29 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Stage[main]","target":"Class[main]"},{"source":"Class[main]","target":"Notify[end]"},{"source":"Stage[main]","target":"Class[Settings]"}],"version":1403121622,"name":"t21rjumdkqr2x5d.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1748 Completed

t21rjumdkqr2x5d (centos6-64-2) executed in 0.09 seconds

  * Checking the results of catalog request #1

t21rjumdkqr2x5d (centos6-64-2) 13:00:30$  cat /tmp/concurrent-loop-script.9topQ9/catalog-request-1.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:54 2014 GMT
* 	expire date: Jun 17 19:56:54 2019 GMT
* 	common name: t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:28 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Class[main]","target":"Notify[end]"},{"source":"Stage[main]","target":"Class[Settings]"},{"source":"Stage[main]","target":"Class[main]"}],"version":1403121622,"name":"t21rjumdkqr2x5d.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1748 Completed

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * Checking the results of catalog request #2

t21rjumdkqr2x5d (centos6-64-2) 13:00:30$  cat /tmp/concurrent-loop-script.9topQ9/catalog-request-2.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:54 2014 GMT
* 	expire date: Jun 17 19:56:54 2019 GMT
* 	common name: t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:28 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Class[main]","target":"Notify[end]"},{"source":"Stage[main]","target":"Class[main]"},{"source":"Stage[main]","target":"Class[Settings]"}],"version":1403121622,"name":"t21rjumdkqr2x5d.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1748 Completed

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * Checking the results of catalog request #3

t21rjumdkqr2x5d (centos6-64-2) 13:00:30$  cat /tmp/concurrent-loop-script.9topQ9/catalog-request-3.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:54 2014 GMT
* 	expire date: Jun 17 19:56:54 2019 GMT
* 	common name: t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:29 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Stage[main]","target":"Class[Settings]"},{"source":"Class[main]","target":"Notify[end]"},{"source":"Stage[main]","target":"Class[main]"}],"version":1403121622,"name":"t21rjumdkqr2x5d.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1748 Completed

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * Checking the results of catalog request #4

t21rjumdkqr2x5d (centos6-64-2) 13:00:30$  cat /tmp/concurrent-loop-script.9topQ9/catalog-request-4.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:54 2014 GMT
* 	expire date: Jun 17 19:56:54 2019 GMT
* 	common name: t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:29 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Stage[main]","target":"Class[Settings]"},{"source":"Class[main]","target":"Notify[end]"},{"source":"Stage[main]","target":"Class[main]"}],"version":1403121622,"name":"t21rjumdkqr2x5d.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1748 Completed

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * Checking the results of catalog request #5

t21rjumdkqr2x5d (centos6-64-2) 13:00:30$  cat /tmp/concurrent-loop-script.9topQ9/catalog-request-5.out  
Curling: https://n6vo88vhlunm0j0:8140/production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /var/lib/puppet/ssl/certs/ca.pem
  CApath: none
* NSS: client certificate from file
* 	subject: CN=t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:54 2014 GMT
* 	expire date: Jun 17 19:56:54 2019 GMT
* 	common name: t21rjumdkqr2x5d.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: text/pson
> 
< HTTP/1.1 200 OK 
< Content-Length: 872
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< X-Puppet-Version: 3.6.2
< Content-Type: text/pson
< Date: Wed, 18 Jun 2014 20:00:29 GMT
< Connection: Keep-Alive
< 
                                                                           0.0%{ [data not shown]
######################################################################## 100.0%######################################################################## 100.0%######################################################################## 100.0%* Connection #0 to host n6vo88vhlunm0j0 left intact

* Closing connection #0
{"data":{"environment":"production","resources":[{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["stage"],"type":"Stage"},{"title":"Settings","exported":false,"tags":["class","settings"],"type":"Class"},{"parameters":{"name":"main"},"title":"main","exported":false,"tags":["class"],"type":"Class"},{"parameters":{"message":"\n\n        'touched the file system for a bit'\n      "},"title":"end","exported":false,"line":13,"tags":["end","class","notify"],"file":"/tmp/concurrent.P3NLJZ/manifests/site.pp","type":"Notify"}],"tags":["settings"],"classes":["settings"],"edges":[{"source":"Stage[main]","target":"Class[Settings]"},{"source":"Class[main]","target":"Notify[end]"},{"source":"Stage[main]","target":"Class[main]"}],"version":1403121622,"name":"t21rjumdkqr2x5d.delivery.puppetlabs.net"},"document_type":"Catalog","metadata":{"api_version":1}}1748 Completed

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:30$  if [ -f '/tmp/concurrent.P3NLJZ/puppet.conf.bak' ]; then cat '/tmp/concurrent.P3NLJZ/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/concurrent.P3NLJZ/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:30$  cat `puppet master --configprint pidfile`  
6391
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.61 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:30$  kill 6391  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:30$  kill -0 6391  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:31$  kill -0 6391  
bash: line 0: kill: (6391) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/config" name="apply_file_metadata_specified_in_config.rb" time="6.225955"><system-out><![CDATA[
#17371 file metadata specified in puppet.conf needs to be applied

n6vo88vhlunm0j0 (centos6-64-1) 13:00:31$  mktemp -dt apply_file_metadata_specified_in_config.XXXXXX  
/tmp/apply_file_metadata_specified_in_config.kFlg62

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:32$  chmod 755 /tmp/apply_file_metadata_specified_in_config.kFlg62  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:32$  mktemp -dt apply_file_metadata_specified_in_config.XXXXXX  
/tmp/apply_file_metadata_specified_in_config.rENWYD

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:32$  chmod 755 /tmp/apply_file_metadata_specified_in_config.rENWYD  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-90zz8g centos6-64-1:/tmp/apply_file_metadata_specified_in_config.kFlg62/site.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:00:32$  chown root:puppet /tmp/apply_file_metadata_specified_in_config.kFlg62/site.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:32$  chmod 755 /tmp/apply_file_metadata_specified_in_config.kFlg62/site.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set logdir '/tmp/apply_file_metadata_specified_in_config.kFlg62/log { owner = root, group = root, mode = 0700 }' --confdir /tmp/apply_file_metadata_specified_in_config.kFlg62/

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.76 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  /tmp/apply_file_metadata_specified_in_config.kFlg62/site.pp --confdir /tmp/apply_file_metadata_specified_in_config.kFlg62/
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.03 seconds
Notice: puppet_run
Notice: /Stage[main]/Main/Node[default]/Notify[puppet_run]/message: defined 'message' as 'puppet_run'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.82 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:35$  stat --format '%U:%G %a' /tmp/apply_file_metadata_specified_in_config.kFlg62/log  
root:root 700

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1k1u6d3 centos6-64-2:/tmp/apply_file_metadata_specified_in_config.rENWYD/site.pp {}

t21rjumdkqr2x5d (centos6-64-2) 13:00:35$  chown root:puppet /tmp/apply_file_metadata_specified_in_config.rENWYD/site.pp  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:35$  chmod 755 /tmp/apply_file_metadata_specified_in_config.rENWYD/site.pp  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set logdir '/tmp/apply_file_metadata_specified_in_config.rENWYD/log { owner = root, group = root, mode = 0700 }' --confdir /tmp/apply_file_metadata_specified_in_config.rENWYD/

t21rjumdkqr2x5d (centos6-64-2) executed in 0.63 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  /tmp/apply_file_metadata_specified_in_config.rENWYD/site.pp --confdir /tmp/apply_file_metadata_specified_in_config.rENWYD/
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Notice: puppet_run
Notice: /Stage[main]/Main/Node[default]/Notify[puppet_run]/message: defined 'message' as 'puppet_run'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.14 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:38$  stat --format '%U:%G %a' /tmp/apply_file_metadata_specified_in_config.rENWYD/log  
root:root 700

t21rjumdkqr2x5d (centos6-64-2) executed in 0.13 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/config" name="puppet_manages_own_configuration_in_robust_manner.rb" time="42.347360"><system-out><![CDATA[
Puppet manages its own configuration in a robust manner

  * Clear out yaml directory because of a bug in the indirector/yaml. (See #21145)

n6vo88vhlunm0j0 (centos6-64-1) 13:00:38$  rm -rf $(puppet master --configprint yamldir)  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.78 seconds

  * Record original state of system users

n6vo88vhlunm0j0 (centos6-64-1) 13:00:38$  puppet config print user  
puppet

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.61 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:39$  puppet config print group  
puppet

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.69 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user puppet
user { 'puppet':
  ensure           => 'present',
  comment          => 'Puppet',
  gid              => '52',
  home             => '/var/lib/puppet',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '52',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group puppet
group { 'puppet':
  ensure => 'present',
  gid    => '52',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.14 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:42$  puppet config print user  
puppet

t21rjumdkqr2x5d (centos6-64-2) executed in 0.55 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:42$  puppet config print group  
puppet

t21rjumdkqr2x5d (centos6-64-2) executed in 0.57 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user puppet
user { 'puppet':
  ensure           => 'present',
  comment          => 'Puppet',
  gid              => '52',
  home             => '/var/lib/puppet',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '52',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.90 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group puppet
group { 'puppet':
  ensure => 'present',
  gid    => '52',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.95 seconds

  * Remove system users

n6vo88vhlunm0j0 (centos6-64-1) 13:00:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user puppet ensure=absent
Notice: /User[puppet]/ensure: removed
user { 'puppet':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.74 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group puppet ensure=absent
group { 'puppet':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.36 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user puppet ensure=absent
Notice: /User[puppet]/ensure: removed
user { 'puppet':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.10 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group puppet ensure=absent
group { 'puppet':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.82 seconds

  * Ensure master fails to start when missing system user

n6vo88vhlunm0j0 (centos6-64-1) 13:00:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  
could not change to group "puppet"
Could not change to user puppet: Invalid user: puppet

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.74 seconds
Exited: 74

  * Ensure master starts when making users after having previously failed startup

n6vo88vhlunm0j0 (centos6-64-1) 13:00:52$  mktemp -dt puppet_manages_own_configuration_in_robust_manner.rb.XXXXXX  
/tmp/puppet_manages_own_configuration_in_robust_manner.rb.8iQB3b

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:52$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:52$  cp /etc/puppet/puppet.conf /tmp/puppet_manages_own_configuration_in_robust_manner.rb.8iQB3b/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:52$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-nvdoiz centos6-64-1:/tmp/puppet_manages_own_configuration_in_robust_manner.rb.8iQB3b/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:52$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
mkusers = true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:00:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  --debug --trace

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.13 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:00:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121658'
Notice: Finished catalog run in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.19 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:00:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121658'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.89 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:02$  if [ -f '/tmp/puppet_manages_own_configuration_in_robust_manner.rb.8iQB3b/puppet.conf.bak' ]; then cat '/tmp/puppet_manages_own_configuration_in_robust_manner.rb.8iQB3b/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/puppet_manages_own_configuration_in_robust_manner.rb.8iQB3b/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:02$  cat `puppet master --configprint pidfile`  
6789
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.78 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:03$  kill 6789  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:03$  kill -0 6789  
bash: line 0: kill: (6789) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:01:03$  rm -rf $(puppet master --configprint yamldir)  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.66 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:04$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.II3Zhl

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-2hmtrz centos6-64-1:/tmp/apply_manifest.pp.II3Zhl {}

n6vo88vhlunm0j0 (centos6-64-1) 13:01:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.II3Zhl
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.28 seconds
Info: Applying configuration version '1403121666'
Notice: /Stage[main]/Main/Group[puppet]/gid: gid changed '500' to '52'
Notice: /Stage[main]/Main/User[puppet]/home: home changed '/home/puppet' to '/var/lib/puppet'
Notice: /Stage[main]/Main/User[puppet]/uid: uid changed '500' to '52'
Notice: /Stage[main]/Main/User[puppet]/comment: comment changed '' to 'Puppet'
Notice: /Stage[main]/Main/User[puppet]/shell: shell changed '/bin/bash' to '/sbin/nologin'
Notice: /Stage[main]/Main/User[puppet]/password_min_age: password_min_age changed '0' to '-1'
Notice: /Stage[main]/Main/User[puppet]/password_max_age: password_max_age changed '99999' to '-1'
Notice: Finished catalog run in 0.67 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.44 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:01:07$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.GAgr13

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1y54xp4 centos6-64-2:/tmp/apply_manifest.pp.GAgr13 {}

t21rjumdkqr2x5d (centos6-64-2) 13:01:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.GAgr13
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.24 seconds
Info: Applying configuration version '1403121669'
Notice: /Stage[main]/Main/Group[puppet]/ensure: created
Notice: /Stage[main]/Main/User[puppet]/ensure: created
Notice: Finished catalog run in 0.27 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.27 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:10$  mktemp -dt puppet_manages_own_configuration_in_robust_manner.rb.XXXXXX  
/tmp/puppet_manages_own_configuration_in_robust_manner.rb.74lenL

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:10$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:10$  cp /etc/puppet/puppet.conf /tmp/puppet_manages_own_configuration_in_robust_manner.rb.74lenL/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:10$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1bv0tc8 centos6-64-1:/tmp/puppet_manages_own_configuration_in_robust_manner.rb.74lenL/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:10$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.74 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:01:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121675'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.24 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:01:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121675'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.78 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:18$  if [ -f '/tmp/puppet_manages_own_configuration_in_robust_manner.rb.74lenL/puppet.conf.bak' ]; then cat '/tmp/puppet_manages_own_configuration_in_robust_manner.rb.74lenL/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/puppet_manages_own_configuration_in_robust_manner.rb.74lenL/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:18$  cat `puppet master --configprint pidfile`  
7141
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:19$  kill 7141  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:19$  kill -0 7141  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:20$  kill -0 7141  
bash: line 0: kill: (7141) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="cycle_detection.rb" time="8.460035"><system-out><![CDATA[
cycle detection and reporting

  * check we report a simple cycle

n6vo88vhlunm0j0 (centos6-64-1) 13:01:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.8geB1V

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1y4q86x centos6-64-1:/tmp/apply_manifest.pp.8geB1V {}

n6vo88vhlunm0j0 (centos6-64-1) 13:01:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.8geB1V
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403121681'
Error: Could not apply complete catalog: Found 1 dependency cycle:
(Notify[a1] => Notify[a2] => Notify[a1])
Try the '--graph' option and opening the resulting '.dot' file in OmniGraffle or GraphViz
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.01 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:01:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XhnFqt

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1f4q3tg centos6-64-2:/tmp/apply_manifest.pp.XhnFqt {}

t21rjumdkqr2x5d (centos6-64-2) 13:01:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XhnFqt
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403121684'
Error: Could not apply complete catalog: Found 1 dependency cycle:
(Notify[a1] => Notify[a2] => Notify[a1])
Try the '--graph' option and opening the resulting '.dot' file in OmniGraffle or GraphViz
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.24 seconds

  * report multiple cycles in the same graph

n6vo88vhlunm0j0 (centos6-64-1) 13:01:25$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.P4m6QC

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1m2xjrx centos6-64-1:/tmp/apply_manifest.pp.P4m6QC {}

n6vo88vhlunm0j0 (centos6-64-1) 13:01:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.P4m6QC
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403121686'
Error: Could not apply complete catalog: Found 2 dependency cycles:
(Notify[a1] => Notify[a2] => Notify[a1])
(Notify[b1] => Notify[b2] => Notify[b1])
Try the '--graph' option and opening the resulting '.dot' file in OmniGraffle or GraphViz
Notice: Finished catalog run in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.87 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:01:27$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.vtiZDx

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-u496gl centos6-64-2:/tmp/apply_manifest.pp.vtiZDx {}

t21rjumdkqr2x5d (centos6-64-2) 13:01:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.vtiZDx
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403121688'
Error: Could not apply complete catalog: Found 2 dependency cycles:
(Notify[a1] => Notify[a2] => Notify[a1])
(Notify[b1] => Notify[b2] => Notify[b1])
Try the '--graph' option and opening the resulting '.dot' file in OmniGraffle or GraphViz
Notice: Finished catalog run in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.73 seconds
]]></system-out><system-err><![CDATA[Error: Could not apply complete catalog: Found 2 dependency cycles:
(Notify[a1] => Notify[a2] => Notify[a1])
(Notify[b1] => Notify[b2] => Notify[b1])
Try the '--graph' option and opening the resulting '.dot' file in OmniGraffle or GraphViz
]]></system-err></testcase><testcase classname="tests/doc" name="should_print_function_reference.rb" time="1.492606"><system-out><![CDATA[
verify we can print the function reference

n6vo88vhlunm0j0 (centos6-64-1) 13:01:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet doc  -r function
# Function Reference



**This page is autogenerated; any changes will get overwritten** *(last generated on Wed Jun 18 13:01:29 -0700 2014)*


There are two types of functions in Puppet: Statements and rvalues.
Statements stand on their own and do not return arguments; they are used for
performing stand-alone work like importing.  Rvalues return values and can
only be used in a statement requiring a value, such as an assignment or a case
statement.

Functions execute on the Puppet master.  They do not execute on the Puppet agent.
Hence they only have access to the commands and data available on the Puppet master
host.

Here are the functions available in Puppet:

alert
-----
Log a message on the server at level alert.

- *Type*: statement

collect
-------
The 'collect' function has been renamed to 'map'. Please update your manifests.

The collect function is reserved for future use.
- Removed as of 3.4
- requires `parser = future`.

- *Type*: rvalue

contain
-------
Contain one or more classes inside the current class. If any of
these classes are undeclared, they will be declared as if called with the
`include` function. Accepts a class name, an array of class names, or a
comma-separated list of class names.

A contained class will not be applied before the containing class is
begun, and will be finished before the containing class is finished.

- *Type*: statement

create_resources
----------------
Converts a hash into a set of resources and adds them to the catalog.

This function takes two mandatory arguments: a resource type, and a hash describing
a set of resources. The hash should be in the form `{title => {parameters} }`:

    # A hash of user resources:
    $myusers = {
      'nick' => { uid    => '1330',
                  gid    => allstaff,
                  groups => ['developers', 'operations', 'release'], },
      'dan'  => { uid    => '1308',
                  gid    => allstaff,
                  groups => ['developers', 'prosvc', 'release'], },
    }

    create_resources(user, $myusers)

A third, optional parameter may be given, also as a hash:

    $defaults = {
      'ensure'   => present,
      'provider' => 'ldap',
    }

    create_resources(user, $myusers, $defaults)

The values given on the third argument are added to the parameters of each resource
present in the set given on the second argument. If a parameter is present on both
the second and third arguments, the one on the second argument takes precedence.

This function can be used to create defined resources and classes, as well
as native resources.

Virtual and Exported resources may be created by prefixing the type name
with @ or @@ respectively.  For example, the $myusers hash may be exported
in the following manner:

    create_resources("@@user", $myusers)

The $myusers may be declared as virtual resources using:

    create_resources("@user", $myusers)

- *Type*: statement

crit
----
Log a message on the server at level crit.

- *Type*: statement

debug
-----
Log a message on the server at level debug.

- *Type*: statement

defined
-------
Determine whether
 a given class or resource type is defined. This function can also determine whether a
 specific resource has been declared, or whether a variable has been assigned a value
 (including undef...as opposed to never having been assigned anything). Returns true
 or false. Accepts class names, type names, resource references, and variable
 reference strings of the form '$name'.  When more than one argument is
 supplied, defined() returns true if any are defined.

 The `defined` function checks both native and defined types, including types
 provided as plugins via modules. Types and classes are both checked using their names:

     defined("file")
     defined("customtype")
     defined("foo")
     defined("foo::bar")
     defined('$name')

 Resource declarations are checked using resource references, e.g.
 `defined( File['/tmp/myfile'] )`. Checking whether a given resource
 has been declared is, unfortunately, dependent on the parse order of
 the configuration, and the following code will not work:

     if defined(File['/tmp/foo']) {
         notify { "This configuration includes the /tmp/foo file.":}
     }
     file { "/tmp/foo":
         ensure => present,
     }

 However, this order requirement refers to parse order only, and ordering of
 resources in the configuration graph (e.g. with `before` or `require`) does not
 affect the behavior of `defined`.

 If the future parser is in effect, you may also search using types:

     defined(Resource['file','/some/file'])
     defined(File['/some/file'])
     defined(Class['foo'])

- Since 2.7.0
- Since 3.6.0 variable reference and future parser types

- *Type*: rvalue

each
----
Applies a parameterized block to each element in a sequence of selected entries from the first
argument and returns the first argument.

This function takes two mandatory arguments: the first should be an Array or a Hash or something that is
of enumerable type (integer, Integer range, or String), and the second
a parameterized block as produced by the puppet syntax:

      $a.each |$x| { ... }
      each($a) |$x| { ... }

When the first argument is an Array (or of enumerable type other than Hash), the parameterized block
should define one or two block parameters.
For each application of the block, the next element from the array is selected, and it is passed to
the block if the block has one parameter. If the block has two parameters, the first is the elements
index, and the second the value. The index starts from 0.

      $a.each |$index, $value| { ... }
      each($a) |$index, $value| { ... }

When the first argument is a Hash, the parameterized block should define one or two parameters.
When one parameter is defined, the iteration is performed with each entry as an array of `[key, value]`,
and when two parameters are defined the iteration is performed with key and value.

      $a.each |$entry|       { ..."key ${$entry[0]}, value ${$entry[1]}" }
      $a.each |$key, $value| { ..."key ${key}, value ${value}" }

*Examples*

      [1,2,3].each |$val| { ... }                       # 1, 2, 3
      [5,6,7].each |$index, $val| { ... }               # (0, 5), (1, 6), (2, 7)
      {a=>1, b=>2, c=>3}].each |$val| { ... }           # ['a', 1], ['b', 2], ['c', 3]
      {a=>1, b=>2, c=>3}.each |$key, $val| { ... }      # ('a', 1), ('b', 2), ('c', 3)
      Integer[ 10, 20 ].each |$index, $value| { ... }   # (0, 10), (1, 11) ...
      "hello".each |$char| { ... }                      # 'h', 'e', 'l', 'l', 'o'
      3.each |$number| { ... }                          # 0, 1, 2

- Since 3.2 for Array and Hash
- Since 3.5 for other enumerables
- requires `parser = future`.

- *Type*: rvalue

emerg
-----
Log a message on the server at level emerg.

- *Type*: statement

epp
---
Evaluates an Embedded Puppet Template (EPP) file and returns the rendered text result as a String.

EPP support the following tags:

* `<%= puppet expression %>` - This tag renders the value of the expression it contains.
* `<% puppet expression(s) %>` - This tag will execute the expression(s) it contains, but renders nothing.
* `<%# comment %>` - The tag and its content renders nothing.
* `<%%` or `%%>` - Renders a literal `<%` or `%>` respectively.
* `<%-` - Same as `<%` but suppresses any leading whitespace.
* `-%>` - Same as `%>` but suppresses any trailing whitespace on the same line (including line break).
* `<%-( parameters )-%>` - When placed as the first tag declares the template's parameters.

File based EPP supports the following visibilities of variables in scope:

* Global scope (i.e. top + node scopes) - global scope is always visible
* Global + all given arguments - if the EPP template does not declare parameters, and arguments are given
* Global + declared parameters - if the EPP declares parameters, given argument names must match

EPP supports parameters by placing an optional parameter list as the very first element in the EPP. As an example,
`<%- ($x, $y, $z='unicorn') -%>` when placed first in the EPP text declares that the parameters `x` and `y` must be
given as template arguments when calling `inline_epp`, and that `z` if not given as a template argument
defaults to `'unicorn'`. Template parameters are available as variables, e.g.arguments `$x`, `$y` and `$z` in the example.
Note that `<%-` must be used or any leading whitespace will be interpreted as text

Arguments are passed to the template by calling `epp` with a Hash as the last argument, where parameters
are bound to values, e.g. `epp('...', {'x'=>10, 'y'=>20})`. Excess arguments may be given
(i.e. undeclared parameters) only if the EPP templates does not declare any parameters at all.
Template parameters shadow variables in outer scopes. File based epp does never have access to variables in the
scope where the `epp` function is called from.

- See function inline_epp for examples of EPP
- Since 3.5
- Requires Future Parser

- *Type*: rvalue

err
---
Log a message on the server at level err.

- *Type*: statement

extlookup
---------
This is a parser function to read data from external files, this version
uses CSV files but the concept can easily be adjust for databases, yaml
or any other queryable data source.

The object of this is to make it obvious when it's being used, rather than
magically loading data in when a module is loaded I prefer to look at the code
and see statements like:

    $snmp_contact = extlookup("snmp_contact")

The above snippet will load the snmp_contact value from CSV files, this in its
own is useful but a common construct in puppet manifests is something like this:

    case $domain {
      "myclient.com": { $snmp_contact = "John Doe <john@myclient.com>" }
      default:        { $snmp_contact = "My Support <support@my.com>" }
    }

Over time there will be a lot of this kind of thing spread all over your manifests
and adding an additional client involves grepping through manifests to find all the
places where you have constructs like this.

This is a data problem and shouldn't be handled in code, and using this function you
can do just that.

First you configure it in site.pp:

    $extlookup_datadir = "/etc/puppet/manifests/extdata"
    $extlookup_precedence = ["%{fqdn}", "domain_%{domain}", "common"]

The array tells the code how to resolve values, first it will try to find it in
web1.myclient.com.csv then in domain_myclient.com.csv and finally in common.csv

Now create the following data files in /etc/puppet/manifests/extdata:

    domain_myclient.com.csv:
      snmp_contact,John Doe <john@myclient.com>
      root_contact,support@%{domain}
      client_trusted_ips,192.168.1.130,192.168.10.0/24

    common.csv:
      snmp_contact,My Support <support@my.com>
      root_contact,support@my.com

Now you can replace the case statement with the simple single line to achieve
the exact same outcome:

    $snmp_contact = extlookup("snmp_contact")

The above code shows some other features, you can use any fact or variable that
is in scope by simply using %{varname} in your data files, you can return arrays
by just having multiple values in the csv after the initial variable name.

In the event that a variable is nowhere to be found a critical error will be raised
that will prevent your manifest from compiling, this is to avoid accidentally putting
in empty values etc.  You can however specify a default value:

    $ntp_servers = extlookup("ntp_servers", "1.${country}.pool.ntp.org")

In this case it will default to "1.${country}.pool.ntp.org" if nothing is defined in
any data file.

You can also specify an additional data file to search first before any others at use
time, for example:

    $version = extlookup("rsyslog_version", "present", "packages")
    package{"rsyslog": ensure => $version }

This will look for a version configured in packages.csv and then in the rest as configured
by $extlookup_precedence if it's not found anywhere it will default to `present`, this kind
of use case makes puppet a lot nicer for managing large amounts of packages since you do not
need to edit a load of manifests to do simple things like adjust a desired version number.

Precedence values can have variables embedded in them in the form %{fqdn}, you could for example do:

    $extlookup_precedence = ["hosts/%{fqdn}", "common"]

This will result in /path/to/extdata/hosts/your.box.com.csv being searched.

This is for back compatibility to interpolate variables with %. % interpolation is a workaround for a problem that has been fixed: Puppet variable interpolation at top scope used to only happen on each run.

- *Type*: rvalue

fail
----
Fail with a parse error.

- *Type*: statement

file
----
Return the contents of a file.  Multiple files
can be passed, and the first file that exists will be read in.

- *Type*: rvalue

filter
------
Applies a parameterized block to each element in a sequence of entries from the first
argument and returns an array or hash (same type as left operand for array/hash, and array for
other enumerable types) with the entries for which the block evaluates to `true`.

This function takes two mandatory arguments: the first should be an Array, a Hash, or an
Enumerable object (integer, Integer range, or String),
and the second a parameterized block as produced by the puppet syntax:

      $a.filter |$x| { ... }
      filter($a) |$x| { ... }

When the first argument is something other than a Hash, the block is called with each entry in turn.
When the first argument is a Hash the entry is an array with `[key, value]`.

*Examples*

      # selects all that end with berry
      $a = ["raspberry", "blueberry", "orange"]
      $a.filter |$x| { $x =~ /berry$/ }          # rasberry, blueberry

If the block defines two parameters, they will be set to `index, value` (with index starting at 0) for all
enumerables except Hash, and to `key, value` for a Hash.

*Examples*

      # selects all that end with 'berry' at an even numbered index
      $a = ["raspberry", "blueberry", "orange"]
      $a.filter |$index, $x| { $index % 2 == 0 and $x =~ /berry$/ } # raspberry

      # selects all that end with 'berry' and value >= 1
      $a = {"raspberry"=>0, "blueberry"=>1, "orange"=>1}
      $a.filter |$key, $x| { $x =~ /berry$/ and $x >= 1 } # blueberry

- Since 3.4 for Array and Hash
- Since 3.5 for other enumerables
- requires `parser = future`

- *Type*: rvalue

fqdn_rand
---------
Usage: `fqdn_rand(MAX, [SEED])`. MAX is required and must be a positive
integer; SEED is optional and may be any number or string.

Generates a random whole number greater than or equal to 0 and less than MAX,
combining the `$fqdn` fact and the value of SEED for repeatable randomness.
(That is, each node will get a different random number from this function, but
a given node's result will be the same every time unless its hostname changes.)

This function is usually used for spacing out runs of resource-intensive cron
tasks that run on many nodes, which could cause a thundering herd or degrade
other services if they all fire at once. Adding a SEED can be useful when you
have more than one such task and need several unrelated random numbers per
node. (For example, `fqdn_rand(30)`, `fqdn_rand(30, 'expensive job 1')`, and
`fqdn_rand(30, 'expensive job 2')` will produce totally different numbers.)

- *Type*: rvalue

generate
--------
Calls an external command on the Puppet master and returns
the results of the command.  Any arguments are passed to the external command as
arguments.  If the generator does not exit with return code of 0,
the generator is considered to have failed and a parse error is
thrown.  Generators can only have file separators, alphanumerics, dashes,
and periods in them.  This function will attempt to protect you from
malicious generator calls (e.g., those with '..' in them), but it can
never be entirely safe.  No subshell is used to execute
generators, so all shell metacharacters are passed directly to
the generator.

- *Type*: rvalue

hiera
-----
Performs a
standard priority lookup and returns the most specific value for a given key.
The returned value can be data of any type (strings, arrays, or hashes).

In addition to the required `key` argument, `hiera` accepts two additional
arguments:

- a `default` argument in the second position, providing a value to be
  returned in the absence of matches to the `key` argument
- an `override` argument in the third position, providing a data source
  to consult for matching values, even if it would not ordinarily be
  part of the matched hierarchy. If Hiera doesn't find a matching key
  in the named override data source, it will continue to search through the
  rest of the hierarchy.

More thorough examples of `hiera` are available at:
<http://docs.puppetlabs.com/hiera/1/puppet.html#hiera-lookup-functions>

- *Type*: rvalue

hiera_array
-----------
Returns all
matches throughout the hierarchy --- not just the first match --- as a flattened array of unique values.
If any of the matched values are arrays, they're flattened and included in the results.

In addition to the required `key` argument, `hiera_array` accepts two additional
arguments:

- a `default` argument in the second position, providing a string or array to be returned
  in the absence of  matches to the `key` argument
- an `override` argument in the third position, providing a data source to consult for
  matching values, even if it would not ordinarily be part of the matched hierarchy.
  If Hiera doesn't find a matching key in the named override data source, it will
  continue to search through the rest of the hierarchy.

If any matched value is a hash, puppet will raise a type mismatch error.

More thorough examples of `hiera` are available at:
<http://docs.puppetlabs.com/hiera/1/puppet.html#hiera-lookup-functions>

- *Type*: rvalue

hiera_hash
----------
Returns a merged hash of matches from throughout the hierarchy. In cases where two or
more hashes share keys, the hierarchy  order determines which key/value pair will be
used in the returned hash, with the pair in the highest priority data source winning.

In addition to the required `key` argument, `hiera_hash` accepts two additional
arguments:

- a `default` argument in the second position, providing a  hash to be returned in the
absence of any matches for the `key` argument
- an `override` argument in the third position, providing  a data source to insert at
the top of the hierarchy, even if it would not ordinarily match during a Hiera data
source lookup. If Hiera doesn't find a match in the named override data source, it will
continue to search through the rest of the hierarchy.

`hiera_hash` expects that all values returned will be hashes. If any of the values
found in the data sources are strings or arrays, puppet will raise a type mismatch error.

More thorough examples of `hiera_hash` are available at:
<http://docs.puppetlabs.com/hiera/1/puppet.html#hiera-lookup-functions>

- *Type*: rvalue

hiera_include
-------------
Assigns classes to a node
using an array merge lookup that retrieves the value for a user-specified key
from a Hiera data source.

To use `hiera_include`, the following configuration is required:

- A key name to use for classes, e.g. `classes`.
- A line in the puppet `sites.pp` file (e.g. `/etc/puppet/manifests/sites.pp`)
  reading `hiera_include('classes')`. Note that this line must be outside any node
  definition and below any top-scope variables in use for Hiera lookups.
- Class keys in the appropriate data sources. In a data source keyed to a node's role,
  one might have:

          ---
          classes:
            - apache
            - apache::passenger

In addition to the required `key` argument, `hiera_include` accepts two additional
arguments:

- a `default` argument in the second position, providing an array to be returned
  in the absence of matches to the `key` argument
- an `override` argument in the third position, providing a data source to consult
  for matching values, even if it would not ordinarily be part of the matched hierarchy.
  If Hiera doesn't find a matching key in the named override data source, it will continue
  to search through the rest of the hierarchy.

More thorough examples of `hiera_include` are available at:
<http://docs.puppetlabs.com/hiera/1/puppet.html#hiera-lookup-functions>

- *Type*: statement

include
-------
Declares one or more classes, causing the resources in them to be
evaluated and added to the catalog. Accepts a class name, an array of class
names, or a comma-separated list of class names.

The `include` function can be used multiple times on the same class and will
only declare a given class once. If a class declared with `include` has any
parameters, Puppet will automatically look up values for them in Hiera, using
`<class name>::<parameter name>` as the lookup key.

Contrast this behavior with resource-like class declarations
(`class {'name': parameter => 'value',}`), which must be used in only one place
per class and can directly set parameters. You should avoid using both `include`
and resource-like declarations with the same class.

The `include` function does not cause classes to be contained in the class
where they are declared. For that, see the `contain` function. It also
does not create a dependency relationship between the declared class and the
surrounding class; for that, see the `require` function.

- *Type*: statement

info
----
Log a message on the server at level info.

- *Type*: statement

inline_epp
----------
Evaluates an Embedded Puppet Template (EPP) string and returns the rendered text result as a String.

EPP support the following tags:

* `<%= puppet expression %>` - This tag renders the value of the expression it contains.
* `<% puppet expression(s) %>` - This tag will execute the expression(s) it contains, but renders nothing.
* `<%# comment %>` - The tag and its content renders nothing.
* `<%%` or `%%>` - Renders a literal `<%` or `%>` respectively.
* `<%-` - Same as `<%` but suppresses any leading whitespace.
* `-%>` - Same as `%>` but suppresses any trailing whitespace on the same line (including line break).
* `<%-( parameters )-%>` - When placed as the first tag declares the template's parameters.

Inline EPP supports the following visibilities of variables in scope which depends on how EPP parameters
are used - see further below:

* Global scope (i.e. top + node scopes) - global scope is always visible
* Global + Enclosing scope - if the EPP template does not declare parameters, and no arguments are given
* Global + all given arguments - if the EPP template does not declare parameters, and arguments are given
* Global + declared parameters - if the EPP declares parameters, given argument names must match

EPP supports parameters by placing an optional parameter list as the very first element in the EPP. As an example,
`<%-( $x, $y, $z='unicorn' )-%>` when placed first in the EPP text declares that the parameters `x` and `y` must be
given as template arguments when calling `inline_epp`, and that `z` if not given as a template argument
defaults to `'unicorn'`. Template parameters are available as variables, e.g.arguments `$x`, `$y` and `$z` in the example.
Note that `<%-` must be used or any leading whitespace will be interpreted as text

Arguments are passed to the template by calling `inline_epp` with a Hash as the last argument, where parameters
are bound to values, e.g. `inline_epp('...', {'x'=>10, 'y'=>20})`. Excess arguments may be given
(i.e. undeclared parameters) only if the EPP templates does not declare any parameters at all.
Template parameters shadow variables in outer scopes.

Note: An inline template is best stated using a single-quoted string, or a heredoc since a double-quoted string
is subject to expression interpolation before the string is parsed as an EPP template. Here are examples
(using heredoc to define the EPP text):

    # produces 'Hello local variable world!'
    $x ='local variable'
    inline_epptemplate(@(END:epp))
    <%-( $x )-%>
    Hello <%= $x %> world!
    END

    # produces 'Hello given argument world!'
    $x ='local variable world'
    inline_epptemplate(@(END:epp), { x =>'given argument'})
    <%-( $x )-%>
    Hello <%= $x %> world!
    END

    # produces 'Hello given argument world!'
    $x ='local variable world'
    inline_epptemplate(@(END:epp), { x =>'given argument'})
    <%-( $x )-%>
    Hello <%= $x %>!
    END

    # results in error, missing value for y
    $x ='local variable world'
    inline_epptemplate(@(END:epp), { x =>'given argument'})
    <%-( $x, $y )-%>
    Hello <%= $x %>!
    END

    # Produces 'Hello given argument planet'
    $x ='local variable world'
    inline_epptemplate(@(END:epp), { x =>'given argument'})
    <%-( $x, $y=planet)-%>
    Hello <%= $x %> <%= $y %>!
    END

- Since 3.5
- Requires Future Parser

- *Type*: rvalue

inline_template
---------------
Evaluate a template string and return its value.  See
[the templating docs](http://docs.puppetlabs.com/guides/templating.html) for
more information.  Note that if multiple template strings are specified, their
output is all concatenated and returned as the output of the function.

- *Type*: rvalue

lookup
------
Looks up data defined using Puppet Bindings and Hiera.
The function is callable with one to three arguments and optionally with a code block to further process the result.

The lookup function can be called in one of these ways:

    lookup(name)
    lookup(name, type)
    lookup(name, type, default)
    lookup(options_hash)
    lookup(name, options_hash)

The function may optionally be called with a code block / lambda with the following signatures:

    lookup(...) |$result| { ... }
    lookup(...) |$name, $result| { ... }
    lookup(...) |$name, $result, $default| { ... }

The longer signatures are useful when the block needs to raise an error (it can report the name), or
if it needs to know if the given default value was selected.

The code block receives the following three arguments:

* The `$name` is the last name that was looked up (*the* name if only one name was looked up)
* The `$result` is the looked up value (or the default value if not found).
* The `$default` is the given default value (`undef` if not given).

The block, if present, is called with the result from the lookup. The value produced by the block is also what is
produced by the `lookup` function.
When a block is used, it is the users responsibility to call `error` if the result does not meet additional
criteria, or if an undef value is not acceptable. If a value is not found, and a default has been
specified, the default value is given to the block.

The content of the options hash is:

* `name` - The name or array of names to lookup (first found is returned)
* `type` - The type to assert (a Type or a type specification in string form)
* `default` - The default value if there was no value found (must comply with the data type)
* `accept_undef` - (default `false`) An `undef` result is accepted if this options is set to `true`.
* `override` - a hash with map from names to values that are used instead of the underlying bindings. If the name
  is found here it wins. Defaults to an empty hash.
* `extra` - a hash with map from names to values that are used as a last resort to obtain a value. Defaults to an
  empty hash.

When the call is on the form `lookup(name, options_hash)`, or `lookup(name, type, options_hash)`, the given name
argument wins over the `options_hash['name']`.

The search order is `override` (if given), then `binder`, then `hiera` and finally `extra` (if given). The first to produce
a value other than undef for a given name wins.

The type specification is one of:

  * A type in the Puppet Type System, e.g.:
    * `Integer`, an integral value with optional range e.g.:
      * `Integer[0, default]` - 0 or positive
      * `Integer[default, -1]` - negative,
      * `Integer[1,100]` - value between 1 and 100 inclusive
    * `String`- any string
    * `Float` - floating point number (same signature as for Integer for `Integer` ranges)
    * `Boolean` - true of false (strict)
    * `Array` - an array (of Data by default), or parameterized as `Array[<element_type>]`, where
      `<element_type>` is the expected type of elements
    * `Hash`,  - a hash (of default `Literal` keys and `Data` values), or parameterized as
      `Hash[<value_type>]`, `Hash[<key_type>, <value_type>]`, where `<key_type>`, and
      `<value_type>` are the types of the keys and values respectively
      (key is `Literal` by default).
    * `Data` - abstract type representing any `Literal`, `Array[Data]`, or `Hash[Literal, Data]`
    * `Pattern[<p1>, <p2>, ..., <pn>]` - an enumeration of valid patterns (one or more) where
       a pattern is a regular expression string or regular expression,
       e.g. `Pattern['.com$', '.net$']`, `Pattern[/[a-z]+[0-9]+/]`
    * `Enum[<s1>, <s2>, ..., <sn>]`, - an enumeration of exact string values (one or more)
       e.g. `Enum[blue, red, green]`.
    * `Variant[<t1>, <t2>,...<tn>]` - matches one of the listed types (at least one must be given)
      e.g. `Variant[Integer[8000,8999], Integer[20000, 99999]]` to accept a value in either range
    * `Regexp`- a regular expression (i.e. the result is a regular expression, not a string
       matching a regular expression).
  * A string containing a type description - one of the types as shown above but in string form.

If the function is called without specifying a default value, and nothing is bound to the given name
an error is raised unless the option `accept_undef` is true. If a block is given it must produce an acceptable
value (or call `error`). If the block does not produce an acceptable value an error is
raised.

Examples:

When called with one argument; **the name**, it
returns the bound value with the given name after having  asserted it has the default datatype `Data`:

    lookup('the_name')

When called with two arguments; **the name**, and **the expected type**, it
returns the bound value with the given name after having asserted it has the given data
type ('String' in the example):

    lookup('the_name', 'String') # 3.x
    lookup('the_name', String)   # parser future

When called with three arguments, **the name**, the **expected type**, and a **default**, it
returns the bound value with the given name, or the default after having asserted the value
has the given data type (`String` in the example above):

    lookup('the_name', 'String', 'Fred') # 3x
    lookup('the_name', String, 'Fred')   # parser future

Using a lambda to process the looked up result - asserting that it starts with an upper case letter:

    # only with parser future
    lookup('the_size', Integer[1,100]) |$result| {
      if $large_value_allowed and $result > 10
        { error 'Values larger than 10 are not allowed'}
      $result
    }

Including the name in the error

    # only with parser future
    lookup('the_size', Integer[1,100]) |$name, $result| {
      if $large_value_allowed and $result > 10
        { error 'The bound value for '${name}' can not be larger than 10 in this configuration'}
      $result
    }

When using a block, the value it produces is also asserted against the given type, and it may not be
`undef` unless the option `'accept_undef'` is `true`.

All options work as the corresponding (direct) argument. The `first_found` option and
`accept_undef` are however only available as options.

Using first_found semantics option to return the first name that has a bound value:

    lookup(['apache::port', 'nginx::port'], 'Integer', 80)

If you want to make lookup return undef when no value was found instead of raising an error:

     $are_you_there = lookup('peekaboo', { accept_undef => true} )
     $are_you_there = lookup('peekaboo', { accept_undef => true}) |$result| { $result }

- *Type*: rvalue

map
---
Applies a parameterized block to each element in a sequence of entries from the first
argument and returns an array with the result of each invocation of the parameterized block.

This function takes two mandatory arguments: the first should be an Array, Hash, or of Enumerable type
(integer, Integer range, or String), and the second a parameterized block as produced by the puppet syntax:

      $a.map |$x| { ... }
      map($a) |$x| { ... }

When the first argument `$a` is an Array or of enumerable type, the block is called with each entry in turn.
When the first argument is a hash the entry is an array with `[key, value]`.

*Examples*

      # Turns hash into array of values
      $a.map |$x|{ $x[1] }

      # Turns hash into array of keys
      $a.map |$x| { $x[0] }

When using a block with 2 parameters, the element's index (starting from 0) for an array, and the key for a hash
is given to the block's first parameter, and the value is given to the block's second parameter.args.

*Examples*

      # Turns hash into array of values
      $a.map |$key,$val|{ $val }

      # Turns hash into array of keys
      $a.map |$key,$val|{ $key }

- Since 3.4 for Array and Hash
- Since 3.5 for other enumerables, and support for blocks with 2 parameters
- requires `parser = future`

- *Type*: rvalue

md5
---
Returns a MD5 hash value from a provided string.

- *Type*: rvalue

notice
------
Log a message on the server at level notice.

- *Type*: statement

realize
-------
Make a virtual object real.  This is useful
when you want to know the name of the virtual object and don't want to
bother with a full collection.  It is slightly faster than a collection,
and, of course, is a bit shorter.  You must pass the object using a
reference; e.g.: `realize User[luke]`.

- *Type*: statement

reduce
------
Applies a parameterized block to each element in a sequence of entries from the first
argument (_the enumerable_) and returns the last result of the invocation of the parameterized block.

This function takes two mandatory arguments: the first should be an Array, Hash, or something of
enumerable type, and the last a parameterized block as produced by the puppet syntax:

      $a.reduce |$memo, $x| { ... }
      reduce($a) |$memo, $x| { ... }

When the first argument is an Array or someting of an enumerable type, the block is called with each entry in turn.
When the first argument is a hash each entry is converted to an array with `[key, value]` before being
fed to the block. An optional 'start memo' value may be supplied as an argument between the array/hash
and mandatory block.

      $a.reduce(start) |$memo, $x| { ... }
      reduce($a, start) |$memo, $x| { ... }

If no 'start memo' is given, the first invocation of the parameterized block will be given the first and second
elements of the enumeration, and if the enumerable has fewer than 2 elements, the first
element is produced as the result of the reduction without invocation of the block.

On each subsequent invocation, the produced value of the invoked parameterized block is given as the memo in the
next invocation.

*Examples*

      # Reduce an array
      $a = [1,2,3]
      $a.reduce |$memo, $entry| { $memo + $entry }
      #=> 6

      # Reduce hash values
      $a = {a => 1, b => 2, c => 3}
      $a.reduce |$memo, $entry| { [sum, $memo[1]+$entry[1]] }
      #=> [sum, 6]

      # reverse a string
      "abc".reduce |$memo, $char| { "$char$memo" }
      #=>"cbe"

It is possible to provide a starting 'memo' as an argument.

*Examples*

      # Reduce an array
      $a = [1,2,3]
      $a.reduce(4) |$memo, $entry| { $memo + $entry }
      #=> 10

      # Reduce hash values
      $a = {a => 1, b => 2, c => 3}
      $a.reduce([na, 4]) |$memo, $entry| { [sum, $memo[1]+$entry[1]] }
      #=> [sum, 10]

*Examples*

      Integer[1,4].reduce |$memo, $x| { $memo + $x }
      #=> 10

- Since 3.2 for Array and Hash
- Since 3.5 for additional enumerable types
- requires `parser = future`.

- *Type*: rvalue

regsubst
--------

Perform regexp replacement on a string or array of strings.

* *Parameters* (in order):
    * _target_  The string or array of strings to operate on.  If an array, the replacement will be performed on each of the elements in the array, and the return value will be an array.
    * _regexp_  The regular expression matching the target string.  If you want it anchored at the start and or end of the string, you must do that with ^ and $ yourself.
    * _replacement_  Replacement string. Can contain backreferences to what was matched using \0 (whole match), \1 (first set of parentheses), and so on.
    * _flags_  Optional. String of single letter flags for how the regexp is interpreted:
        - *E*         Extended regexps
        - *I*         Ignore case in regexps
        - *M*         Multiline regexps
        - *G*         Global replacement; all occurrences of the regexp in each target string will be replaced.  Without this, only the first occurrence will be replaced.
    * _encoding_  Optional.  How to handle multibyte characters.  A single-character string with the following values:
        - *N*         None
        - *E*         EUC
        - *S*         SJIS
        - *U*         UTF-8

* *Examples*

Get the third octet from the node's IP address:

    $i3 = regsubst($ipaddress,'^(\d+)\.(\d+)\.(\d+)\.(\d+)$','\3')

Put angle brackets around each octet in the node's IP address:

    $x = regsubst($ipaddress, '([0-9]+)', '<\1>', 'G')

- *Type*: rvalue

require
-------
Evaluate one or more classes,  adding the required class as a dependency.

The relationship metaparameters work well for specifying relationships
between individual resources, but they can be clumsy for specifying
relationships between classes.  This function is a superset of the
'include' function, adding a class relationship so that the requiring
class depends on the required class.

Warning: using require in place of include can lead to unwanted dependency cycles.

For instance the following manifest, with 'require' instead of 'include' would produce a nasty dependence cycle, because notify imposes a before between File[/foo] and Service[foo]:

    class myservice {
      service { foo: ensure => running }
    }

    class otherstuff {
      include myservice
      file { '/foo': notify => Service[foo] }
    }

Note that this function only works with clients 0.25 and later, and it will
fail if used with earlier clients.

- *Type*: statement

search
------
Add another namespace for this class to search.
This allows you to create classes with sets of definitions and add
those classes to another class's search path.

- *Type*: statement

select
------
The 'select' function has been renamed to 'filter'. Please update your manifests.

The select function is reserved for future use.
- Removed as of 3.4
- requires `parser = future`.

- *Type*: rvalue

sha1
----
Returns a SHA1 hash value from a provided string.

- *Type*: rvalue

shellquote
----------
Quote and concatenate arguments for use in Bourne shell.

Each argument is quoted separately, and then all are concatenated
with spaces.  If an argument is an array, the elements of that
array is interpolated within the rest of the arguments; this makes
it possible to have an array of arguments and pass that array to
shellquote instead of having to specify each argument
individually in the call.

- *Type*: rvalue

slice
-----
Applies a parameterized block to each _slice_ of elements in a sequence of selected entries from the first
argument and returns the first argument, or if no block is given returns a new array with a concatenation of
the slices.

This function takes two mandatory arguments: the first, `$a`, should be an Array, Hash, or something of
enumerable type (integer, Integer range, or String), and the second, `$n`, the number of elements to include
in each slice. The optional third argument should be a a parameterized block as produced by the puppet syntax:

    $a.slice($n) |$x| { ... }
    slice($a) |$x| { ... }

The parameterized block should have either one parameter (receiving an array with the slice), or the same number
of parameters as specified by the slice size (each parameter receiving its part of the slice).
In case there are fewer remaining elements than the slice size for the last slice it will contain the remaining
elements. When the block has multiple parameters, excess parameters are set to :undef for an array or
enumerable type, and to empty arrays for a Hash.

    $a.slice(2) |$first, $second| { ... }

When the first argument is a Hash, each `key,value` entry is counted as one, e.g, a slice size of 2 will produce
an array of two arrays with key, and value.

    $a.slice(2) |$entry|          { notice "first ${$entry[0]}, second ${$entry[1]}" }
    $a.slice(2) |$first, $second| { notice "first ${first}, second ${second}" }

When called without a block, the function produces a concatenated result of the slices.

    slice([1,2,3,4,5,6], 2) # produces [[1,2], [3,4], [5,6]]
    slice(Integer[1,6], 2)  # produces [[1,2], [3,4], [5,6]]
    slice(4,2)              # produces [[0,1], [2,3]]
    slice('hello',2)        # produces [[h, e], [l, l], [o]]

- Since 3.2 for Array and Hash
- Since 3.5 for additional enumerable types
- requires `parser = future`.

- *Type*: rvalue

split
-----
Split a string variable into an array using the specified split regexp.

*Example:*

    $string     = 'v1.v2:v3.v4'
    $array_var1 = split($string, ':')
    $array_var2 = split($string, '[.]')
    $array_var3 = split($string, '[.:]')

`$array_var1` now holds the result `['v1.v2', 'v3.v4']`,
while `$array_var2` holds `['v1', 'v2:v3', 'v4']`, and
`$array_var3` holds `['v1', 'v2', 'v3', 'v4']`.

Note that in the second example, we split on a literal string that contains
a regexp meta-character (.), which must be escaped.  A simple
way to do that for a single character is to enclose it in square
brackets; a backslash will also escape a single character.

- *Type*: rvalue

sprintf
-------
Perform printf-style formatting of text.

The first parameter is format string describing how the rest of the parameters should be formatted.  See the documentation for the `Kernel::sprintf` function in Ruby for all the details.

- *Type*: rvalue

tag
---
Add the specified tags to the containing class
or definition.  All contained objects will then acquire that tag, also.

- *Type*: statement

tagged
------
A boolean function that
tells you whether the current container is tagged with the specified tags.
The tags are ANDed, so that all of the specified tags must be included for
the function to return true.

- *Type*: rvalue

template
--------
Evaluate a template and return its value.  See
[the templating docs](http://docs.puppetlabs.com/guides/templating.html) for
more information.

Note that if multiple templates are specified, their output is all
concatenated and returned as the output of the function.

- *Type*: rvalue

versioncmp
----------
Compares two version numbers.

Prototype:

    $result = versioncmp(a, b)

Where a and b are arbitrary version strings.

This function returns:

* `1` if version a is greater than version b
* `0` if the versions are equal
* `-1` if version a is less than version b

Example:

    if versioncmp('2.6-1', '2.4.5') > 0 {
        notice('2.6-1 is > than 2.4.5')
    }

This function uses the same version comparison algorithm used by Puppet's
`package` type.

- *Type*: rvalue

warning
-------
Log a message on the server at level warning.

- *Type*: statement



----------------

*This page autogenerated on Wed Jun 18 13:01:29 -0700 2014*

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:01:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet doc  -r function
# Function Reference



**This page is autogenerated; any changes will get overwritten** *(last generated on Wed Jun 18 13:01:30 -0700 2014)*


There are two types of functions in Puppet: Statements and rvalues.
Statements stand on their own and do not return arguments; they are used for
performing stand-alone work like importing.  Rvalues return values and can
only be used in a statement requiring a value, such as an assignment or a case
statement.

Functions execute on the Puppet master.  They do not execute on the Puppet agent.
Hence they only have access to the commands and data available on the Puppet master
host.

Here are the functions available in Puppet:

alert
-----
Log a message on the server at level alert.

- *Type*: statement

collect
-------
The 'collect' function has been renamed to 'map'. Please update your manifests.

The collect function is reserved for future use.
- Removed as of 3.4
- requires `parser = future`.

- *Type*: rvalue

contain
-------
Contain one or more classes inside the current class. If any of
these classes are undeclared, they will be declared as if called with the
`include` function. Accepts a class name, an array of class names, or a
comma-separated list of class names.

A contained class will not be applied before the containing class is
begun, and will be finished before the containing class is finished.

- *Type*: statement

create_resources
----------------
Converts a hash into a set of resources and adds them to the catalog.

This function takes two mandatory arguments: a resource type, and a hash describing
a set of resources. The hash should be in the form `{title => {parameters} }`:

    # A hash of user resources:
    $myusers = {
      'nick' => { uid    => '1330',
                  gid    => allstaff,
                  groups => ['developers', 'operations', 'release'], },
      'dan'  => { uid    => '1308',
                  gid    => allstaff,
                  groups => ['developers', 'prosvc', 'release'], },
    }

    create_resources(user, $myusers)

A third, optional parameter may be given, also as a hash:

    $defaults = {
      'ensure'   => present,
      'provider' => 'ldap',
    }

    create_resources(user, $myusers, $defaults)

The values given on the third argument are added to the parameters of each resource
present in the set given on the second argument. If a parameter is present on both
the second and third arguments, the one on the second argument takes precedence.

This function can be used to create defined resources and classes, as well
as native resources.

Virtual and Exported resources may be created by prefixing the type name
with @ or @@ respectively.  For example, the $myusers hash may be exported
in the following manner:

    create_resources("@@user", $myusers)

The $myusers may be declared as virtual resources using:

    create_resources("@user", $myusers)

- *Type*: statement

crit
----
Log a message on the server at level crit.

- *Type*: statement

debug
-----
Log a message on the server at level debug.

- *Type*: statement

defined
-------
Determine whether
 a given class or resource type is defined. This function can also determine whether a
 specific resource has been declared, or whether a variable has been assigned a value
 (including undef...as opposed to never having been assigned anything). Returns true
 or false. Accepts class names, type names, resource references, and variable
 reference strings of the form '$name'.  When more than one argument is
 supplied, defined() returns true if any are defined.

 The `defined` function checks both native and defined types, including types
 provided as plugins via modules. Types and classes are both checked using their names:

     defined("file")
     defined("customtype")
     defined("foo")
     defined("foo::bar")
     defined('$name')

 Resource declarations are checked using resource references, e.g.
 `defined( File['/tmp/myfile'] )`. Checking whether a given resource
 has been declared is, unfortunately, dependent on the parse order of
 the configuration, and the following code will not work:

     if defined(File['/tmp/foo']) {
         notify { "This configuration includes the /tmp/foo file.":}
     }
     file { "/tmp/foo":
         ensure => present,
     }

 However, this order requirement refers to parse order only, and ordering of
 resources in the configuration graph (e.g. with `before` or `require`) does not
 affect the behavior of `defined`.

 If the future parser is in effect, you may also search using types:

     defined(Resource['file','/some/file'])
     defined(File['/some/file'])
     defined(Class['foo'])

- Since 2.7.0
- Since 3.6.0 variable reference and future parser types

- *Type*: rvalue

each
----
Applies a parameterized block to each element in a sequence of selected entries from the first
argument and returns the first argument.

This function takes two mandatory arguments: the first should be an Array or a Hash or something that is
of enumerable type (integer, Integer range, or String), and the second
a parameterized block as produced by the puppet syntax:

      $a.each |$x| { ... }
      each($a) |$x| { ... }

When the first argument is an Array (or of enumerable type other than Hash), the parameterized block
should define one or two block parameters.
For each application of the block, the next element from the array is selected, and it is passed to
the block if the block has one parameter. If the block has two parameters, the first is the elements
index, and the second the value. The index starts from 0.

      $a.each |$index, $value| { ... }
      each($a) |$index, $value| { ... }

When the first argument is a Hash, the parameterized block should define one or two parameters.
When one parameter is defined, the iteration is performed with each entry as an array of `[key, value]`,
and when two parameters are defined the iteration is performed with key and value.

      $a.each |$entry|       { ..."key ${$entry[0]}, value ${$entry[1]}" }
      $a.each |$key, $value| { ..."key ${key}, value ${value}" }

*Examples*

      [1,2,3].each |$val| { ... }                       # 1, 2, 3
      [5,6,7].each |$index, $val| { ... }               # (0, 5), (1, 6), (2, 7)
      {a=>1, b=>2, c=>3}].each |$val| { ... }           # ['a', 1], ['b', 2], ['c', 3]
      {a=>1, b=>2, c=>3}.each |$key, $val| { ... }      # ('a', 1), ('b', 2), ('c', 3)
      Integer[ 10, 20 ].each |$index, $value| { ... }   # (0, 10), (1, 11) ...
      "hello".each |$char| { ... }                      # 'h', 'e', 'l', 'l', 'o'
      3.each |$number| { ... }                          # 0, 1, 2

- Since 3.2 for Array and Hash
- Since 3.5 for other enumerables
- requires `parser = future`.

- *Type*: rvalue

emerg
-----
Log a message on the server at level emerg.

- *Type*: statement

epp
---
Evaluates an Embedded Puppet Template (EPP) file and returns the rendered text result as a String.

EPP support the following tags:

* `<%= puppet expression %>` - This tag renders the value of the expression it contains.
* `<% puppet expression(s) %>` - This tag will execute the expression(s) it contains, but renders nothing.
* `<%# comment %>` - The tag and its content renders nothing.
* `<%%` or `%%>` - Renders a literal `<%` or `%>` respectively.
* `<%-` - Same as `<%` but suppresses any leading whitespace.
* `-%>` - Same as `%>` but suppresses any trailing whitespace on the same line (including line break).
* `<%-( parameters )-%>` - When placed as the first tag declares the template's parameters.

File based EPP supports the following visibilities of variables in scope:

* Global scope (i.e. top + node scopes) - global scope is always visible
* Global + all given arguments - if the EPP template does not declare parameters, and arguments are given
* Global + declared parameters - if the EPP declares parameters, given argument names must match

EPP supports parameters by placing an optional parameter list as the very first element in the EPP. As an example,
`<%- ($x, $y, $z='unicorn') -%>` when placed first in the EPP text declares that the parameters `x` and `y` must be
given as template arguments when calling `inline_epp`, and that `z` if not given as a template argument
defaults to `'unicorn'`. Template parameters are available as variables, e.g.arguments `$x`, `$y` and `$z` in the example.
Note that `<%-` must be used or any leading whitespace will be interpreted as text

Arguments are passed to the template by calling `epp` with a Hash as the last argument, where parameters
are bound to values, e.g. `epp('...', {'x'=>10, 'y'=>20})`. Excess arguments may be given
(i.e. undeclared parameters) only if the EPP templates does not declare any parameters at all.
Template parameters shadow variables in outer scopes. File based epp does never have access to variables in the
scope where the `epp` function is called from.

- See function inline_epp for examples of EPP
- Since 3.5
- Requires Future Parser

- *Type*: rvalue

err
---
Log a message on the server at level err.

- *Type*: statement

extlookup
---------
This is a parser function to read data from external files, this version
uses CSV files but the concept can easily be adjust for databases, yaml
or any other queryable data source.

The object of this is to make it obvious when it's being used, rather than
magically loading data in when a module is loaded I prefer to look at the code
and see statements like:

    $snmp_contact = extlookup("snmp_contact")

The above snippet will load the snmp_contact value from CSV files, this in its
own is useful but a common construct in puppet manifests is something like this:

    case $domain {
      "myclient.com": { $snmp_contact = "John Doe <john@myclient.com>" }
      default:        { $snmp_contact = "My Support <support@my.com>" }
    }

Over time there will be a lot of this kind of thing spread all over your manifests
and adding an additional client involves grepping through manifests to find all the
places where you have constructs like this.

This is a data problem and shouldn't be handled in code, and using this function you
can do just that.

First you configure it in site.pp:

    $extlookup_datadir = "/etc/puppet/manifests/extdata"
    $extlookup_precedence = ["%{fqdn}", "domain_%{domain}", "common"]

The array tells the code how to resolve values, first it will try to find it in
web1.myclient.com.csv then in domain_myclient.com.csv and finally in common.csv

Now create the following data files in /etc/puppet/manifests/extdata:

    domain_myclient.com.csv:
      snmp_contact,John Doe <john@myclient.com>
      root_contact,support@%{domain}
      client_trusted_ips,192.168.1.130,192.168.10.0/24

    common.csv:
      snmp_contact,My Support <support@my.com>
      root_contact,support@my.com

Now you can replace the case statement with the simple single line to achieve
the exact same outcome:

    $snmp_contact = extlookup("snmp_contact")

The above code shows some other features, you can use any fact or variable that
is in scope by simply using %{varname} in your data files, you can return arrays
by just having multiple values in the csv after the initial variable name.

In the event that a variable is nowhere to be found a critical error will be raised
that will prevent your manifest from compiling, this is to avoid accidentally putting
in empty values etc.  You can however specify a default value:

    $ntp_servers = extlookup("ntp_servers", "1.${country}.pool.ntp.org")

In this case it will default to "1.${country}.pool.ntp.org" if nothing is defined in
any data file.

You can also specify an additional data file to search first before any others at use
time, for example:

    $version = extlookup("rsyslog_version", "present", "packages")
    package{"rsyslog": ensure => $version }

This will look for a version configured in packages.csv and then in the rest as configured
by $extlookup_precedence if it's not found anywhere it will default to `present`, this kind
of use case makes puppet a lot nicer for managing large amounts of packages since you do not
need to edit a load of manifests to do simple things like adjust a desired version number.

Precedence values can have variables embedded in them in the form %{fqdn}, you could for example do:

    $extlookup_precedence = ["hosts/%{fqdn}", "common"]

This will result in /path/to/extdata/hosts/your.box.com.csv being searched.

This is for back compatibility to interpolate variables with %. % interpolation is a workaround for a problem that has been fixed: Puppet variable interpolation at top scope used to only happen on each run.

- *Type*: rvalue

fail
----
Fail with a parse error.

- *Type*: statement

file
----
Return the contents of a file.  Multiple files
can be passed, and the first file that exists will be read in.

- *Type*: rvalue

filter
------
Applies a parameterized block to each element in a sequence of entries from the first
argument and returns an array or hash (same type as left operand for array/hash, and array for
other enumerable types) with the entries for which the block evaluates to `true`.

This function takes two mandatory arguments: the first should be an Array, a Hash, or an
Enumerable object (integer, Integer range, or String),
and the second a parameterized block as produced by the puppet syntax:

      $a.filter |$x| { ... }
      filter($a) |$x| { ... }

When the first argument is something other than a Hash, the block is called with each entry in turn.
When the first argument is a Hash the entry is an array with `[key, value]`.

*Examples*

      # selects all that end with berry
      $a = ["raspberry", "blueberry", "orange"]
      $a.filter |$x| { $x =~ /berry$/ }          # rasberry, blueberry

If the block defines two parameters, they will be set to `index, value` (with index starting at 0) for all
enumerables except Hash, and to `key, value` for a Hash.

*Examples*

      # selects all that end with 'berry' at an even numbered index
      $a = ["raspberry", "blueberry", "orange"]
      $a.filter |$index, $x| { $index % 2 == 0 and $x =~ /berry$/ } # raspberry

      # selects all that end with 'berry' and value >= 1
      $a = {"raspberry"=>0, "blueberry"=>1, "orange"=>1}
      $a.filter |$key, $x| { $x =~ /berry$/ and $x >= 1 } # blueberry

- Since 3.4 for Array and Hash
- Since 3.5 for other enumerables
- requires `parser = future`

- *Type*: rvalue

fqdn_rand
---------
Usage: `fqdn_rand(MAX, [SEED])`. MAX is required and must be a positive
integer; SEED is optional and may be any number or string.

Generates a random whole number greater than or equal to 0 and less than MAX,
combining the `$fqdn` fact and the value of SEED for repeatable randomness.
(That is, each node will get a different random number from this function, but
a given node's result will be the same every time unless its hostname changes.)

This function is usually used for spacing out runs of resource-intensive cron
tasks that run on many nodes, which could cause a thundering herd or degrade
other services if they all fire at once. Adding a SEED can be useful when you
have more than one such task and need several unrelated random numbers per
node. (For example, `fqdn_rand(30)`, `fqdn_rand(30, 'expensive job 1')`, and
`fqdn_rand(30, 'expensive job 2')` will produce totally different numbers.)

- *Type*: rvalue

generate
--------
Calls an external command on the Puppet master and returns
the results of the command.  Any arguments are passed to the external command as
arguments.  If the generator does not exit with return code of 0,
the generator is considered to have failed and a parse error is
thrown.  Generators can only have file separators, alphanumerics, dashes,
and periods in them.  This function will attempt to protect you from
malicious generator calls (e.g., those with '..' in them), but it can
never be entirely safe.  No subshell is used to execute
generators, so all shell metacharacters are passed directly to
the generator.

- *Type*: rvalue

hiera
-----
Performs a
standard priority lookup and returns the most specific value for a given key.
The returned value can be data of any type (strings, arrays, or hashes).

In addition to the required `key` argument, `hiera` accepts two additional
arguments:

- a `default` argument in the second position, providing a value to be
  returned in the absence of matches to the `key` argument
- an `override` argument in the third position, providing a data source
  to consult for matching values, even if it would not ordinarily be
  part of the matched hierarchy. If Hiera doesn't find a matching key
  in the named override data source, it will continue to search through the
  rest of the hierarchy.

More thorough examples of `hiera` are available at:
<http://docs.puppetlabs.com/hiera/1/puppet.html#hiera-lookup-functions>

- *Type*: rvalue

hiera_array
-----------
Returns all
matches throughout the hierarchy --- not just the first match --- as a flattened array of unique values.
If any of the matched values are arrays, they're flattened and included in the results.

In addition to the required `key` argument, `hiera_array` accepts two additional
arguments:

- a `default` argument in the second position, providing a string or array to be returned
  in the absence of  matches to the `key` argument
- an `override` argument in the third position, providing a data source to consult for
  matching values, even if it would not ordinarily be part of the matched hierarchy.
  If Hiera doesn't find a matching key in the named override data source, it will
  continue to search through the rest of the hierarchy.

If any matched value is a hash, puppet will raise a type mismatch error.

More thorough examples of `hiera` are available at:
<http://docs.puppetlabs.com/hiera/1/puppet.html#hiera-lookup-functions>

- *Type*: rvalue

hiera_hash
----------
Returns a merged hash of matches from throughout the hierarchy. In cases where two or
more hashes share keys, the hierarchy  order determines which key/value pair will be
used in the returned hash, with the pair in the highest priority data source winning.

In addition to the required `key` argument, `hiera_hash` accepts two additional
arguments:

- a `default` argument in the second position, providing a  hash to be returned in the
absence of any matches for the `key` argument
- an `override` argument in the third position, providing  a data source to insert at
the top of the hierarchy, even if it would not ordinarily match during a Hiera data
source lookup. If Hiera doesn't find a match in the named override data source, it will
continue to search through the rest of the hierarchy.

`hiera_hash` expects that all values returned will be hashes. If any of the values
found in the data sources are strings or arrays, puppet will raise a type mismatch error.

More thorough examples of `hiera_hash` are available at:
<http://docs.puppetlabs.com/hiera/1/puppet.html#hiera-lookup-functions>

- *Type*: rvalue

hiera_include
-------------
Assigns classes to a node
using an array merge lookup that retrieves the value for a user-specified key
from a Hiera data source.

To use `hiera_include`, the following configuration is required:

- A key name to use for classes, e.g. `classes`.
- A line in the puppet `sites.pp` file (e.g. `/etc/puppet/manifests/sites.pp`)
  reading `hiera_include('classes')`. Note that this line must be outside any node
  definition and below any top-scope variables in use for Hiera lookups.
- Class keys in the appropriate data sources. In a data source keyed to a node's role,
  one might have:

          ---
          classes:
            - apache
            - apache::passenger

In addition to the required `key` argument, `hiera_include` accepts two additional
arguments:

- a `default` argument in the second position, providing an array to be returned
  in the absence of matches to the `key` argument
- an `override` argument in the third position, providing a data source to consult
  for matching values, even if it would not ordinarily be part of the matched hierarchy.
  If Hiera doesn't find a matching key in the named override data source, it will continue
  to search through the rest of the hierarchy.

More thorough examples of `hiera_include` are available at:
<http://docs.puppetlabs.com/hiera/1/puppet.html#hiera-lookup-functions>

- *Type*: statement

include
-------
Declares one or more classes, causing the resources in them to be
evaluated and added to the catalog. Accepts a class name, an array of class
names, or a comma-separated list of class names.

The `include` function can be used multiple times on the same class and will
only declare a given class once. If a class declared with `include` has any
parameters, Puppet will automatically look up values for them in Hiera, using
`<class name>::<parameter name>` as the lookup key.

Contrast this behavior with resource-like class declarations
(`class {'name': parameter => 'value',}`), which must be used in only one place
per class and can directly set parameters. You should avoid using both `include`
and resource-like declarations with the same class.

The `include` function does not cause classes to be contained in the class
where they are declared. For that, see the `contain` function. It also
does not create a dependency relationship between the declared class and the
surrounding class; for that, see the `require` function.

- *Type*: statement

info
----
Log a message on the server at level info.

- *Type*: statement

inline_epp
----------
Evaluates an Embedded Puppet Template (EPP) string and returns the rendered text result as a String.

EPP support the following tags:

* `<%= puppet expression %>` - This tag renders the value of the expression it contains.
* `<% puppet expression(s) %>` - This tag will execute the expression(s) it contains, but renders nothing.
* `<%# comment %>` - The tag and its content renders nothing.
* `<%%` or `%%>` - Renders a literal `<%` or `%>` respectively.
* `<%-` - Same as `<%` but suppresses any leading whitespace.
* `-%>` - Same as `%>` but suppresses any trailing whitespace on the same line (including line break).
* `<%-( parameters )-%>` - When placed as the first tag declares the template's parameters.

Inline EPP supports the following visibilities of variables in scope which depends on how EPP parameters
are used - see further below:

* Global scope (i.e. top + node scopes) - global scope is always visible
* Global + Enclosing scope - if the EPP template does not declare parameters, and no arguments are given
* Global + all given arguments - if the EPP template does not declare parameters, and arguments are given
* Global + declared parameters - if the EPP declares parameters, given argument names must match

EPP supports parameters by placing an optional parameter list as the very first element in the EPP. As an example,
`<%-( $x, $y, $z='unicorn' )-%>` when placed first in the EPP text declares that the parameters `x` and `y` must be
given as template arguments when calling `inline_epp`, and that `z` if not given as a template argument
defaults to `'unicorn'`. Template parameters are available as variables, e.g.arguments `$x`, `$y` and `$z` in the example.
Note that `<%-` must be used or any leading whitespace will be interpreted as text

Arguments are passed to the template by calling `inline_epp` with a Hash as the last argument, where parameters
are bound to values, e.g. `inline_epp('...', {'x'=>10, 'y'=>20})`. Excess arguments may be given
(i.e. undeclared parameters) only if the EPP templates does not declare any parameters at all.
Template parameters shadow variables in outer scopes.

Note: An inline template is best stated using a single-quoted string, or a heredoc since a double-quoted string
is subject to expression interpolation before the string is parsed as an EPP template. Here are examples
(using heredoc to define the EPP text):

    # produces 'Hello local variable world!'
    $x ='local variable'
    inline_epptemplate(@(END:epp))
    <%-( $x )-%>
    Hello <%= $x %> world!
    END

    # produces 'Hello given argument world!'
    $x ='local variable world'
    inline_epptemplate(@(END:epp), { x =>'given argument'})
    <%-( $x )-%>
    Hello <%= $x %> world!
    END

    # produces 'Hello given argument world!'
    $x ='local variable world'
    inline_epptemplate(@(END:epp), { x =>'given argument'})
    <%-( $x )-%>
    Hello <%= $x %>!
    END

    # results in error, missing value for y
    $x ='local variable world'
    inline_epptemplate(@(END:epp), { x =>'given argument'})
    <%-( $x, $y )-%>
    Hello <%= $x %>!
    END

    # Produces 'Hello given argument planet'
    $x ='local variable world'
    inline_epptemplate(@(END:epp), { x =>'given argument'})
    <%-( $x, $y=planet)-%>
    Hello <%= $x %> <%= $y %>!
    END

- Since 3.5
- Requires Future Parser

- *Type*: rvalue

inline_template
---------------
Evaluate a template string and return its value.  See
[the templating docs](http://docs.puppetlabs.com/guides/templating.html) for
more information.  Note that if multiple template strings are specified, their
output is all concatenated and returned as the output of the function.

- *Type*: rvalue

lookup
------
Looks up data defined using Puppet Bindings and Hiera.
The function is callable with one to three arguments and optionally with a code block to further process the result.

The lookup function can be called in one of these ways:

    lookup(name)
    lookup(name, type)
    lookup(name, type, default)
    lookup(options_hash)
    lookup(name, options_hash)

The function may optionally be called with a code block / lambda with the following signatures:

    lookup(...) |$result| { ... }
    lookup(...) |$name, $result| { ... }
    lookup(...) |$name, $result, $default| { ... }

The longer signatures are useful when the block needs to raise an error (it can report the name), or
if it needs to know if the given default value was selected.

The code block receives the following three arguments:

* The `$name` is the last name that was looked up (*the* name if only one name was looked up)
* The `$result` is the looked up value (or the default value if not found).
* The `$default` is the given default value (`undef` if not given).

The block, if present, is called with the result from the lookup. The value produced by the block is also what is
produced by the `lookup` function.
When a block is used, it is the users responsibility to call `error` if the result does not meet additional
criteria, or if an undef value is not acceptable. If a value is not found, and a default has been
specified, the default value is given to the block.

The content of the options hash is:

* `name` - The name or array of names to lookup (first found is returned)
* `type` - The type to assert (a Type or a type specification in string form)
* `default` - The default value if there was no value found (must comply with the data type)
* `accept_undef` - (default `false`) An `undef` result is accepted if this options is set to `true`.
* `override` - a hash with map from names to values that are used instead of the underlying bindings. If the name
  is found here it wins. Defaults to an empty hash.
* `extra` - a hash with map from names to values that are used as a last resort to obtain a value. Defaults to an
  empty hash.

When the call is on the form `lookup(name, options_hash)`, or `lookup(name, type, options_hash)`, the given name
argument wins over the `options_hash['name']`.

The search order is `override` (if given), then `binder`, then `hiera` and finally `extra` (if given). The first to produce
a value other than undef for a given name wins.

The type specification is one of:

  * A type in the Puppet Type System, e.g.:
    * `Integer`, an integral value with optional range e.g.:
      * `Integer[0, default]` - 0 or positive
      * `Integer[default, -1]` - negative,
      * `Integer[1,100]` - value between 1 and 100 inclusive
    * `String`- any string
    * `Float` - floating point number (same signature as for Integer for `Integer` ranges)
    * `Boolean` - true of false (strict)
    * `Array` - an array (of Data by default), or parameterized as `Array[<element_type>]`, where
      `<element_type>` is the expected type of elements
    * `Hash`,  - a hash (of default `Literal` keys and `Data` values), or parameterized as
      `Hash[<value_type>]`, `Hash[<key_type>, <value_type>]`, where `<key_type>`, and
      `<value_type>` are the types of the keys and values respectively
      (key is `Literal` by default).
    * `Data` - abstract type representing any `Literal`, `Array[Data]`, or `Hash[Literal, Data]`
    * `Pattern[<p1>, <p2>, ..., <pn>]` - an enumeration of valid patterns (one or more) where
       a pattern is a regular expression string or regular expression,
       e.g. `Pattern['.com$', '.net$']`, `Pattern[/[a-z]+[0-9]+/]`
    * `Enum[<s1>, <s2>, ..., <sn>]`, - an enumeration of exact string values (one or more)
       e.g. `Enum[blue, red, green]`.
    * `Variant[<t1>, <t2>,...<tn>]` - matches one of the listed types (at least one must be given)
      e.g. `Variant[Integer[8000,8999], Integer[20000, 99999]]` to accept a value in either range
    * `Regexp`- a regular expression (i.e. the result is a regular expression, not a string
       matching a regular expression).
  * A string containing a type description - one of the types as shown above but in string form.

If the function is called without specifying a default value, and nothing is bound to the given name
an error is raised unless the option `accept_undef` is true. If a block is given it must produce an acceptable
value (or call `error`). If the block does not produce an acceptable value an error is
raised.

Examples:

When called with one argument; **the name**, it
returns the bound value with the given name after having  asserted it has the default datatype `Data`:

    lookup('the_name')

When called with two arguments; **the name**, and **the expected type**, it
returns the bound value with the given name after having asserted it has the given data
type ('String' in the example):

    lookup('the_name', 'String') # 3.x
    lookup('the_name', String)   # parser future

When called with three arguments, **the name**, the **expected type**, and a **default**, it
returns the bound value with the given name, or the default after having asserted the value
has the given data type (`String` in the example above):

    lookup('the_name', 'String', 'Fred') # 3x
    lookup('the_name', String, 'Fred')   # parser future

Using a lambda to process the looked up result - asserting that it starts with an upper case letter:

    # only with parser future
    lookup('the_size', Integer[1,100]) |$result| {
      if $large_value_allowed and $result > 10
        { error 'Values larger than 10 are not allowed'}
      $result
    }

Including the name in the error

    # only with parser future
    lookup('the_size', Integer[1,100]) |$name, $result| {
      if $large_value_allowed and $result > 10
        { error 'The bound value for '${name}' can not be larger than 10 in this configuration'}
      $result
    }

When using a block, the value it produces is also asserted against the given type, and it may not be
`undef` unless the option `'accept_undef'` is `true`.

All options work as the corresponding (direct) argument. The `first_found` option and
`accept_undef` are however only available as options.

Using first_found semantics option to return the first name that has a bound value:

    lookup(['apache::port', 'nginx::port'], 'Integer', 80)

If you want to make lookup return undef when no value was found instead of raising an error:

     $are_you_there = lookup('peekaboo', { accept_undef => true} )
     $are_you_there = lookup('peekaboo', { accept_undef => true}) |$result| { $result }

- *Type*: rvalue

map
---
Applies a parameterized block to each element in a sequence of entries from the first
argument and returns an array with the result of each invocation of the parameterized block.

This function takes two mandatory arguments: the first should be an Array, Hash, or of Enumerable type
(integer, Integer range, or String), and the second a parameterized block as produced by the puppet syntax:

      $a.map |$x| { ... }
      map($a) |$x| { ... }

When the first argument `$a` is an Array or of enumerable type, the block is called with each entry in turn.
When the first argument is a hash the entry is an array with `[key, value]`.

*Examples*

      # Turns hash into array of values
      $a.map |$x|{ $x[1] }

      # Turns hash into array of keys
      $a.map |$x| { $x[0] }

When using a block with 2 parameters, the element's index (starting from 0) for an array, and the key for a hash
is given to the block's first parameter, and the value is given to the block's second parameter.args.

*Examples*

      # Turns hash into array of values
      $a.map |$key,$val|{ $val }

      # Turns hash into array of keys
      $a.map |$key,$val|{ $key }

- Since 3.4 for Array and Hash
- Since 3.5 for other enumerables, and support for blocks with 2 parameters
- requires `parser = future`

- *Type*: rvalue

md5
---
Returns a MD5 hash value from a provided string.

- *Type*: rvalue

notice
------
Log a message on the server at level notice.

- *Type*: statement

realize
-------
Make a virtual object real.  This is useful
when you want to know the name of the virtual object and don't want to
bother with a full collection.  It is slightly faster than a collection,
and, of course, is a bit shorter.  You must pass the object using a
reference; e.g.: `realize User[luke]`.

- *Type*: statement

reduce
------
Applies a parameterized block to each element in a sequence of entries from the first
argument (_the enumerable_) and returns the last result of the invocation of the parameterized block.

This function takes two mandatory arguments: the first should be an Array, Hash, or something of
enumerable type, and the last a parameterized block as produced by the puppet syntax:

      $a.reduce |$memo, $x| { ... }
      reduce($a) |$memo, $x| { ... }

When the first argument is an Array or someting of an enumerable type, the block is called with each entry in turn.
When the first argument is a hash each entry is converted to an array with `[key, value]` before being
fed to the block. An optional 'start memo' value may be supplied as an argument between the array/hash
and mandatory block.

      $a.reduce(start) |$memo, $x| { ... }
      reduce($a, start) |$memo, $x| { ... }

If no 'start memo' is given, the first invocation of the parameterized block will be given the first and second
elements of the enumeration, and if the enumerable has fewer than 2 elements, the first
element is produced as the result of the reduction without invocation of the block.

On each subsequent invocation, the produced value of the invoked parameterized block is given as the memo in the
next invocation.

*Examples*

      # Reduce an array
      $a = [1,2,3]
      $a.reduce |$memo, $entry| { $memo + $entry }
      #=> 6

      # Reduce hash values
      $a = {a => 1, b => 2, c => 3}
      $a.reduce |$memo, $entry| { [sum, $memo[1]+$entry[1]] }
      #=> [sum, 6]

      # reverse a string
      "abc".reduce |$memo, $char| { "$char$memo" }
      #=>"cbe"

It is possible to provide a starting 'memo' as an argument.

*Examples*

      # Reduce an array
      $a = [1,2,3]
      $a.reduce(4) |$memo, $entry| { $memo + $entry }
      #=> 10

      # Reduce hash values
      $a = {a => 1, b => 2, c => 3}
      $a.reduce([na, 4]) |$memo, $entry| { [sum, $memo[1]+$entry[1]] }
      #=> [sum, 10]

*Examples*

      Integer[1,4].reduce |$memo, $x| { $memo + $x }
      #=> 10

- Since 3.2 for Array and Hash
- Since 3.5 for additional enumerable types
- requires `parser = future`.

- *Type*: rvalue

regsubst
--------

Perform regexp replacement on a string or array of strings.

* *Parameters* (in order):
    * _target_  The string or array of strings to operate on.  If an array, the replacement will be performed on each of the elements in the array, and the return value will be an array.
    * _regexp_  The regular expression matching the target string.  If you want it anchored at the start and or end of the string, you must do that with ^ and $ yourself.
    * _replacement_  Replacement string. Can contain backreferences to what was matched using \0 (whole match), \1 (first set of parentheses), and so on.
    * _flags_  Optional. String of single letter flags for how the regexp is interpreted:
        - *E*         Extended regexps
        - *I*         Ignore case in regexps
        - *M*         Multiline regexps
        - *G*         Global replacement; all occurrences of the regexp in each target string will be replaced.  Without this, only the first occurrence will be replaced.
    * _encoding_  Optional.  How to handle multibyte characters.  A single-character string with the following values:
        - *N*         None
        - *E*         EUC
        - *S*         SJIS
        - *U*         UTF-8

* *Examples*

Get the third octet from the node's IP address:

    $i3 = regsubst($ipaddress,'^(\d+)\.(\d+)\.(\d+)\.(\d+)$','\3')

Put angle brackets around each octet in the node's IP address:

    $x = regsubst($ipaddress, '([0-9]+)', '<\1>', 'G')

- *Type*: rvalue

require
-------
Evaluate one or more classes,  adding the required class as a dependency.

The relationship metaparameters work well for specifying relationships
between individual resources, but they can be clumsy for specifying
relationships between classes.  This function is a superset of the
'include' function, adding a class relationship so that the requiring
class depends on the required class.

Warning: using require in place of include can lead to unwanted dependency cycles.

For instance the following manifest, with 'require' instead of 'include' would produce a nasty dependence cycle, because notify imposes a before between File[/foo] and Service[foo]:

    class myservice {
      service { foo: ensure => running }
    }

    class otherstuff {
      include myservice
      file { '/foo': notify => Service[foo] }
    }

Note that this function only works with clients 0.25 and later, and it will
fail if used with earlier clients.

- *Type*: statement

search
------
Add another namespace for this class to search.
This allows you to create classes with sets of definitions and add
those classes to another class's search path.

- *Type*: statement

select
------
The 'select' function has been renamed to 'filter'. Please update your manifests.

The select function is reserved for future use.
- Removed as of 3.4
- requires `parser = future`.

- *Type*: rvalue

sha1
----
Returns a SHA1 hash value from a provided string.

- *Type*: rvalue

shellquote
----------
Quote and concatenate arguments for use in Bourne shell.

Each argument is quoted separately, and then all are concatenated
with spaces.  If an argument is an array, the elements of that
array is interpolated within the rest of the arguments; this makes
it possible to have an array of arguments and pass that array to
shellquote instead of having to specify each argument
individually in the call.

- *Type*: rvalue

slice
-----
Applies a parameterized block to each _slice_ of elements in a sequence of selected entries from the first
argument and returns the first argument, or if no block is given returns a new array with a concatenation of
the slices.

This function takes two mandatory arguments: the first, `$a`, should be an Array, Hash, or something of
enumerable type (integer, Integer range, or String), and the second, `$n`, the number of elements to include
in each slice. The optional third argument should be a a parameterized block as produced by the puppet syntax:

    $a.slice($n) |$x| { ... }
    slice($a) |$x| { ... }

The parameterized block should have either one parameter (receiving an array with the slice), or the same number
of parameters as specified by the slice size (each parameter receiving its part of the slice).
In case there are fewer remaining elements than the slice size for the last slice it will contain the remaining
elements. When the block has multiple parameters, excess parameters are set to :undef for an array or
enumerable type, and to empty arrays for a Hash.

    $a.slice(2) |$first, $second| { ... }

When the first argument is a Hash, each `key,value` entry is counted as one, e.g, a slice size of 2 will produce
an array of two arrays with key, and value.

    $a.slice(2) |$entry|          { notice "first ${$entry[0]}, second ${$entry[1]}" }
    $a.slice(2) |$first, $second| { notice "first ${first}, second ${second}" }

When called without a block, the function produces a concatenated result of the slices.

    slice([1,2,3,4,5,6], 2) # produces [[1,2], [3,4], [5,6]]
    slice(Integer[1,6], 2)  # produces [[1,2], [3,4], [5,6]]
    slice(4,2)              # produces [[0,1], [2,3]]
    slice('hello',2)        # produces [[h, e], [l, l], [o]]

- Since 3.2 for Array and Hash
- Since 3.5 for additional enumerable types
- requires `parser = future`.

- *Type*: rvalue

split
-----
Split a string variable into an array using the specified split regexp.

*Example:*

    $string     = 'v1.v2:v3.v4'
    $array_var1 = split($string, ':')
    $array_var2 = split($string, '[.]')
    $array_var3 = split($string, '[.:]')

`$array_var1` now holds the result `['v1.v2', 'v3.v4']`,
while `$array_var2` holds `['v1', 'v2:v3', 'v4']`, and
`$array_var3` holds `['v1', 'v2', 'v3', 'v4']`.

Note that in the second example, we split on a literal string that contains
a regexp meta-character (.), which must be escaped.  A simple
way to do that for a single character is to enclose it in square
brackets; a backslash will also escape a single character.

- *Type*: rvalue

sprintf
-------
Perform printf-style formatting of text.

The first parameter is format string describing how the rest of the parameters should be formatted.  See the documentation for the `Kernel::sprintf` function in Ruby for all the details.

- *Type*: rvalue

tag
---
Add the specified tags to the containing class
or definition.  All contained objects will then acquire that tag, also.

- *Type*: statement

tagged
------
A boolean function that
tells you whether the current container is tagged with the specified tags.
The tags are ANDed, so that all of the specified tags must be included for
the function to return true.

- *Type*: rvalue

template
--------
Evaluate a template and return its value.  See
[the templating docs](http://docs.puppetlabs.com/guides/templating.html) for
more information.

Note that if multiple templates are specified, their output is all
concatenated and returned as the output of the function.

- *Type*: rvalue

versioncmp
----------
Compares two version numbers.

Prototype:

    $result = versioncmp(a, b)

Where a and b are arbitrary version strings.

This function returns:

* `1` if version a is greater than version b
* `0` if the versions are equal
* `-1` if version a is less than version b

Example:

    if versioncmp('2.6-1', '2.4.5') > 0 {
        notice('2.6-1 is > than 2.4.5')
    }

This function uses the same version comparison algorithm used by Puppet's
`package` type.

- *Type*: rvalue

warning
-------
Log a message on the server at level warning.

- *Type*: statement



----------------

*This page autogenerated on Wed Jun 18 13:01:30 -0700 2014*

t21rjumdkqr2x5d (centos6-64-2) executed in 0.76 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/doc" name="ticket_4120_cannot_generate_type_reference.rb" time="4.816395"><system-out><![CDATA[
verify we can print the function reference

n6vo88vhlunm0j0 (centos6-64-1) 13:01:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet doc  -r type
# Type Reference



**This page is autogenerated; any changes will get overwritten** *(last generated on Wed Jun 18 13:01:31 -0700 2014)*



## Resource Types

- The *namevar* is the parameter used to uniquely identify a type instance.
  This is the parameter that gets assigned when a string is provided before
  the colon in a type declaration.  In general, only developers will need to
  worry about which parameter is the `namevar`.

  In the following code:

      file { "/etc/passwd":
        owner => root,
        group => root,
        mode  => 644
      }

  `/etc/passwd` is considered the title of the file object (used for things like
  dependency handling), and because `path` is the namevar for `file`, that
  string is assigned to the `path` parameter.

- *Parameters* determine the specific configuration of the instance.  They either
  directly modify the system (internally, these are called properties) or they affect
  how the instance behaves (e.g., adding a search path for `exec` instances or determining recursion on `file` instances).

- *Providers* provide low-level functionality for a given resource type.  This is
  usually in the form of calling out to external commands.

  When required binaries are specified for providers, fully qualifed paths
  indicate that the binary must exist at that specific path and unqualified
  binaries indicate that Puppet will search for the binary using the shell
  path.

- *Features* are abilities that some providers might not support.  You can use the list
  of supported features to determine how a given provider can be used.

  Resource types define features they can use, and providers can be tested to see
  which features they provide.

    

----------------

### augeas

Apply a change or an array of changes to the filesystem
using the augeas tool.

Requires:

- [Augeas](http://www.augeas.net)
- The ruby-augeas bindings

Sample usage with a string:

    augeas{"test1" :
      context => "/files/etc/sysconfig/firstboot",
      changes => "set RUN_FIRSTBOOT YES",
      onlyif  => "match other_value size > 0",
    }

Sample usage with an array and custom lenses:

    augeas{"jboss_conf":
      context   => "/files",
      changes   => [
          "set etc/jbossas/jbossas.conf/JBOSS_IP $ipaddress",
          "set etc/jbossas/jbossas.conf/JAVA_HOME /usr",
        ],
      load_path => "$/usr/share/jbossas/lenses",
    }

#### Features

- *execute_changes*: Actually make the changes
- *need_to_run?*: If the command should run
- *parse_commands*: Parse the command string


Provider | execute_changes | need_to_run? | parse_commands |
-------- | --------------- | ------------ | -------------- |
augeas   | *X*             | *X*          | *X*            |

#### Parameters


changes
: The changes which should be applied to the filesystem. This
  can be a command or an array of commands. The following commands are supported:

  * `set <PATH> <VALUE>` --- Sets the value `VALUE` at loction `PATH`
  * `setm <PATH> <SUB> <VALUE>` --- Sets multiple nodes (matching `SUB` relative to `PATH`) to `VALUE`
  * `rm <PATH>` --- Removes the node at location `PATH`
  * `remove <PATH>` --- Synonym for `rm`
  * `clear <PATH>` --- Sets the node at `PATH` to `NULL`, creating it if needed
  * `clearm <PATH> <SUB>` --- Sets multiple nodes (matching `SUB` relative to `PATH`) to `NULL`
  * `ins <LABEL> (before|after) <PATH>` --- Inserts an empty node `LABEL` either before or after `PATH`.
  * `insert <LABEL> <WHERE> <PATH>` --- Synonym for `ins`
  * `mv <PATH> <OTHER PATH>` --- Moves a node at `PATH` to the new location `OTHER PATH`
  * `move <PATH> <OTHER PATH>` --- Synonym for `mv`
  * `defvar <NAME> <PATH>` --- Sets Augeas variable `$NAME` to `PATH`
  * `defnode <NAME> <PATH> <VALUE>` --- Sets Augeas variable `$NAME` to `PATH`, creating it with `VALUE` if needed

  If the `context` parameter is set, that value is prepended to any relative `PATH`s.

context
: Optional context path. This value is prepended to the paths of all
  changes if the path is relative. If the `incl` parameter is set,
  defaults to `/files + incl`; otherwise, defaults to the empty string.

force
: Optional command to force the augeas type to execute even if it thinks changes
  will not be made. This does not overide the `onlyif` parameter.

incl
: Load only a specific file, e.g. `/etc/hosts`. This can greatly speed
  up the execution the resource. When this parameter is set, you must also
  set the `lens` parameter to indicate which lens to use.

lens
: Use a specific lens, e.g. `Hosts.lns`. When this parameter is set, you
  must also set the `incl` parameter to indicate which file to load.
  The Augeas documentation includes [a list of available lenses](http://augeas.net/stock_lenses.html).

load_path
: Optional colon-separated list or array of directories; these directories are searched for schema definitions. The agent's `$libdir/augeas/lenses` path will always be added to support pluginsync.

name
: The name of this task. Used for uniqueness.

onlyif
: Optional augeas command and comparisons to control the execution of this type.
  Supported onlyif syntax:

  * `get <AUGEAS_PATH> <COMPARATOR> <STRING>`
  * `match <MATCH_PATH> size <COMPARATOR> <INT>`
  * `match <MATCH_PATH> include <STRING>`
  * `match <MATCH_PATH> not_include <STRING>`
  * `match <MATCH_PATH> == <AN_ARRAY>`
  * `match <MATCH_PATH> != <AN_ARRAY>`

  where:

  * `AUGEAS_PATH` is a valid path scoped by the context
  * `MATCH_PATH` is a valid match syntax scoped by the context
  * `COMPARATOR` is one of `>, >=, !=, ==, <=,` or `<`
  * `STRING` is a string
  * `INT` is a number
  * `AN_ARRAY` is in the form `['a string', 'another']`

provider
: The specific backend to use for this `augeas`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  augeas
  : * Supported features: `execute_changes`, `need_to_run?`, `parse_commands`.

returns
: The expected return code from the augeas command. Should not be set.

root
: A file system path; all files loaded by Augeas are loaded underneath `root`.

show_diff
: Whether to display differences when the file changes, defaulting to
  true.  This parameter is useful for files that may contain passwords or
  other secret data, which might otherwise be included in Puppet reports or
  other insecure outputs.  If the global `show_diff` setting
  is false, then no diffs will be shown even if this parameter is true.

  Valid values are `true`, `false`, `yes`, `no`.

type_check
: Whether augeas should perform typechecking. Defaults to false.

  Valid values are `true`, `false`.




----------------

### computer

Computer object management using DirectoryService
on OS X.

Note that these are distinctly different kinds of objects to 'hosts',
as they require a MAC address and can have all sorts of policy attached to
them.

This provider only manages Computer objects in the local directory service
domain, not in remote directories.

If you wish to manage `/etc/hosts` file on Mac OS X, then simply use the host
type as per other platforms.

This type primarily exists to create localhost Computer objects that MCX
policy can then be attached to.

**Autorequires:** If Puppet is managing the plist file representing a
Computer object (located at `/var/db/dslocal/nodes/Default/computers/{name}.plist`),
the Computer resource will autorequire it.

#### Parameters


en_address
: The MAC address of the primary network interface. Must match en0.

ensure
: Control the existences of this computer record. Set this attribute to
  `present` to ensure the computer record exists.  Set it to `absent`
  to delete any computer records with this name

  Valid values are `present`, `absent`.

ip_address
: The IP Address of the Computer object.

name
: The authoritative 'short' name of the computer record.

provider
: The specific backend to use for this `computer`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  directoryservice
  : Computer object management using DirectoryService on OS X.
    Note that these are distinctly different kinds of objects to 'hosts',
    as they require a MAC address and can have all sorts of policy attached to
    them.

    This provider only manages Computer objects in the local directory service
    domain, not in remote directories.

    If you wish to manage /etc/hosts on Mac OS X, then simply use the host
    type as per other platforms.

    * Default for `operatingsystem` == `darwin`.

realname
: The 'long' name of the computer record.




----------------

### cron

Installs and manages cron jobs.  Every cron resource created by Puppet
requires a command and at least one periodic attribute (hour, minute,
month, monthday, weekday, or special).  While the name of the cron job is
not part of the actual job, the name is stored in a comment beginning with
`# Puppet Name: `. These comments are used to match crontab entries created
by Puppet with cron resources.

If an existing crontab entry happens to match the scheduling and command of a
cron resource that has never been synched, Puppet will defer to the existing
crontab entry and will not create a new entry tagged with the `# Puppet Name: `
comment.

Example:

    cron { logrotate:
      command => "/usr/sbin/logrotate",
      user    => root,
      hour    => 2,
      minute  => 0
    }

Note that all periodic attributes can be specified as an array of values:

    cron { logrotate:
      command => "/usr/sbin/logrotate",
      user    => root,
      hour    => [2, 4]
    }

...or using ranges or the step syntax `*/2` (although there's no guarantee
that your `cron` daemon supports these):

    cron { logrotate:
      command => "/usr/sbin/logrotate",
      user    => root,
      hour    => ['2-4'],
      minute  => '*/10'
    }

An important note: _the Cron type will not reset parameters that are
removed from a manifest_. For example, removing a `minute => 10` parameter
will not reset the minute component of the associated cronjob to `*`.
These changes must be expressed by setting the parameter to
`minute => absent` because Puppet only manages parameters that are out of
sync with manifest entries.

**Autorequires:** If Puppet is managing the user account specified by the
`user` property of a cron resource, then the cron resource will autorequire
that user.

#### Parameters


command
: The command to execute in the cron job.  The environment
  provided to the command varies by local system rules, and it is
  best to always provide a fully qualified command.  The user's
  profile is not sourced when the command is run, so if the
  user's environment is desired it should be sourced manually.

  All cron parameters support `absent` as a value; this will
  remove any existing values for that field.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

environment
: Any environment settings associated with this cron job.  They
  will be stored between the header and the job in the crontab.  There
  can be no guarantees that other, earlier settings will not also
  affect a given cron job.


  Also, Puppet cannot automatically determine whether an existing,
  unmanaged environment setting is associated with a given cron
  job.  If you already have cron jobs with environment settings,
  then Puppet will keep those settings in the same place in the file,
  but will not associate them with a specific job.

  Settings should be specified exactly as they should appear in
  the crontab, e.g., `PATH=/bin:/usr/bin:/usr/sbin`.

hour
: The hour at which to run the cron job. Optional;
  if specified, must be between 0 and 23, inclusive.

minute
: The minute at which to run the cron job.
  Optional; if specified, must be between 0 and 59, inclusive.

month
: The month of the year.  Optional; if specified
  must be between 1 and 12 or the month name (e.g., December).

monthday
: The day of the month on which to run the
  command.  Optional; if specified, must be between 1 and 31.

name
: The symbolic name of the cron job.  This name
  is used for human reference only and is generated automatically
  for cron jobs found on the system.  This generally won't
  matter, as Puppet will do its best to match existing cron jobs
  against specified jobs (and Puppet adds a comment to cron jobs it adds),
  but it is at least possible that converting from unmanaged jobs to
  managed jobs might require manual intervention.

provider
: The specific backend to use for this `cron`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  crontab
  : * Required binaries: `crontab`.

special
: A special value such as 'reboot' or 'annually'.
  Only available on supported systems such as Vixie Cron.
  Overrides more specific time of day/week settings.
  Set to 'absent' to make puppet revert to a plain numeric schedule.

target
: The name of the crontab file in which the cron job should be stored.

  This property defaults to the value of the `user` property if set, the
  user running Puppet or `root`.

  For the default crontab provider, this property is functionally
  equivalent to the `user` property and should be avoided. In particular,
  setting both `user` and `target` to different values will result in
  undefined behavior.

user
: The user who owns the cron job.  This user must
  be allowed to run cron jobs, which is not currently checked by
  Puppet.

  This property defaults to the user running Puppet or `root`.

  The default crontab provider executes the system `crontab` using
  the user account specified by this property.

weekday
: The weekday on which to run the command.
  Optional; if specified, must be between 0 and 7, inclusive, with
  0 (or 7) being Sunday, or must be the name of the day (e.g., Tuesday).




----------------

### exec

Executes external commands.

Any command in an `exec` resource **must** be able to run multiple times
without causing harm --- that is, it must be *idempotent*. There are three
main ways for an exec to be idempotent:

* The command itself is already idempotent. (For example, `apt-get update`.)
* The exec has an `onlyif`, `unless`, or `creates` attribute, which prevents
  Puppet from running the command unless some condition is met.
* The exec has `refreshonly => true`, which only allows Puppet to run the
  command when some other resource is changed. (See the notes on refreshing
  below.)

A caution: There's a widespread tendency to use collections of execs to
manage resources that aren't covered by an existing resource type. This
works fine for simple tasks, but once your exec pile gets complex enough
that you really have to think to understand what's happening, you should
consider developing a custom resource type instead, as it will be much
more predictable and maintainable.

**Refresh:** `exec` resources can respond to refresh events (via
`notify`, `subscribe`, or the `~>` arrow). The refresh behavior of execs
is non-standard, and can be affected by the `refresh` and
`refreshonly` attributes:

* If `refreshonly` is set to true, the exec will _only_ run when it receives an
  event. This is the most reliable way to use refresh with execs.
* If the exec already would have run and receives an event, it will run its
  command **up to two times.** (If an `onlyif`, `unless`, or `creates` condition
  is no longer met after the first run, the second run will not occur.)
* If the exec already would have run, has a `refresh` command, and receives an
  event, it will run its normal command, then run its `refresh` command
  (as long as any `onlyif`, `unless`, or `creates` conditions are still met
  after the normal command finishes).
* If the exec would **not** have run (due to an `onlyif`, `unless`, or `creates`
  attribute) and receives an event, it still will not run.
* If the exec has `noop => true`, would otherwise have run, and receives
  an event from a non-noop resource, it will run once (or run its `refresh`
  command instead, if it has one).

In short: If there's a possibility of your exec receiving refresh events,
it becomes doubly important to make sure the run conditions are restricted.

**Autorequires:** If Puppet is managing an exec's cwd or the executable
file used in an exec's command, the exec resource will autorequire those
files. If Puppet is managing the user that an exec should run as, the
exec resource will autorequire that user.

#### Parameters


command
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The actual command to execute.  Must either be fully qualified
  or a search path for the command must be provided.  If the command
  succeeds, any output produced will be logged at the instance's
  normal log level (usually `notice`), but if the command fails
  (meaning its return code does not match the specified code) then
  any output is logged at the `err` log level.

creates
: A file to look for before running the command. The command will
  only run if the file **doesn't exist.**

  This parameter doesn't cause Puppet to create a file; it is only
  useful if **the command itself** creates a file.

      exec { "tar -xf /Volumes/nfs02/important.tar":
        cwd     => "/var/tmp",
        creates => "/var/tmp/myfile",
        path    => ["/usr/bin", "/usr/sbin"]
      }

  In this example, `myfile` is assumed to be a file inside
  `important.tar`. If it is ever deleted, the exec will bring it
  back by re-extracting the tarball. If `important.tar` does **not**
  actually contain `myfile`, the exec will keep running every time
  Puppet runs.

cwd
: The directory from which to run the command.  If
  this directory does not exist, the command will fail.

environment
: Any additional environment variables you want to set for a
  command.  Note that if you use this to set PATH, it will override
  the `path` attribute.  Multiple environment variables should be
  specified as an array.

group
: The group to run the command as.  This seems to work quite
  haphazardly on different platforms -- it is a platform issue
  not a Ruby or Puppet one, since the same variety exists when
  running commands as different users in the shell.

logoutput
: Whether to log command output in addition to logging the
  exit code.  Defaults to `on_failure`, which only logs the output
  when the command has an exit code that does not match any value
  specified by the `returns` attribute. As with any resource type,
  the log level can be controlled with the `loglevel` metaparameter.

  Valid values are `true`, `false`, `on_failure`.

onlyif
: If this parameter is set, then this `exec` will only run if
  the command returns 0.  For example:

      exec { "logrotate":
        path   => "/usr/bin:/usr/sbin:/bin",
        onlyif => "test `du /var/log/messages | cut -f1` -gt 100000"
      }

  This would run `logrotate` only if that test returned true.

  Note that this command follows the same rules as the main command,
  which is to say that it must be fully qualified if the path is not set.

  Also note that onlyif can take an array as its value, e.g.:

      onlyif => ["test -f /tmp/file1", "test -f /tmp/file2"]

  This will only run the exec if _all_ conditions in the array return true.

path
: The search path used for command execution.
  Commands must be fully qualified if no path is specified.  Paths
  can be specified as an array or as a ':' separated list.

provider
: The specific backend to use for this `exec`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  posix
  : Executes external binaries directly, without passing through a shell or
    performing any interpolation. This is a safer and more predictable way
    to execute most commands, but prevents the use of globbing and shell
    built-ins (including control logic like "for" and "if" statements).

    * Default for `feature` == `posix`.

  shell
  : Passes the provided command through `/bin/sh`; only available on
    POSIX systems. This allows the use of shell globbing and built-ins, and
    does not require that the path to a command be fully-qualified. Although
    this can be more convenient than the `posix` provider, it also means that
    you need to be more careful with escaping; as ever, with great power comes
    etc. etc.

    This provider closely resembles the behavior of the `exec` type
    in Puppet 0.25.x.

  windows
  : Execute external binaries on Windows systems. As with the `posix`
    provider, this provider directly calls the command with the arguments
    given, without passing it through a shell or performing any interpolation.
    To use shell built-ins --- that is, to emulate the `shell` provider on
    Windows --- a command must explicitly invoke the shell:

        exec {'echo foo':
          command => 'cmd.exe /c echo "foo"',
        }

    If no extension is specified for a command, Windows will use the `PATHEXT`
    environment variable to locate the executable.

    **Note on PowerShell scripts:** PowerShell's default `restricted`
    execution policy doesn't allow it to run saved scripts. To run PowerShell
    scripts, specify the `remotesigned` execution policy as part of the
    command:

        exec { 'test':
          path    => 'C:/Windows/System32/WindowsPowerShell/v1.0',
          command => 'powershell -executionpolicy remotesigned -file C:/test.ps1',
        }

    * Default for `operatingsystem` == `windows`.

refresh
: How to refresh this command.  By default, the exec is just
  called again when it receives an event from another resource,
  but this parameter allows you to define a different command
  for refreshing.

refreshonly
: The command should only be run as a
  refresh mechanism for when a dependent object is changed.  It only
  makes sense to use this option when this command depends on some
  other object; it is useful for triggering an action:

      # Pull down the main aliases file
      file { "/etc/aliases":
        source => "puppet://server/module/aliases"
      }

      # Rebuild the database, but only when the file changes
      exec { newaliases:
        path        => ["/usr/bin", "/usr/sbin"],
        subscribe   => File["/etc/aliases"],
        refreshonly => true
      }

  Note that only `subscribe` and `notify` can trigger actions, not `require`,
  so it only makes sense to use `refreshonly` with `subscribe` or `notify`.

  Valid values are `true`, `false`.

returns
: The expected return code(s).  An error will be returned if the
  executed command returns something else.  Defaults to 0. Can be
  specified as an array of acceptable return codes or a single value.

timeout
: The maximum time the command should take.  If the command takes
  longer than the timeout, the command is considered to have failed
  and will be stopped. The timeout is specified in seconds. The default
  timeout is 300 seconds and you can set it to 0 to disable the timeout.

tries
: The number of times execution of the command should be tried.
  Defaults to '1'. This many attempts will be made to execute
  the command until an acceptable return code is returned.
  Note that the timeout paramater applies to each try rather than
  to the complete set of tries.

try_sleep
: The time to sleep in seconds between 'tries'.

umask
: Sets the umask to be used while executing this command

unless
: If this parameter is set, then this `exec` will run unless
  the command returns 0.  For example:

      exec { "/bin/echo root >> /usr/lib/cron/cron.allow":
        path   => "/usr/bin:/usr/sbin:/bin",
        unless => "grep root /usr/lib/cron/cron.allow 2>/dev/null"
      }

  This would add `root` to the cron.allow file (on Solaris) unless
  `grep` determines it's already there.

  Note that this command follows the same rules as the main command,
  which is to say that it must be fully qualified if the path is not set.

user
: The user to run the command as.  Note that if you
  use this then any error output is not currently captured.  This
  is because of a bug within Ruby.  If you are using Puppet to
  create this user, the exec will automatically require the user,
  as long as it is specified by name.

  Please note that the $HOME environment variable is not automatically set
  when using this attribute.




----------------

### file

Manages files, including their content, ownership, and permissions.

The `file` type can manage normal files, directories, and symlinks; the
type should be specified in the `ensure` attribute. Note that symlinks cannot
be managed on Windows systems.

File contents can be managed directly with the `content` attribute, or
downloaded from a remote source using the `source` attribute; the latter
can also be used to recursively serve directories (when the `recurse`
attribute is set to `true` or `local`). On Windows, note that file
contents are managed in binary mode; Puppet never automatically translates
line endings.

**Autorequires:** If Puppet is managing the user or group that owns a
file, the file resource will autorequire them. If Puppet is managing any
parent directories of a file, the file resource will autorequire them.

#### Features

- *manages_symlinks*: The provider can manage symbolic links.


Provider | manages_symlinks |
-------- | ---------------- |
posix    | *X*              |
windows  | *X*              |

#### Parameters


backup
: Whether (and how) file content should be backed up before being replaced.
  This attribute works best as a resource default in the site manifest
  (`File { backup => main }`), so it can affect all file resources.

  * If set to `false`, file content won't be backed up.
  * If set to a string beginning with `.` (e.g., `.puppet-bak`), Puppet will
    use copy the file in the same directory with that value as the extension
    of the backup. (A value of `true` is a synonym for `.puppet-bak`.)
  * If set to any other string, Puppet will try to back up to a filebucket
    with that title. See the `filebucket` resource type for more details.
    (This is the preferred method for backup, since it can be centralized
    and queried.)

  Default value: `puppet`, which backs up to a filebucket of the same name.
  (Puppet automatically creates a **local** filebucket named `puppet` if one
  doesn't already exist.)

  Backing up to a local filebucket isn't particularly useful. If you want
  to make organized use of backups, you will generally want to use the
  puppet master server's filebucket service. This requires declaring a
  filebucket resource and a resource default for the `backup` attribute
  in site.pp:

      # /etc/puppet/manifests/site.pp
      filebucket { 'main':
        path   => false,                # This is required for remote filebuckets.
        server => 'puppet.example.com', # Optional; defaults to the configured puppet master.
      }

      File { backup => main, }

  If you are using multiple puppet master servers, you will want to
  centralize the contents of the filebucket. Either configure your load
  balancer to direct all filebucket traffic to a single master, or use
  something like an out-of-band rsync task to synchronize the content on all
  masters.

checksum
: The checksum type to use when determining whether to replace a file's contents.

  The default checksum type is md5.

  Valid values are `md5`, `md5lite`, `sha256`, `sha256lite`, `mtime`, `ctime`, `none`.

content
: The desired contents of a file, as a string. This attribute is mutually
  exclusive with `source` and `target`.

  Newlines and tabs can be specified in double-quoted strings using
  standard escaped syntax --- \n for a newline, and \t for a tab.

  With very small files, you can construct content strings directly in
  the manifest...

      define resolve(nameserver1, nameserver2, domain, search) {
          $str = "search $search
              domain $domain
              nameserver $nameserver1
              nameserver $nameserver2
              "

          file { "/etc/resolv.conf":
            content => "$str",
          }
      }

  ...but for larger files, this attribute is more useful when combined with the
  [template](http://docs.puppetlabs.com/references/latest/function.html#template)
  function.

ctime
: A read-only state to check the file ctime. On most modern \*nix-like
  systems, this is the time of the most recent change to the owner, group,
  permissions, or content of the file.

ensure
: Whether the file should exist, and if so what kind of file it should be.
  Possible values are `present`, `absent`, `file`, `directory`, and `link`.

  * `present` will accept any form of file existence, and will create a
    normal file if the file is missing. (The file will have no content
    unless the `content` or `source` attribute is used.)
  * `absent` will make sure the file doesn't exist, deleting it
    if necessary.
  * `file` will make sure it's a normal file, and enables use of the
    `content` or `source` attribute.
  * `directory` will make sure it's a directory, and enables use of the
    `source`, `recurse`, `recurselimit`, `ignore`, and `purge` attributes.
  * `link` will make sure the file is a symlink, and **requires** that you
    also set the `target` attribute. Symlinks are supported on all Posix
    systems and on Windows Vista / 2008 and higher. On Windows, managing
    symlinks requires puppet agent's user account to have the "Create
    Symbolic Links" privilege; this can be configured in the "User Rights
    Assignment" section in the Windows policy editor. By default, puppet
    agent runs as the Administrator account, which does have this privilege.

  Puppet avoids destroying directories unless the `force` attribute is set
  to `true`. This means that if a file is currently a directory, setting
  `ensure` to anything but `directory` or `present` will cause Puppet to
  skip managing the resource and log either a notice or an error.

  There is one other non-standard value for `ensure`. If you specify the
  path to another file as the ensure value, it is equivalent to specifying
  `link` and using that path as the `target`:

      # Equivalent resources:

      file { "/etc/inetd.conf":
        ensure => "/etc/inet/inetd.conf",
      }

      file { "/etc/inetd.conf":
        ensure => link,
        target => "/etc/inet/inetd.conf",
      }

  However, we recommend using `link` and `target` explicitly, since this
  behavior can be harder to read.

  Valid values are `absent` (also called `false`), `file`, `present`, `directory`, `link`. Values can match `/./`.

force
: Perform the file operation even if it will destroy one or more directories.
  You must use `force` in order to:

  * `purge` subdirectories
  * Replace directories with files or links
  * Remove a directory when `ensure => absent`

  Valid values are `true`, `false`, `yes`, `no`.

group
: Which group should own the file.  Argument can be either a group
  name or a group ID.

  On Windows, a user (such as "Administrator") can be set as a file's group
  and a group (such as "Administrators") can be set as a file's owner;
  however, a file's owner and group shouldn't be the same. (If the owner
  is also the group, files with modes like `0640` will cause log churn, as
  they will always appear out of sync.)

ignore
: A parameter which omits action on files matching
  specified patterns during recursion.  Uses Ruby's builtin globbing
  engine, so shell metacharacters are fully supported, e.g. `[a-z]*`.
  Matches that would descend into the directory structure are ignored,
  e.g., `*/*`.

links
: How to handle links during file actions.  During file copying,
  `follow` will copy the target file instead of the link, `manage`
  will copy the link itself, and `ignore` will just pass it by.
  When not copying, `manage` and `ignore` behave equivalently
  (because you cannot really ignore links entirely during local
  recursion), and `follow` will manage the file to which the link points.

  Valid values are `follow`, `manage`.

mode
: The desired permissions mode for the file, in symbolic or numeric
  notation. Puppet uses traditional Unix permission schemes and translates
  them to equivalent permissions for systems which represent permissions
  differently, including Windows.

  Numeric modes should use the standard four-digit octal notation of
  `<setuid/setgid/sticky><owner><group><other>` (e.g. 0644). Each of the
  "owner," "group," and "other" digits should be a sum of the
  permissions for that class of users, where read = 4, write = 2, and
  execute/search = 1. When setting numeric permissions for
  directories, Puppet sets the search permission wherever the read
  permission is set.

  Symbolic modes should be represented as a string of comma-separated
  permission clauses, in the form `<who><op><perm>`:

  * "Who" should be u (user), g (group), o (other), and/or a (all)
  * "Op" should be = (set exact permissions), + (add select permissions),
    or - (remove select permissions)
  * "Perm" should be one or more of:
      * r (read)
      * w (write)
      * x (execute/search)
      * t (sticky)
      * s (setuid/setgid)
      * X (execute/search if directory or if any one user can execute)
      * u (user's current permissions)
      * g (group's current permissions)
      * o (other's current permissions)

  Thus, mode `0664` could be represented symbolically as either `a=r,ug+w`
  or `ug=rw,o=r`.  However, symbolic modes are more expressive than numeric
  modes: a mode only affects the specified bits, so `mode => 'ug+w'` will
  set the user and group write bits, without affecting any other bits.

  See the manual page for GNU or BSD `chmod` for more details
  on numeric and symbolic modes.

  On Windows, permissions are translated as follows:

  * Owner and group names are mapped to Windows SIDs
  * The "other" class of users maps to the "Everyone" SID
  * The read/write/execute permissions map to the `FILE_GENERIC_READ`,
    `FILE_GENERIC_WRITE`, and `FILE_GENERIC_EXECUTE` access rights; a
    file's owner always has the `FULL_CONTROL` right
  * "Other" users can't have any permissions a file's group lacks,
    and its group can't have any permissions its owner lacks; that is, 0644
    is an acceptable mode, but 0464 is not.

mtime
: A read-only state to check the file mtime. On \*nix-like systems, this
  is the time of the most recent change to the content of the file.

owner
: The user to whom the file should belong.  Argument can be a user name or a
  user ID.

  On Windows, a group (such as "Administrators") can be set as a file's owner
  and a user (such as "Administrator") can be set as a file's group; however,
  a file's owner and group shouldn't be the same. (If the owner is also
  the group, files with modes like `0640` will cause log churn, as they
  will always appear out of sync.)

path
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The path to the file to manage.  Must be fully qualified.

  On Windows, the path should include the drive letter and should use `/` as
  the separator character (rather than `\\`).

provider
: The specific backend to use for this `file`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  posix
  : Uses POSIX functionality to manage file ownership and permissions.

    * Supported features: `manages_symlinks`.

  windows
  : Uses Microsoft Windows functionality to manage file ownership and permissions.

    * Supported features: `manages_symlinks`.

purge
: Whether unmanaged files should be purged. This option only makes
  sense when managing directories with `recurse => true`.

  * When recursively duplicating an entire directory with the `source`
    attribute, `purge => true` will automatically purge any files
    that are not in the source directory.
  * When managing files in a directory as individual resources,
    setting `purge => true` will purge any files that aren't being
    specifically managed.

  If you have a filebucket configured, the purged files will be uploaded,
  but if you do not, this will destroy data.

  Valid values are `true`, `false`, `yes`, `no`.

recurse
: Whether and how to do recursive file management. Options are:

  * `inf,true` --- Regular style recursion on both remote and local
    directory structure.  See `recurselimit` to specify a limit to the
    recursion depth.
  * `remote` --- Descends recursively into the remote (source) directory
    but not the local (destination) directory. Allows copying of
    a few files into a directory containing many
    unmanaged files without scanning all the local files.
    This can only be used when a source parameter is specified.
  * `false` --- Default of no recursion.

  Valid values are `true`, `false`, `inf`, `remote`.

recurselimit
: How deeply to do recursive management.

  Values can match `/^[0-9]+$/`.

replace
: Whether to replace a file or symlink that already exists on the local system but
  whose content doesn't match what the `source` or `content` attribute
  specifies.  Setting this to false allows file resources to initialize files
  without overwriting future changes.  Note that this only affects content;
  Puppet will still manage ownership and permissions. Defaults to `true`.

  Valid values are `true`, `false`, `yes`, `no`.

selinux_ignore_defaults
: If this is set then Puppet will not ask SELinux (via matchpathcon) to
  supply defaults for the SELinux attributes (seluser, selrole,
  seltype, and selrange). In general, you should leave this set at its
  default and only set it to true when you need Puppet to not try to fix
  SELinux labels automatically.

  Valid values are `true`, `false`.

selrange
: What the SELinux range component of the context of the file should be.
  Any valid SELinux range component is accepted.  For example `s0` or
  `SystemHigh`.  If not specified it defaults to the value returned by
  matchpathcon for the file, if any exists.  Only valid on systems with
  SELinux support enabled and that have support for MCS (Multi-Category
  Security).

selrole
: What the SELinux role component of the context of the file should be.
  Any valid SELinux role component is accepted.  For example `role_r`.
  If not specified it defaults to the value returned by matchpathcon for
  the file, if any exists.  Only valid on systems with SELinux support
  enabled.

seltype
: What the SELinux type component of the context of the file should be.
  Any valid SELinux type component is accepted.  For example `tmp_t`.
  If not specified it defaults to the value returned by matchpathcon for
  the file, if any exists.  Only valid on systems with SELinux support
  enabled.

seluser
: What the SELinux user component of the context of the file should be.
  Any valid SELinux user component is accepted.  For example `user_u`.
  If not specified it defaults to the value returned by matchpathcon for
  the file, if any exists.  Only valid on systems with SELinux support
  enabled.

show_diff
: Whether to display differences when the file changes, defaulting to
  true.  This parameter is useful for files that may contain passwords or
  other secret data, which might otherwise be included in Puppet reports or
  other insecure outputs.  If the global `show_diff` setting
  is false, then no diffs will be shown even if this parameter is true.

  Valid values are `true`, `false`, `yes`, `no`.

source
: A source file, which will be copied into place on the local system.
  Values can be URIs pointing to remote files, or fully qualified paths to
  files available on the local system (including files on NFS shares or
  Windows mapped drives). This attribute is mutually exclusive with
  `content` and `target`.

  The available URI schemes are *puppet* and *file*. *Puppet*
  URIs will retrieve files from Puppet's built-in file server, and are
  usually formatted as:

  `puppet:///modules/name_of_module/filename`

  This will fetch a file from a module on the puppet master (or from a
  local module when using puppet apply). Given a `modulepath` of
  `/etc/puppetlabs/puppet/modules`, the example above would resolve to
  `/etc/puppetlabs/puppet/modules/name_of_module/files/filename`.

  Unlike `content`, the `source` attribute can be used to recursively copy
  directories if the `recurse` attribute is set to `true` or `remote`. If
  a source directory contains symlinks, use the `links` attribute to
  specify whether to recreate links or follow them.

  Multiple `source` values can be specified as an array, and Puppet will
  use the first source that exists. This can be used to serve different
  files to different system types:

      file { "/etc/nfs.conf":
        source => [
          "puppet:///modules/nfs/conf.$host",
          "puppet:///modules/nfs/conf.$operatingsystem",
          "puppet:///modules/nfs/conf"
        ]
      }

  Alternately, when serving directories recursively, multiple sources can
  be combined by setting the `sourceselect` attribute to `all`.

source_permissions
: Whether (and how) Puppet should copy owner, group, and mode permissions from
  the `source` to `file` resources when the permissions are not explicitly
  specified. (In all cases, explicit permissions will take precedence.)
  Valid values are `use`, `use_when_creating`, and `ignore`:

  * `use` (the default) will cause Puppet to apply the owner, group,
    and mode from the `source` to any files it is managing.
  * `use_when_creating` will only apply the owner, group, and mode from the
    `source` when creating a file; existing files will not have their permissions
    overwritten.
  * `ignore` will never apply the owner, group, or mode from the `source` when
    managing a file. When creating new files without explicit permissions,
    the permissions they receive will depend on platform-specific behavior.
    On POSIX, Puppet will use the umask of the user it is running as. On
    Windows, Puppet will use the default DACL associated with the user it is
    running as.

  Valid values are `use`, `use_when_creating`, `ignore`.

sourceselect
: Whether to copy all valid sources, or just the first one.  This parameter
  only affects recursive directory copies; by default, the first valid
  source is the only one used, but if this parameter is set to `all`, then
  all valid sources will have all of their contents copied to the local
  system. If a given file exists in more than one source, the version from
  the earliest source in the list will be used.

  Valid values are `first`, `all`.

target
: The target for creating a link.  Currently, symlinks are the
  only type supported. This attribute is mutually exclusive with `source`
  and `content`.

  Symlink targets can be relative, as well as absolute:

      # (Useful on Solaris)
      file { "/etc/inetd.conf":
        ensure => link,
        target => "inet/inetd.conf",
      }

  Directories of symlinks can be served recursively by instead using the
  `source` attribute, setting `ensure` to `directory`, and setting the
  `links` attribute to `manage`.

  Valid values are `notlink`. Values can match `/./`.

type
: A read-only state to check the file type.

validate_cmd
: A command for validating the file's syntax before replacing it. If
  Puppet would need to rewrite a file due to new `source` or `content`, it
  will check the new content's validity first. If validation fails, the file
  resource will fail.

  This command must have a fully qualified path, and should contain a
  percent (`%`) token where it would expect an input file. It must exit `0`
  if the syntax is correct, and non-zero otherwise. The command will be
  run on the target system while applying the catalog, not on the puppet master.

  Example:

      file { '/etc/apache2/apache2.conf':
        content      => 'example',
        validate_cmd => '/usr/sbin/apache2 -t -f %',
      }

  This would replace apache2.conf only if the test returned true.

  Note that if a validation command requires a `%` as part of its text,
  you can specify a different placeholder token with the
  `validate_replacement` attribute.

validate_replacement
: The replacement string in a `validate_cmd` that will be replaced
  with an input file name. Defaults to: `%`




----------------

### filebucket

A repository for storing and retrieving file content by MD5 checksum. Can
be local to each agent node, or centralized on a puppet master server. All
puppet masters provide a filebucket service that agent nodes can access
via HTTP, but you must declare a filebucket resource before any agents
will do so.

Filebuckets are used for the following features:

- **Content backups.** If the `file` type's `backup` attribute is set to
  the name of a filebucket, Puppet will back up the _old_ content whenever
  it rewrites a file; see the documentation for the `file` type for more
  details. These backups can be used for manual recovery of content, but
  are more commonly used to display changes and differences in a tool like
  Puppet Dashboard.
- **Content distribution.** The optional static compiler populates the
  puppet master's filebucket with the _desired_ content for each file,
  then instructs the agent to retrieve the content for a specific
  checksum. For more details,
  [see the `static_compiler` section in the catalog indirection docs](http://docs.puppetlabs.com/references/latest/indirection.html#catalog).

To use a central filebucket for backups, you will usually want to declare
a filebucket resource and a resource default for the `backup` attribute
in site.pp:

    # /etc/puppet/manifests/site.pp
    filebucket { 'main':
      path   => false,                # This is required for remote filebuckets.
      server => 'puppet.example.com', # Optional; defaults to the configured puppet master.
    }

    File { backup => main, }

Puppet master servers automatically provide the filebucket service, so
this will work in a default configuration. If you have a heavily
restricted `auth.conf` file, you may need to allow access to the
`file_bucket_file` endpoint.

#### Parameters


name
: The name of the filebucket.

path
: The path to the _local_ filebucket; defaults to the value of the
  `clientbucketdir` setting.  To use a remote filebucket, you _must_ set
  this attribute to `false`.

port
: The port on which the remote server is listening. Defaults to the
  value of the `masterport` setting, which is usually 8140.

server
: The server providing the remote filebucket service. Defaults to the
  value of the `server` setting (that is, the currently configured
  puppet master server).

  This setting is _only_ consulted if the `path` attribute is set to `false`.




----------------

### group

Manage groups. On most platforms this can only create groups.
Group membership must be managed on individual users.

On some platforms such as OS X, group membership is managed as an
attribute of the group, not the user record. Providers must have
the feature 'manages_members' to manage the 'members' property of
a group record.

#### Features

- *libuser*: Allows local groups to be managed on systems that also use some other remote NSS method of managing accounts.
- *manages_aix_lam*: The provider can manage AIX Loadable Authentication Module (LAM) system.
- *manages_members*: For directories where membership is an attribute of groups not users.
- *system_groups*: The provider allows you to create system groups with lower GIDs.


Provider         | libuser | manages_aix_lam | manages_members | system_groups |
---------------- | ------- | --------------- | --------------- | ------------- |
aix              |         | *X*             | *X*             |               |
directoryservice |         |                 | *X*             |               |
groupadd         | *X*     |                 |                 | *X*           |
ldap             |         |                 |                 |               |
pw               |         |                 | *X*             |               |
windows_adsi     |         |                 | *X*             |               |

#### Parameters


allowdupe
: Whether to allow duplicate GIDs. Defaults to `false`.

  Valid values are `true`, `false`, `yes`, `no`.

attribute_membership
: Whether specified attribute value pairs should be treated as the only attributes
  of the user or whether they should merely
  be treated as the minimum list.

  Valid values are `inclusive`, `minimum`.

attributes
: Specify group AIX attributes in an array of `key=value` pairs.



  Requires features manages_aix_lam.

auth_membership
: whether the provider is authoritative for group membership.

ensure
: Create or remove the group.

  Valid values are `present`, `absent`.

forcelocal
: Forces the mangement of local accounts when accounts are also
  being managed by some other NSS

  Valid values are `true`, `false`, `yes`, `no`.

  Requires features libuser.

gid
: The group ID.  Must be specified numerically.  If no group ID is
  specified when creating a new group, then one will be chosen
  automatically according to local system standards. This will likely
  result in the same group having different GIDs on different systems,
  which is not recommended.

  On Windows, this property is read-only and will return the group's security
  identifier (SID).

ia_load_module
: The name of the I&A module to use to manage this user



  Requires features manages_aix_lam.

members
: The members of the group. For directory services where group
  membership is stored in the group objects, not the users.



  Requires features manages_members.

name
: The group name. While naming limitations vary by operating system,
  it is advisable to restrict names to the lowest common denominator,
  which is a maximum of 8 characters beginning with a letter.

  Note that Puppet considers group names to be case-sensitive, regardless
  of the platform's own rules; be sure to always use the same case when
  referring to a given group.

provider
: The specific backend to use for this `group`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  aix
  : Group management for AIX.

    * Required binaries: `/usr/bin/chgroup`, `/usr/bin/mkgroup`, `/usr/sbin/lsgroup`, `/usr/sbin/rmgroup`.
    * Default for `operatingsystem` == `aix`.
    * Supported features: `manages_aix_lam`, `manages_members`.

  directoryservice
  : Group management using DirectoryService on OS X.

    * Required binaries: `/usr/bin/dscl`.
    * Default for `operatingsystem` == `darwin`.
    * Supported features: `manages_members`.

  groupadd
  : Group management via `groupadd` and its ilk. The default for most platforms.

    * Required binaries: `groupadd`, `groupdel`, `groupmod`, `lgroupadd`.
    * Supported features: `libuser`, `system_groups`.

  ldap
  : Group management via LDAP.

    This provider requires that you have valid values for all of the
    LDAP-related settings in `puppet.conf`, including `ldapbase`.  You will
    almost definitely need settings for `ldapuser` and `ldappassword` in order
    for your clients to write to LDAP.

    Note that this provider will automatically generate a GID for you if you do
    not specify one, but it is a potentially expensive operation, as it
    iterates across all existing groups to pick the appropriate next one.

  pw
  : Group management via `pw` on FreeBSD and DragonFly BSD.

    * Required binaries: `pw`.
    * Default for `operatingsystem` == `freebsd, dragonfly`.
    * Supported features: `manages_members`.

  windows_adsi
  : Local group management for Windows. Group members can be both users and groups.
    Additionally, local groups can contain domain users.

    * Default for `operatingsystem` == `windows`.
    * Supported features: `manages_members`.

system
: Whether the group is a system group with lower GID.

  Valid values are `true`, `false`, `yes`, `no`.




----------------

### host

Installs and manages host entries.  For most systems, these
entries will just be in `/etc/hosts`, but some systems (notably OS X)
will have different solutions.

#### Parameters


comment
: A comment that will be attached to the line with a # character.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

host_aliases
: Any aliases the host might have.  Multiple values must be
  specified as an array.

ip
: The host's IP address, IPv4 or IPv6.

name
: The host name.

provider
: The specific backend to use for this `host`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  parsed
  :

target
: The file in which to store service information.  Only used by
  those providers that write to disk. On most systems this defaults to `/etc/hosts`.




----------------

### interface

This represents a router or switch interface. It is possible to manage
interface mode (access or trunking, native vlan and encapsulation) and
switchport characteristics (speed, duplex).

#### Parameters


allowed_trunk_vlans
: Allowed list of Vlans that this trunk can forward.

  Valid values are `all`. Values can match `/./`.

description
: Interface description.

device_url
: The URL at which the router or switch can be reached.

duplex
: Interface duplex.

  Valid values are `auto`, `full`, `half`.

encapsulation
: Interface switchport encapsulation.

  Valid values are `none`, `dot1q`, `isl`.

ensure
: The basic property that the resource should be in.

  Valid values are `present` (also called `no_shutdown`), `absent` (also called `shutdown`).

etherchannel
: Channel group this interface is part of.

  Values can match `/^\d+/`.

ipaddress
: IP Address of this interface. Note that it might not be possible to set
  an interface IP address; it depends on the interface type and device type.

  Valid format of ip addresses are:

  * IPV4, like 127.0.0.1
  * IPV4/prefixlength like 127.0.1.1/24
  * IPV6/prefixlength like FE80::21A:2FFF:FE30:ECF0/128
  * an optional suffix for IPV6 addresses from this list: `eui-64`, `link-local`

  It is also possible to supply an array of values.

mode
: Interface switchport mode.

  Valid values are `access`, `trunk`.

name
: The interface's name.

native_vlan
: Interface native vlan (for access mode only).

  Values can match `/^\d+/`.

provider
: The specific backend to use for this `interface`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  cisco
  : Cisco switch/router provider for interface.

speed
: Interface speed.

  Valid values are `auto`. Values can match `/^\d+/`.




----------------

### k5login

Manage the `.k5login` file for a user.  Specify the full path to
the `.k5login` file as the name, and an array of principals as the
`principals` attribute.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

mode
: The desired permissions mode of the `.k5login` file. Defaults to `644`.

path
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The path to the `.k5login` file to manage.  Must be fully qualified.

principals
: The principals present in the `.k5login` file. This should be specified as an array.

provider
: The specific backend to use for this `k5login`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  k5login
  : The k5login provider is the only provider for the k5login
    type.




----------------

### macauthorization

Manage the Mac OS X authorization database. See the
[Apple developer site](http://developer.apple.com/documentation/Security/Conceptual/Security_Overview/Security_Services/chapter_4_section_5.html)
for more information.

Note that authorization store directives with hyphens in their names have
been renamed to use underscores, as Puppet does not react well to hyphens
in identifiers.

**Autorequires:** If Puppet is managing the `/etc/authorization` file, each
macauthorization resource will autorequire it.

#### Parameters


allow_root
: Corresponds to `allow-root` in the authorization store. Specifies
  whether a right should be allowed automatically if the requesting process
  is running with `uid == 0`.  AuthorizationServices defaults this attribute
  to false if not specified.

  Valid values are `true`, `false`.

auth_class
: Corresponds to `class` in the authorization store; renamed due
  to 'class' being a reserved word in Puppet.

  Valid values are `user`, `evaluate-mechanisms`, `allow`, `deny`, `rule`.

auth_type
: Type --- this can be a `right` or a `rule`. The `comment` type has
  not yet been implemented.

  Valid values are `right`, `rule`.

authenticate_user
: Corresponds to `authenticate-user` in the authorization store.

  Valid values are `true`, `false`.

comment
: The `comment` attribute for authorization resources.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: A group which the user must authenticate as a member of. This
  must be a single group.

k_of_n
: How large a subset of rule mechanisms must succeed for successful
  authentication. If there are 'n' mechanisms, then 'k' (the integer value
  of this parameter) mechanisms must succeed. The most common setting for
  this parameter is `1`. If `k-of-n` is not set, then every mechanism ---
  that is, 'n-of-n' --- must succeed.

mechanisms
: An array of suitable mechanisms.

name
: The name of the right or rule to be managed.
  Corresponds to `key` in Authorization Services. The key is the name
  of a rule. A key uses the same naming conventions as a right. The
  Security Server uses a rule's key to match the rule with a right.
  Wildcard keys end with a '.'. The generic rule has an empty key value.
  Any rights that do not match a specific rule use the generic rule.

provider
: The specific backend to use for this `macauthorization`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  macauthorization
  : Manage Mac OS X authorization database rules and rights.

    * Required binaries: `/usr/bin/security`, `/usr/bin/sw_vers`.
    * Default for `operatingsystem` == `darwin`.

rule
: The rule(s) that this right refers to.

session_owner
: Whether the session owner automatically matches this rule or right.
  Corresponds to `session-owner` in the authorization store.

  Valid values are `true`, `false`.

shared
: Whether the Security Server should mark the credentials used to gain
  this right as shared. The Security Server may use any shared credentials
  to authorize this right. For maximum security, set sharing to false so
  credentials stored by the Security Server for one application may not be
  used by another application.

  Valid values are `true`, `false`.

timeout
: The number of seconds in which the credential used by this rule will
  expire. For maximum security where the user must authenticate every time,
  set the timeout to 0. For minimum security, remove the timeout attribute
  so the user authenticates only once per session.

tries
: The number of tries allowed.




----------------

### mailalias

Creates an email alias in the local alias database.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

name
: The alias name.

provider
: The specific backend to use for this `mailalias`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  aliases
  :

recipient
: Where email should be sent.  Multiple values
  should be specified as an array.

target
: The file in which to store the aliases.  Only used by
  those providers that write to disk.




----------------

### maillist

Manage email lists.  This resource type can only create
and remove lists; it cannot currently reconfigure them.

#### Parameters


admin
: The email address of the administrator.

description
: The description of the mailing list.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`, `purged`.

mailserver
: The name of the host handling email for the list.

name
: The name of the email list.

password
: The admin password.

provider
: The specific backend to use for this `maillist`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  mailman
  : * Required binaries: `/usr/lib/mailman/bin/list_lists`, `/usr/lib/mailman/bin/newlist`, `/usr/lib/mailman/bin/rmlist`, `/usr/lib/mailman/mail/mailman`.

webserver
: The name of the host providing web archives and the administrative interface.




----------------

### mcx

MCX object management using DirectoryService on OS X.

The default provider of this type merely manages the XML plist as
reported by the `dscl -mcxexport` command.  This is similar to the
content property of the file type in Puppet.

The recommended method of using this type is to use Work Group Manager
to manage users and groups on the local computer, record the resulting
puppet manifest using the command `puppet resource mcx`, then deploy it
to other machines.

**Autorequires:** If Puppet is managing the user, group, or computer that these
MCX settings refer to, the MCX resource will autorequire that user, group, or computer.

#### Features

- *manages_content*: The provider can manage MCXSettings as a string.


Provider   | manages_content |
---------- | --------------- |
mcxcontent | *X*             |

#### Parameters


content
: The XML Plist used as the value of MCXSettings in DirectoryService.
  This is the standard output from the system command:

      dscl localhost -mcxexport /Local/Default/<ds_type>/ds_name

  Note that `ds_type` is capitalized and plural in the dscl command.



  Requires features manages_content.

ds_name
: The name to attach the MCX Setting to. (For example, `localhost`
  when `ds_type => computer`.) This setting is not required, as it can be
  automatically discovered when the resource name is parseable.  (For
  example, in `/Groups/admin`, `group` will be used as the dstype.)

ds_type
: The DirectoryService type this MCX setting attaches to.

  Valid values are `user`, `group`, `computer`, `computerlist`.

ensure
: Create or remove the MCX setting.

  Valid values are `present`, `absent`.

name
: The name of the resource being managed.
  The default naming convention follows Directory Service paths:

      /Computers/localhost
      /Groups/admin
      /Users/localadmin

  The `ds_type` and `ds_name` type parameters are not necessary if the
  default naming convention is followed.

provider
: The specific backend to use for this `mcx`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  mcxcontent
  : MCX Settings management using DirectoryService on OS X.

    This provider manages the entire MCXSettings attribute available
    to some directory services nodes.  This management is 'all or nothing'
    in that discrete application domain key value pairs are not managed
    by this provider.

    It is recommended to use WorkGroup Manager to configure Users, Groups,
    Computers, or ComputerLists, then use 'ralsh mcx' to generate a puppet
    manifest from the resulting configuration.

    Original Author: Jeff McCune (mccune.jeff@gmail.com)

    * Required binaries: `/usr/bin/dscl`.
    * Default for `operatingsystem` == `darwin`.
    * Supported features: `manages_content`.




----------------

### mount

Manages mounted filesystems, including putting mount
information into the mount table. The actual behavior depends
on the value of the 'ensure' parameter.

**Refresh:** `mount` resources can respond to refresh events (via
`notify`, `subscribe`, or the `~>` arrow). If a `mount` receives an event
from another resource **and** its `ensure` attribute is set to `mounted`,
Puppet will try to unmount then remount that filesystem.

**Autorequires:** If Puppet is managing any parents of a mount resource ---
that is, other mount points higher up in the filesystem --- the child
mount will autorequire them.

#### Features

- *refreshable*: The provider can remount the filesystem.


Provider | refreshable |
-------- | ----------- |
parsed   | *X*         |

#### Parameters


atboot
: Whether to mount the mount at boot.  Not all platforms
  support this.

blockdevice
: The device to fsck.  This is property is only valid
  on Solaris, and in most cases will default to the correct
  value.

device
: The device providing the mount.  This can be whatever
  device is supporting by the mount, including network
  devices or devices specified by UUID rather than device
  path, depending on the operating system.

dump
: Whether to dump the mount.  Not all platform support this.
  Valid values are `1` or `0`. or `2` on FreeBSD, Default is `0`.

  Values can match `/(0|1)/`, `/(0|1)/`.

ensure
: Control what to do with this mount. Set this attribute to
  `unmounted` to make sure the filesystem is in the filesystem table
  but not mounted (if the filesystem is currently mounted, it will be
  unmounted).  Set it to `absent` to unmount (if necessary) and remove
  the filesystem from the fstab.  Set to `mounted` to add it to the
  fstab and mount it. Set to `present` to add to fstab but not change
  mount/unmount status.

  Valid values are `defined` (also called `present`), `unmounted`, `absent`, `mounted`.

fstype
: The mount type.  Valid values depend on the
  operating system.  This is a required option.

name
: The mount path for the mount.

options
: Mount options for the mounts, as they would
  appear in the fstab.

pass
: The pass in which the mount is checked.

provider
: The specific backend to use for this `mount`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  parsed
  : * Required binaries: `mount`, `umount`.
    * Supported features: `refreshable`.

remounts
: Whether the mount can be remounted  `mount -o remount`.  If
  this is false, then the filesystem will be unmounted and remounted
  manually, which is prone to failure.

  Valid values are `true`, `false`.

target
: The file in which to store the mount table.  Only used by
  those providers that write to disk.




----------------

### nagios_command

The Nagios type command.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_command.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


command_line
: Nagios configuration file parameter.

command_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_command resource.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_command resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

mode
: The desired mode of the config file for this nagios_command resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

owner
: The desired owner of the config file for this nagios_command resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

poller_tag
: Nagios configuration file parameter.

provider
: The specific backend to use for this `nagios_command`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_contact

The Nagios type contact.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_contact.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


address1
: Nagios configuration file parameter.

address2
: Nagios configuration file parameter.

address3
: Nagios configuration file parameter.

address4
: Nagios configuration file parameter.

address5
: Nagios configuration file parameter.

address6
: Nagios configuration file parameter.

alias
: Nagios configuration file parameter.

can_submit_commands
: Nagios configuration file parameter.

contact_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_contact resource.

contactgroups
: Nagios configuration file parameter.

email
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_contact resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_notification_commands
: Nagios configuration file parameter.

host_notification_options
: Nagios configuration file parameter.

host_notification_period
: Nagios configuration file parameter.

host_notifications_enabled
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_contact resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

owner
: The desired owner of the config file for this nagios_contact resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

pager
: Nagios configuration file parameter.

provider
: The specific backend to use for this `nagios_contact`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

retain_nonstatus_information
: Nagios configuration file parameter.

retain_status_information
: Nagios configuration file parameter.

service_notification_commands
: Nagios configuration file parameter.

service_notification_options
: Nagios configuration file parameter.

service_notification_period
: Nagios configuration file parameter.

service_notifications_enabled
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_contactgroup

The Nagios type contactgroup.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_contactgroup.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


alias
: Nagios configuration file parameter.

contactgroup_members
: Nagios configuration file parameter.

contactgroup_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_contactgroup resource.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_contactgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

members
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_contactgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

owner
: The desired owner of the config file for this nagios_contactgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_contactgroup`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_host

The Nagios type host.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_host.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


action_url
: Nagios configuration file parameter.

active_checks_enabled
: Nagios configuration file parameter.

address
: Nagios configuration file parameter.

alias
: Nagios configuration file parameter.

business_impact
: Nagios configuration file parameter.

check_command
: Nagios configuration file parameter.

check_freshness
: Nagios configuration file parameter.

check_interval
: Nagios configuration file parameter.

check_period
: Nagios configuration file parameter.

contact_groups
: Nagios configuration file parameter.

contacts
: Nagios configuration file parameter.

display_name
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

event_handler
: Nagios configuration file parameter.

event_handler_enabled
: Nagios configuration file parameter.

failure_prediction_enabled
: Nagios configuration file parameter.

first_notification_delay
: Nagios configuration file parameter.

flap_detection_enabled
: Nagios configuration file parameter.

flap_detection_options
: Nagios configuration file parameter.

freshness_threshold
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_host resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

high_flap_threshold
: Nagios configuration file parameter.

host_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_host resource.

hostgroups
: Nagios configuration file parameter.

icon_image
: Nagios configuration file parameter.

icon_image_alt
: Nagios configuration file parameter.

initial_state
: Nagios configuration file parameter.

low_flap_threshold
: Nagios configuration file parameter.

max_check_attempts
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_host resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

notification_interval
: Nagios configuration file parameter.

notification_options
: Nagios configuration file parameter.

notification_period
: Nagios configuration file parameter.

notifications_enabled
: Nagios configuration file parameter.

obsess_over_host
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_host resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

parents
: Nagios configuration file parameter.

passive_checks_enabled
: Nagios configuration file parameter.

poller_tag
: Nagios configuration file parameter.

process_perf_data
: Nagios configuration file parameter.

provider
: The specific backend to use for this `nagios_host`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

realm
: Nagios configuration file parameter.

register
: Nagios configuration file parameter.

retain_nonstatus_information
: Nagios configuration file parameter.

retain_status_information
: Nagios configuration file parameter.

retry_interval
: Nagios configuration file parameter.

stalking_options
: Nagios configuration file parameter.

statusmap_image
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.

vrml_image
: Nagios configuration file parameter.




----------------

### nagios_hostdependency

The Nagios type hostdependency.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_hostdependency.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_hostdependency resource.

dependency_period
: Nagios configuration file parameter.

dependent_host_name
: Nagios configuration file parameter.

dependent_hostgroup_name
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

execution_failure_criteria
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_hostdependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: Nagios configuration file parameter.

hostgroup_name
: Nagios configuration file parameter.

inherits_parent
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_hostdependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notification_failure_criteria
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_hostdependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_hostdependency`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_hostescalation

The Nagios type hostescalation.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_hostescalation.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_hostescalation resource.

contact_groups
: Nagios configuration file parameter.

contacts
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

escalation_options
: Nagios configuration file parameter.

escalation_period
: Nagios configuration file parameter.

first_notification
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_hostescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: Nagios configuration file parameter.

hostgroup_name
: Nagios configuration file parameter.

last_notification
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_hostescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notification_interval
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_hostescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_hostescalation`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_hostextinfo

The Nagios type hostextinfo.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_hostextinfo.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_hostextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_hostextinfo resource.

icon_image
: Nagios configuration file parameter.

icon_image_alt
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_hostextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_hostextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_hostextinfo`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

statusmap_image
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.

vrml_image
: Nagios configuration file parameter.




----------------

### nagios_hostgroup

The Nagios type hostgroup.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_hostgroup.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


action_url
: Nagios configuration file parameter.

alias
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_hostgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

hostgroup_members
: Nagios configuration file parameter.

hostgroup_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_hostgroup resource.

members
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_hostgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_hostgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_hostgroup`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

realm
: Nagios configuration file parameter.

register
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_service

The Nagios type service.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_service.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_service resource.

action_url
: Nagios configuration file parameter.

active_checks_enabled
: Nagios configuration file parameter.

business_impact
: Nagios configuration file parameter.

check_command
: Nagios configuration file parameter.

check_freshness
: Nagios configuration file parameter.

check_interval
: Nagios configuration file parameter.

check_period
: Nagios configuration file parameter.

contact_groups
: Nagios configuration file parameter.

contacts
: Nagios configuration file parameter.

display_name
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

event_handler
: Nagios configuration file parameter.

event_handler_enabled
: Nagios configuration file parameter.

failure_prediction_enabled
: Nagios configuration file parameter.

first_notification_delay
: Nagios configuration file parameter.

flap_detection_enabled
: Nagios configuration file parameter.

flap_detection_options
: Nagios configuration file parameter.

freshness_threshold
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_service resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

high_flap_threshold
: Nagios configuration file parameter.

host_name
: Nagios configuration file parameter.

hostgroup_name
: Nagios configuration file parameter.

icon_image
: Nagios configuration file parameter.

icon_image_alt
: Nagios configuration file parameter.

initial_state
: Nagios configuration file parameter.

is_volatile
: Nagios configuration file parameter.

low_flap_threshold
: Nagios configuration file parameter.

max_check_attempts
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_service resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

normal_check_interval
: Nagios configuration file parameter.

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

notification_interval
: Nagios configuration file parameter.

notification_options
: Nagios configuration file parameter.

notification_period
: Nagios configuration file parameter.

notifications_enabled
: Nagios configuration file parameter.

obsess_over_service
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_service resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

parallelize_check
: Nagios configuration file parameter.

passive_checks_enabled
: Nagios configuration file parameter.

poller_tag
: Nagios configuration file parameter.

process_perf_data
: Nagios configuration file parameter.

provider
: The specific backend to use for this `nagios_service`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

retain_nonstatus_information
: Nagios configuration file parameter.

retain_status_information
: Nagios configuration file parameter.

retry_check_interval
: Nagios configuration file parameter.

retry_interval
: Nagios configuration file parameter.

service_description
: Nagios configuration file parameter.

servicegroups
: Nagios configuration file parameter.

stalking_options
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_servicedependency

The Nagios type servicedependency.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_servicedependency.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_servicedependency resource.

dependency_period
: Nagios configuration file parameter.

dependent_host_name
: Nagios configuration file parameter.

dependent_hostgroup_name
: Nagios configuration file parameter.

dependent_service_description
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

execution_failure_criteria
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_servicedependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: Nagios configuration file parameter.

hostgroup_name
: Nagios configuration file parameter.

inherits_parent
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_servicedependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notification_failure_criteria
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_servicedependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_servicedependency`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

service_description
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_serviceescalation

The Nagios type serviceescalation.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_serviceescalation.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_serviceescalation resource.

contact_groups
: Nagios configuration file parameter.

contacts
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

escalation_options
: Nagios configuration file parameter.

escalation_period
: Nagios configuration file parameter.

first_notification
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_serviceescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: Nagios configuration file parameter.

hostgroup_name
: Nagios configuration file parameter.

last_notification
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_serviceescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notification_interval
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_serviceescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_serviceescalation`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

service_description
: Nagios configuration file parameter.

servicegroup_name
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_serviceextinfo

The Nagios type serviceextinfo.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_serviceextinfo.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_serviceextinfo resource.

action_url
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_serviceextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: Nagios configuration file parameter.

icon_image
: Nagios configuration file parameter.

icon_image_alt
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_serviceextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_serviceextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_serviceextinfo`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

service_description
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_servicegroup

The Nagios type servicegroup.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_servicegroup.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


action_url
: Nagios configuration file parameter.

alias
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_servicegroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

members
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_servicegroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_servicegroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_servicegroup`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

servicegroup_members
: Nagios configuration file parameter.

servicegroup_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_servicegroup resource.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_timeperiod

The Nagios type timeperiod.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_timeperiod.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


alias
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

exclude
: Nagios configuration file parameter.

friday
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_timeperiod resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

mode
: The desired mode of the config file for this nagios_timeperiod resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

monday
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_timeperiod resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_timeperiod`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

saturday
: Nagios configuration file parameter.

sunday
: Nagios configuration file parameter.

target
: The target.

thursday
: Nagios configuration file parameter.

timeperiod_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_timeperiod resource.

tuesday
: Nagios configuration file parameter.

use
: Nagios configuration file parameter.

wednesday
: Nagios configuration file parameter.




----------------

### notify

Sends an arbitrary message to the agent run-time log.

#### Parameters


message
: The message to be sent to the log.

name
: An arbitrary tag for your own reference; the name of the message.

withpath
: Whether to show the full object path. Defaults to false.

  Valid values are `true`, `false`.




----------------

### package

Manage packages.  There is a basic dichotomy in package
support right now:  Some package types (e.g., yum and apt) can
retrieve their own package files, while others (e.g., rpm and sun)
cannot.  For those package formats that cannot retrieve their own files,
you can use the `source` parameter to point to the correct file.

Puppet will automatically guess the packaging format that you are
using based on the platform you are on, but you can override it
using the `provider` parameter; each provider defines what it
requires in order to function, and you must meet those requirements
to use a given provider.

**Autorequires:** If Puppet is managing the files specified as a
package's `adminfile`, `responsefile`, or `source`, the package
resource will autorequire those files.

#### Features

- *holdable*: The provider is capable of placing packages on hold such that they are not automatically upgraded as a result of other package dependencies unless explicit action is taken by a user or another package. Held is considered a superset of installed.
- *install_options*: The provider accepts options to be passed to the installer command.
- *installable*: The provider can install packages.
- *package_settings*: The provider accepts package_settings to be ensured for the given package. The meaning and format of these settings is provider-specific.
- *purgeable*: The provider can purge packages.  This generally means that all traces of the package are removed, including existing configuration files.  This feature is thus destructive and should be used with the utmost care.
- *uninstall_options*: The provider accepts options to be passed to the uninstaller command.
- *uninstallable*: The provider can uninstall packages.
- *upgradeable*: The provider can upgrade to the latest version of a package.  This feature is used by specifying `latest` as the desired value for the package.
- *versionable*: The provider is capable of interrogating the package database for installed version(s), and can select which out of a set of available versions of a package to install if asked.
- *virtual_packages*: The provider accepts virtual package names for install and uninstall.


Provider    | holdable | install_options | installable | package_settings | purgeable | uninstall_options | uninstallable | upgradeable | versionable | virtual_packages |
----------- | -------- | --------------- | ----------- | ---------------- | --------- | ----------------- | ------------- | ----------- | ----------- | ---------------- |
aix         |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
appdmg      |          |                 | *X*         |                  |           |                   |               |             |             |                  |
apple       |          |                 | *X*         |                  |           |                   |               |             |             |                  |
apt         | *X*      | *X*             | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         |                  |
aptitude    | *X*      |                 | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         |                  |
aptrpm      |          |                 | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         |                  |
blastwave   |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
dpkg        | *X*      |                 | *X*         |                  | *X*       |                   | *X*           | *X*         |             |                  |
fink        | *X*      |                 | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         |                  |
freebsd     |          |                 | *X*         |                  | *X*       |                   | *X*           |             |             |                  |
gem         |          | *X*             | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
hpux        |          |                 | *X*         |                  |           |                   | *X*           |             |             |                  |
macports    |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
msi         |          | *X*             | *X*         |                  |           | *X*               | *X*           |             |             |                  |
nim         |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
openbsd     |          | *X*             | *X*         |                  | *X*       | *X*               | *X*           |             | *X*         |                  |
opkg        |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
pacman      |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
pip         |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
pkg         | *X*      |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
pkgdmg      |          |                 | *X*         |                  |           |                   |               |             |             |                  |
pkgin       |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
pkgutil     |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
portage     |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
ports       |          |                 | *X*         |                  | *X*       |                   | *X*           | *X*         |             |                  |
portupgrade |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
rpm         |          | *X*             | *X*         |                  |           | *X*               | *X*           | *X*         | *X*         | *X*              |
rug         |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
sun         |          | *X*             | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
sunfreeware |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
up2date     |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
urpmi       |          |                 | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         |                  |
windows     |          | *X*             | *X*         |                  |           | *X*               | *X*           |             | *X*         |                  |
yum         |          | *X*             | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         | *X*              |
zypper      |          | *X*             | *X*         |                  |           |                   | *X*           | *X*         | *X*         | *X*              |

#### Parameters


adminfile
: A file containing package defaults for installing packages.
  This is currently only used on Solaris.  The value will be
  validated according to system rules, which in the case of
  Solaris means that it should either be a fully qualified path
  or it should be in `/var/sadm/install/admin`.

allow_virtual
: Specifies if virtual package names are allowed for install and uninstall.

  Valid values are `true`, `false`, `yes`, `no`.

  Requires features virtual_packages.

allowcdrom
: Tells apt to allow cdrom sources in the sources.list file.
  Normally apt will bail if you try this.

  Valid values are `true`, `false`.

category
: A read-only parameter set by the package.

configfiles
: Whether configfiles should be kept or replaced.  Most packages
  types do not support this parameter. Defaults to `keep`.

  Valid values are `keep`, `replace`.

description
: A read-only parameter set by the package.

ensure
: What state the package should be in. On packaging systems that can
  retrieve new packages on their own, you can choose which package to
  retrieve by specifying a version number or `latest` as the ensure
  value. On packaging systems that manage configuration files separately
  from "normal" system files, you can uninstall config files by
  specifying `purged` as the ensure value. This defaults to `installed`.

  Valid values are `present` (also called `installed`), `absent`, `purged`, `held`, `latest`. Values can match `/./`.

flavor
: OpenBSD supports 'flavors', which are further specifications for
  which type of package you want.

install_options
: An array of additional options to pass when installing a package. These
  options are package-specific, and should be documented by the software
  vendor.  One commonly implemented option is `INSTALLDIR`:

      package { 'mysql':
        ensure          => installed,
        source          => 'N:/packages/mysql-5.5.16-winx64.msi',
        install_options => [ '/S', { 'INSTALLDIR' => 'C:\mysql-5.5' } ],
      }

  Each option in the array can either be a string or a hash, where each
  key and value pair are interpreted in a provider specific way.  Each
  option will automatically be quoted when passed to the install command.

  On Windows, this is the **only** place in Puppet where backslash
  separators should be used.  Note that backslashes in double-quoted
  strings _must_ be double-escaped and backslashes in single-quoted
  strings _may_ be double-escaped.



  Requires features install_options.

instance
: A read-only parameter set by the package.

name
: The package name.  This is the name that the packaging
  system uses internally, which is sometimes (especially on Solaris)
  a name that is basically useless to humans.  If you want to
  abstract package installation, then you can use aliases to provide
  a common name to packages:

      # In the 'openssl' class
      $ssl = $operatingsystem ? {
        solaris => SMCossl,
        default => openssl
      }

      # It is not an error to set an alias to the same value as the
      # object name.
      package { $ssl:
        ensure => installed,
        alias  => openssl
      }

      . etc. .

      $ssh = $operatingsystem ? {
        solaris => SMCossh,
        default => openssh
      }

      # Use the alias to specify a dependency, rather than
      # having another selector to figure it out again.
      package { $ssh:
        ensure  => installed,
        alias   => openssh,
        require => Package[openssl]
      }

package_settings
: Settings that can change the contents or configuration of a package.

  The formatting and effects of package_settings are provider-specific; any
  provider that implements them must explain how to use them in its
  documentation. (Our general expectation is that if a package is
  installed but its settings are out of sync, the provider should
  re-install that package with the desired settings.)

  An example of how package_settings could be used is FreeBSD's port build
  options --- a future version of the provider could accept a hash of options,
  and would reinstall the port if the installed version lacked the correct
  settings.

      package { 'www/apache22':
        package_settings => { 'SUEXEC' => false }
      }

  Again, check the documentation of your platform's package provider to see
  the actual usage.



  Requires features package_settings.

platform
: A read-only parameter set by the package.

provider
: The specific backend to use for this `package`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  aix
  : Installation from an AIX software directory, using the AIX `installp`
    command.  The `source` parameter is required for this provider, and should
    be set to the absolute path (on the puppet agent machine) of a directory
    containing one or more BFF package files.

    The `installp` command will generate a table of contents file (named `.toc`)
    in this directory, and the `name` parameter (or resource title) that you
    specify for your `package` resource must match a package name that exists
    in the `.toc` file.

    Note that package downgrades are *not* supported; if your resource specifies
    a specific version number and there is already a newer version of the package
    installed on the machine, the resource will fail with an error message.

    * Required binaries: `/usr/bin/lslpp`, `/usr/sbin/installp`.
    * Default for `operatingsystem` == `aix`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  appdmg
  : Package management which copies application bundles to a target.

    * Required binaries: `/usr/bin/curl`, `/usr/bin/ditto`, `/usr/bin/hdiutil`.
    * Supported features: `installable`.

  apple
  : Package management based on OS X's builtin packaging system.  This is
    essentially the simplest and least functional package system in existence --
    it only supports installation; no deletion or upgrades.  The provider will
    automatically add the `.pkg` extension, so leave that off when specifying
    the package name.

    * Required binaries: `/usr/sbin/installer`.
    * Supported features: `installable`.

  apt
  : Package management via `apt-get`.

    * Required binaries: `/usr/bin/apt-cache`, `/usr/bin/apt-get`, `/usr/bin/debconf-set-selections`.
    * Default for `operatingsystem` == `debian, ubuntu`.
    * Supported features: `holdable`, `install_options`, `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`.

  aptitude
  : Package management via `aptitude`.

    * Required binaries: `/usr/bin/apt-cache`, `/usr/bin/aptitude`.
    * Supported features: `holdable`, `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`.

  aptrpm
  : Package management via `apt-get` ported to `rpm`.

    * Required binaries: `apt-cache`, `apt-get`, `rpm`.
    * Supported features: `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`.

  blastwave
  : Package management using Blastwave.org's `pkg-get` command on Solaris.

    * Required binaries: `pkg-get`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  dpkg
  : Package management via `dpkg`.  Because this only uses `dpkg`
    and not `apt`, you must specify the source of any packages you want
    to manage.

    * Required binaries: `/usr/bin/dpkg-deb`, `/usr/bin/dpkg-query`, `/usr/bin/dpkg`.
    * Supported features: `holdable`, `installable`, `purgeable`, `uninstallable`, `upgradeable`.

  fink
  : Package management via `fink`.

    * Required binaries: `/sw/bin/apt-cache`, `/sw/bin/apt-get`, `/sw/bin/dpkg-query`, `/sw/bin/fink`.
    * Supported features: `holdable`, `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`.

  freebsd
  : The specific form of package management on FreeBSD.  This is an
    extremely quirky packaging system, in that it freely mixes between
    ports and packages.  Apparently all of the tools are written in Ruby,
    so there are plans to rewrite this support to directly use those
    libraries.

    * Required binaries: `/usr/sbin/pkg_add`, `/usr/sbin/pkg_delete`, `/usr/sbin/pkg_info`.
    * Supported features: `installable`, `purgeable`, `uninstallable`.

  gem
  : Ruby Gem support.  If a URL is passed via `source`, then that URL is used as the
    remote gem repository; if a source is present but is not a valid URL, it will be
    interpreted as the path to a local gem file.  If source is not present at all,
    the gem will be installed from the default gem repositories.

    * Required binaries: `gem`.
    * Supported features: `install_options`, `installable`, `uninstallable`, `upgradeable`, `versionable`.

  hpux
  : HP-UX's packaging system.

    * Required binaries: `/usr/sbin/swinstall`, `/usr/sbin/swlist`, `/usr/sbin/swremove`.
    * Default for `operatingsystem` == `hp-ux`.
    * Supported features: `installable`, `uninstallable`.

  macports
  : Package management using MacPorts on OS X.

    Supports MacPorts versions and revisions, but not variants.
    Variant preferences may be specified using
    [the MacPorts variants.conf file](http://guide.macports.org/chunked/internals.configuration-files.html#internals.configuration-files.variants-conf).

    When specifying a version in the Puppet DSL, only specify the version, not the revision.
    Revisions are only used internally for ensuring the latest version/revision of a port.

    * Required binaries: `/opt/local/bin/port`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  msi
  : Windows package management by installing and removing MSIs.

    The `msi` provider is deprecated. Use the `windows` provider instead.

    * Supported features: `install_options`, `installable`, `uninstall_options`, `uninstallable`.

  nim
  : Installation from an AIX NIM LPP source.  The `source` parameter is required
    for this provider, and should specify the name of a NIM `lpp_source` resource
    that is visible to the puppet agent machine.  This provider supports the
    management of both BFF/installp and RPM packages.

    Note that package downgrades are *not* supported; if your resource specifies
    a specific version number and there is already a newer version of the package
    installed on the machine, the resource will fail with an error message.

    * Required binaries: `/usr/bin/lslpp`, `/usr/sbin/nimclient`, `rpm`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  openbsd
  : OpenBSD's form of `pkg_add` support.

    * Required binaries: `pkg_add`, `pkg_delete`, `pkg_info`.
    * Default for `operatingsystem` == `openbsd`.
    * Supported features: `install_options`, `installable`, `purgeable`, `uninstall_options`, `uninstallable`, `versionable`.

  opkg
  : Opkg packaging support. Common on OpenWrt and OpenEmbedded platforms

    * Required binaries: `opkg`.
    * Default for `operatingsystem` == `openwrt`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  pacman
  : Support for the Package Manager Utility (pacman) used in Archlinux.

    * Required binaries: `/usr/bin/pacman`.
    * Default for `operatingsystem` == `archlinux`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  pip
  : Python packages via `pip`.

    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  pkg
  : OpenSolaris image packaging system. See pkg(5) for more information

    * Required binaries: `/usr/bin/pkg`.
    * Default for `kernelrelease` == `5.11` and `osfamily` == `solaris`.
    * Supported features: `holdable`, `installable`, `uninstallable`, `upgradeable`, `versionable`.

  pkgdmg
  : Package management based on Apple's Installer.app and DiskUtility.app.

    This provider works by checking the contents of a DMG image for Apple pkg or
    mpkg files. Any number of pkg or mpkg files may exist in the root directory
    of the DMG file system, and Puppet will install all of them. Subdirectories
    are not checked for packages.

    This provider can also accept plain .pkg (but not .mpkg) files in addition
    to .dmg files.

    Notes:

    * The `source` attribute is mandatory. It must be either a local disk path
      or an HTTP, HTTPS, or FTP URL to the package.
    * The `name` of the resource must be the filename (without path) of the DMG file.
    * When installing the packages from a DMG, this provider writes a file to
      disk at `/var/db/.puppet_pkgdmg_installed_NAME`. If that file is present,
      Puppet assumes all packages from that DMG are already installed.
    * This provider is not versionable and uses DMG filenames to determine
      whether a package has been installed. Thus, to install new a version of a
      package, you must create a new DMG with a different filename.

    * Required binaries: `/usr/bin/curl`, `/usr/bin/hdiutil`, `/usr/sbin/installer`.
    * Default for `operatingsystem` == `darwin`.
    * Supported features: `installable`.

  pkgin
  : Package management using pkgin, a binary package manager for pkgsrc.

    * Required binaries: `pkgin`.
    * Default for `operatingsystem` == `dragonfly, smartos`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  pkgutil
  : Package management using Peter Bonivart's ``pkgutil`` command on Solaris.

    * Required binaries: `pkgutil`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  portage
  : Provides packaging support for Gentoo's portage system.

    * Required binaries: `/usr/bin/eix-update`, `/usr/bin/eix`, `/usr/bin/emerge`.
    * Default for `operatingsystem` == `gentoo`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  ports
  : Support for FreeBSD's ports.  Note that this, too, mixes packages and ports.

    * Required binaries: `/usr/local/sbin/pkg_deinstall`, `/usr/local/sbin/portupgrade`, `/usr/local/sbin/portversion`, `/usr/sbin/pkg_info`.
    * Default for `operatingsystem` == `freebsd`.
    * Supported features: `installable`, `purgeable`, `uninstallable`, `upgradeable`.

  portupgrade
  : Support for FreeBSD's ports using the portupgrade ports management software.
    Use the port's full origin as the resource name. eg (ports-mgmt/portupgrade)
    for the portupgrade port.

    * Required binaries: `/usr/local/sbin/pkg_deinstall`, `/usr/local/sbin/portinstall`, `/usr/local/sbin/portupgrade`, `/usr/local/sbin/portversion`, `/usr/sbin/pkg_info`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  rpm
  : RPM packaging support; should work anywhere with a working `rpm`
    binary.

    This provider supports the `install_options` and `uninstall_options`
    attributes, which allow command-line flags to be passed to the RPM binary.
    These options should be specified as an array, where each element is either
    a string or a `{'--flag' => 'value'}` hash. (That hash example would be
    equivalent to a `'--flag=value'` string; the hash syntax is available as a
    convenience.)

    * Required binaries: `rpm`.
    * Supported features: `install_options`, `installable`, `uninstall_options`, `uninstallable`, `upgradeable`, `versionable`, `virtual_packages`.

  rug
  : Support for suse `rug` package manager.

    * Required binaries: `/usr/bin/rug`, `rpm`.
    * Default for `operatingsystem` == `suse, sles`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  sun
  : Sun's packaging system.  Requires that you specify the source for
    the packages you're managing.

    * Required binaries: `/usr/bin/pkginfo`, `/usr/sbin/pkgadd`, `/usr/sbin/pkgrm`.
    * Default for `osfamily` == `solaris`.
    * Supported features: `install_options`, `installable`, `uninstallable`, `upgradeable`.

  sunfreeware
  : Package management using sunfreeware.com's `pkg-get` command on Solaris.
    At this point, support is exactly the same as `blastwave` support and
    has not actually been tested.

    * Required binaries: `pkg-get`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  up2date
  : Support for Red Hat's proprietary `up2date` package update
    mechanism.

    * Required binaries: `/usr/sbin/up2date-nox`.
    * Default for `lsbdistrelease` == `2.1, 3, 4` and `osfamily` == `redhat`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  urpmi
  : Support via `urpmi`.

    * Required binaries: `rpm`, `urpme`, `urpmi`, `urpmq`.
    * Default for `operatingsystem` == `mandriva, mandrake`.
    * Supported features: `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`.

  windows
  : Windows package management.

    This provider supports either MSI or self-extracting executable installers.

    This provider requires a `source` attribute when installing the package.
    It accepts paths to local files, mapped drives, or UNC paths.

    If the executable requires special arguments to perform a silent install or
    uninstall, then the appropriate arguments should be specified using the
    `install_options` or `uninstall_options` attributes, respectively.  Puppet
    will automatically quote any option that contains spaces.

    * Default for `operatingsystem` == `windows`.
    * Supported features: `install_options`, `installable`, `uninstall_options`, `uninstallable`, `versionable`.

  yum
  : Support via `yum`.

    Using this provider's `uninstallable` feature will not remove dependent packages. To
    remove dependent packages with this provider use the `purgeable` feature, but note this
    feature is destructive and should be used with the utmost care.

    * Required binaries: `python`, `rpm`, `yum`.
    * Default for `operatingsystem` == `fedora, centos, redhat`.
    * Supported features: `install_options`, `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`, `virtual_packages`.

  zypper
  : Support for SuSE `zypper` package manager. Found in SLES10sp2+ and SLES11

    * Required binaries: `/usr/bin/zypper`.
    * Supported features: `install_options`, `installable`, `uninstallable`, `upgradeable`, `versionable`, `virtual_packages`.

responsefile
: A file containing any necessary answers to questions asked by
  the package.  This is currently used on Solaris and Debian.  The
  value will be validated according to system rules, but it should
  generally be a fully qualified path.

root
: A read-only parameter set by the package.

source
: Where to find the actual package. This must be a local file
  (or on a network file system) or a URL that your specific
  packaging type understands; Puppet will not retrieve files for you,
  although you can manage packages as `file` resources.

status
: A read-only parameter set by the package.

uninstall_options
: An array of additional options to pass when uninstalling a package. These
  options are package-specific, and should be documented by the software
  vendor.  For example:

      package { 'VMware Tools':
        ensure            => absent,
        uninstall_options => [ { 'REMOVE' => 'Sync,VSS' } ],
      }

  Each option in the array can either be a string or a hash, where each
  key and value pair are interpreted in a provider specific way.  Each
  option will automatically be quoted when passed to the uninstall
  command.

  On Windows, this is the **only** place in Puppet where backslash
  separators should be used.  Note that backslashes in double-quoted
  strings _must_ be double-escaped and backslashes in single-quoted
  strings _may_ be double-escaped.



  Requires features uninstall_options.

vendor
: A read-only parameter set by the package.




----------------

### resources

This is a metatype that can manage other resource types.  Any
metaparams specified here will be passed on to any generated resources,
so you can purge umanaged resources but set `noop` to true so the
purging is only logged and does not actually happen.

#### Parameters


name
: The name of the type to be managed.

purge
: Purge unmanaged resources.  This will delete any resource
  that is not specified in your configuration
  and is not required by any specified resources.
  Purging ssh_authorized_keys this way is deprecated; see the
  purge_ssh_keys parameter of the user type for a better alternative.

  Valid values are `true`, `false`, `yes`, `no`.

unless_system_user
: This keeps system users from being purged.  By default, it
  does not purge users whose UIDs are less than or equal to 500, but you can specify
  a different UID as the inclusive limit.

  Valid values are `true`, `false`. Values can match `/^\d+$/`.

unless_uid
: This keeps specific uids or ranges of uids from being purged when purge is true.
  Accepts ranges, integers and (mixed) arrays of both.




----------------

### router

Manages connected router.

#### Parameters


url
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  An SSH or telnet URL at which to access the router, in the form
  `ssh://user:pass:enable@host/` or `telnet://user:pass:enable@host/`.




----------------

### schedule

Define schedules for Puppet. Resources can be limited to a schedule by using the
[`schedule`](http://docs.puppetlabs.com/references/latest/metaparameter.html#schedule)
metaparameter.

Currently, **schedules can only be used to stop a resource from being
applied;** they cannot cause a resource to be applied when it otherwise
wouldn't be, and they cannot accurately specify a time when a resource
should run.

Every time Puppet applies its configuration, it will apply the
set of resources whose schedule does not eliminate them from
running right then, but there is currently no system in place to
guarantee that a given resource runs at a given time.  If you
specify a very  restrictive schedule and Puppet happens to run at a
time within that schedule, then the resources will get applied;
otherwise, that work may never get done.

Thus, it is advisable to use wider scheduling (e.g., over a couple of
hours) combined with periods and repetitions.  For instance, if you
wanted to restrict certain resources to only running once, between
the hours of two and 4 AM, then you would use this schedule:

    schedule { 'maint':
      range  => "2 - 4",
      period => daily,
      repeat => 1,
    }

With this schedule, the first time that Puppet runs between 2 and 4 AM,
all resources with this schedule will get applied, but they won't
get applied again between 2 and 4 because they will have already
run once that day, and they won't get applied outside that schedule
because they will be outside the scheduled range.

Puppet automatically creates a schedule for each of the valid periods
with the same name as that period (e.g., hourly and daily).
Additionally, a schedule named `puppet` is created and used as the
default, with the following attributes:

    schedule { 'puppet':
      period => hourly,
      repeat => 2,
    }

This will cause resources to be applied every 30 minutes by default.

#### Parameters


name
: The name of the schedule.  This name is used when assigning the schedule
  to a resource with the `schedule` metaparameter:

      schedule { 'everyday':
        period => daily,
        range  => "2 - 4",
      }

      exec { "/usr/bin/apt-get update":
        schedule => 'everyday',
      }

period
: The period of repetition for resources on this schedule. The default is
  for resources to get applied every time Puppet runs.

  Note that the period defines how often a given resource will get
  applied but not when; if you would like to restrict the hours
  that a given resource can be applied (e.g., only at night during
  a maintenance window), then use the `range` attribute.

  If the provided periods are not sufficient, you can provide a
  value to the *repeat* attribute, which will cause Puppet to
  schedule the affected resources evenly in the period the
  specified number of times.  Take this schedule:

      schedule { 'veryoften':
        period => hourly,
        repeat => 6,
      }

  This can cause Puppet to apply that resource up to every 10 minutes.

  At the moment, Puppet cannot guarantee that level of repetition; that
  is, the resource can applied _up to_ every 10 minutes, but internal
  factors might prevent it from actually running that often (e.g. if a
  Puppet run is still in progress when the next run is scheduled to start,
  that next run will be suppressed).

  See the `periodmatch` attribute for tuning whether to match
  times by their distance apart or by their specific value.

  Valid values are `hourly`, `daily`, `weekly`, `monthly`, `never`.

periodmatch
: Whether periods should be matched by number (e.g., the two times
  are in the same hour) or by distance (e.g., the two times are
  60 minutes apart).

  Valid values are `number`, `distance`.

range
: The earliest and latest that a resource can be applied.  This is
  always a hyphen-separated range within a 24 hour period, and hours
  must be specified in numbers between 0 and 23, inclusive.  Minutes and
  seconds can optionally be provided, using the normal colon as a
  separator. For instance:

      schedule { 'maintenance':
        range => "1:30 - 4:30",
      }

  This is mostly useful for restricting certain resources to being
  applied in maintenance windows or during off-peak hours. Multiple
  ranges can be applied in array context. As a convenience when specifying
  ranges, you may cross midnight (e.g.: range => "22:00 - 04:00").

repeat
: How often a given resource may be applied in this schedule's `period`.
  Defaults to 1; must be an integer.

weekday
: The days of the week in which the schedule should be valid.
  You may specify the full day name (Tuesday), the three character
  abbreviation (Tue), or a number corresponding to the day of the
  week where 0 is Sunday, 1 is Monday, etc. Multiple days can be specified
  as an array. If not specified, the day of the week will not be
  considered in the schedule.

  If you are also using a range match that spans across midnight
  then this parameter will match the day that it was at the start
  of the range, not necessarily the day that it is when it matches.
  For example, consider this schedule:

      schedule { 'maintenance_window':
        range   => '22:00 - 04:00',
        weekday => 'Saturday',
      }

  This will match at 11 PM on Saturday and 2 AM on Sunday, but not
  at 2 AM on Saturday.




----------------

### scheduled_task

Installs and manages Windows Scheduled Tasks.  All attributes
except `name`, `command`, and `trigger` are optional; see the description
of the `trigger` attribute for details on setting schedules.

#### Parameters


arguments
: Any arguments or flags that should be passed to the command. Multiple arguments
  should be specified as a space-separated string.

command
: The full path to the application to run, without any arguments.

enabled
: Whether the triggers for this task should be enabled. This attribute
  affects every trigger for the task; triggers cannot be enabled or
  disabled individually.

  Valid values are `true`, `false`.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

name
: The name assigned to the scheduled task.  This will uniquely
  identify the task on the system.

password
: The password for the user specified in the 'user' attribute.
  This is only used if specifying a user other than 'SYSTEM'.
  Since there is no way to retrieve the password used to set the
  account information for a task, this parameter will not be used
  to determine if a scheduled task is in sync or not.

provider
: The specific backend to use for this `scheduled_task`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  win32_taskscheduler
  : This provider uses the win32-taskscheduler gem to manage scheduled
    tasks on Windows.

    Puppet requires version 0.2.1 or later of the win32-taskscheduler gem;
    previous versions can cause "Could not evaluate: The operation completed
    successfully" errors.

    * Default for `operatingsystem` == `windows`.

trigger
: One or more triggers defining when the task should run. A single trigger is
  represented as a hash, and multiple triggers can be specified with an array of
  hashes.

  A trigger can contain the following keys:

  * For all triggers:
      * `schedule` **(Required)** --- The schedule type. Valid values are
        `daily`, `weekly`, `monthly`, or `once`.
      * `start_time` **(Required)** --- The time of day when the trigger should
        first become active. Several time formats will work, but we
        suggest 24-hour time formatted as HH:MM.
      * `start_date` ---  The date when the trigger should first become active.
        Defaults to the current date. You should format dates as YYYY-MM-DD,
        although other date formats may work. (Under the hood, this uses `Date.parse`.)
  * For daily triggers:
      * `every` --- How often the task should run, as a number of days. Defaults
        to 1. ("2" means every other day, "3" means every three days, etc.)
  * For weekly triggers:
      * `every` --- How often the task should run, as a number of weeks. Defaults
        to 1. ("2" means every other week, "3" means every three weeks, etc.)
      * `day_of_week` --- Which days of the week the task should run, as an array.
        Defaults to all days. Each day must be one of `mon`, `tues`,
        `wed`, `thurs`, `fri`, `sat`, `sun`, or `all`.
  * For monthly-by-date triggers:
      * `months` --- Which months the task should run, as an array. Defaults to
        all months. Each month must be an integer between 1 and 12.
      * `on` **(Required)** --- Which days of the month the task should run,
        as an array. Each day must beeither an integer between 1 and 31,
        or the special value `last,` which is always the last day of the month.
  * For monthly-by-weekday triggers:
      * `months` --- Which months the task should run, as an array. Defaults to
        all months. Each month must be an integer between 1 and 12.
      * `day_of_week` **(Required)** --- Which day of the week the task should
        run, as an array with only one element. Each day must be one of `mon`,
        `tues`, `wed`, `thurs`, `fri`, `sat`, `sun`, or `all`.
      * `which_occurrence` **(Required)** --- The occurrence of the chosen weekday
        when the task should run. Must be one of `first`, `second`, `third`,
        `fourth`, `fifth`, or `last`.

  Examples:

      # Run at 8am on the 1st, 15th, and last day of the month in January, March,
      # May, July, September, and November, starting after August 31st, 2011.
      trigger => {
        schedule   => monthly,
        start_date => '2011-08-31',   # Defaults to current date
        start_time => '08:00',        # Must be specified
        months     => [1,3,5,7,9,11], # Defaults to all
        on         => [1, 15, last],  # Must be specified
      }

      # Run at 8am on the first Monday of the month for January, March, and May,
      # starting after August 31st, 2011.
      trigger => {
        schedule         => monthly,
        start_date       => '2011-08-31', # Defaults to current date
        start_time       => '08:00',      # Must be specified
        months           => [1,3,5],      # Defaults to all
        which_occurrence => first,        # Must be specified
        day_of_week      => [mon],        # Must be specified
      }

user
: The user to run the scheduled task as.  Please note that not
  all security configurations will allow running a scheduled task
  as 'SYSTEM', and saving the scheduled task under these
  conditions will fail with a reported error of 'The operation
  completed successfully'.  It is recommended that you either
  choose another user to run the scheduled task, or alter the
  security policy to allow v1 scheduled tasks to run as the
  'SYSTEM' account.  Defaults to 'SYSTEM'.

  Please also note that Puppet must be running as a privileged user
  in order to manage `scheduled_task` resources. Running as an
  unprivileged user will result in 'access denied' errors.

working_dir
: The full path of the directory in which to start the command.




----------------

### selboolean

Manages SELinux booleans on systems with SELinux support.  The supported booleans
are any of the ones found in `/selinux/booleans/`.

#### Parameters


name
: The name of the SELinux boolean to be managed.

persistent
: If set true, SELinux booleans will be written to disk and persist accross reboots.
  The default is `false`.

  Valid values are `true`, `false`.

provider
: The specific backend to use for this `selboolean`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  getsetsebool
  : Manage SELinux booleans using the getsebool and setsebool binaries.

    * Required binaries: `/usr/sbin/getsebool`, `/usr/sbin/setsebool`.

value
: Whether the SELinux boolean should be enabled or disabled.

  Valid values are `on`, `off`.




----------------

### selmodule

Manages loading and unloading of SELinux policy modules
on the system.  Requires SELinux support.  See man semodule(8)
for more information on SELinux policy modules.

**Autorequires:** If Puppet is managing the file containing this SELinux
policy module (which is either explicitly specified in the `selmodulepath`
attribute or will be found at {`selmoduledir`}/{`name`}.pp), the selmodule
resource will autorequire that file.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

name
: The name of the SELinux policy to be managed.  You should not
  include the customary trailing .pp extension.

provider
: The specific backend to use for this `selmodule`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  semodule
  : Manage SELinux policy modules using the semodule binary.

    * Required binaries: `/usr/sbin/semodule`.

selmoduledir
: The directory to look for the compiled pp module file in.
  Currently defaults to `/usr/share/selinux/targeted`.  If the
  `selmodulepath` attribute is not specified, Puppet will expect to find
  the module in `<selmoduledir>/<name>.pp`, where `name` is the value of the
  `name` parameter.

selmodulepath
: The full path to the compiled .pp policy module.  You only need to use
  this if the module file is not in the `selmoduledir` directory.

syncversion
: If set to `true`, the policy will be reloaded if the
  version found in the on-disk file differs from the loaded
  version.  If set to `false` (the default) the only check
  that will be made is if the policy is loaded at all or not.

  Valid values are `true`, `false`.




----------------

### service

Manage running services.  Service support unfortunately varies
widely by platform --- some platforms have very little if any concept of a
running service, and some have a very codified and powerful concept.
Puppet's service support is usually capable of doing the right thing, but
the more information you can provide, the better behaviour you will get.

Puppet 2.7 and newer expect init scripts to have a working status command.
If this isn't the case for any of your services' init scripts, you will
need to set `hasstatus` to false and possibly specify a custom status
command in the `status` attribute. As a last resort, Puppet will attempt to
search the process table by calling whatever command is listed in the `ps`
fact. The default search pattern is the name of the service, but you can
specify it with the `pattern` attribute.

**Refresh:** `service` resources can respond to refresh events (via
`notify`, `subscribe`, or the `~>` arrow). If a `service` receives an
event from another resource, Puppet will restart the service it manages.
The actual command used to restart the service depends on the platform and
can be configured:

* If you set `hasrestart` to true, Puppet will use the init script's restart command.
* You can provide an explicit command for restarting with the `restart` attribute.
* If you do neither, the service's stop and start commands will be used.

#### Features

- *controllable*: The provider uses a control variable.
- *enableable*: The provider can enable and disable the service
- *flaggable*: The provider can pass flags to the service.
- *refreshable*: The provider can restart the service.


Provider    | controllable | enableable | flaggable | refreshable |
----------- | ------------ | ---------- | --------- | ----------- |
base        |              |            |           | *X*         |
bsd         |              | *X*        |           | *X*         |
daemontools |              | *X*        |           | *X*         |
debian      |              | *X*        |           | *X*         |
freebsd     |              | *X*        |           | *X*         |
gentoo      |              | *X*        |           | *X*         |
init        |              |            |           | *X*         |
launchd     |              | *X*        |           | *X*         |
openbsd     |              | *X*        | *X*       | *X*         |
openrc      |              | *X*        |           | *X*         |
openwrt     |              | *X*        |           | *X*         |
redhat      |              | *X*        |           | *X*         |
runit       |              | *X*        |           | *X*         |
service     |              |            |           | *X*         |
smf         |              | *X*        |           | *X*         |
src         |              | *X*        |           | *X*         |
systemd     |              | *X*        |           | *X*         |
upstart     |              | *X*        |           | *X*         |
windows     |              | *X*        |           | *X*         |

#### Parameters


binary
: The path to the daemon.  This is only used for
  systems that do not support init scripts.  This binary will be
  used to start the service if no `start` parameter is
  provided.

control
: The control variable used to manage services (originally for HP-UX).
  Defaults to the upcased service name plus `START` replacing dots with
  underscores, for those providers that support the `controllable` feature.

enable
: Whether a service should be enabled to start at boot.
  This property behaves quite differently depending on the platform;
  wherever possible, it relies on local tools to enable or disable
  a given service.

  Valid values are `true`, `false`, `manual`.

  Requires features enableable.

ensure
: Whether a service should be running.

  Valid values are `stopped` (also called `false`), `running` (also called `true`).

flags
: Specify a string of flags to pass to the startup script.



  Requires features flaggable.

hasrestart
: Specify that an init script has a `restart` command.  If this is
  false and you do not specify a command in the `restart` attribute,
  the init script's `stop` and `start` commands will be used.

  Defaults to false.

  Valid values are `true`, `false`.

hasstatus
: Declare whether the service's init script has a functional status
  command; defaults to `true`. This attribute's default value changed in
  Puppet 2.7.0.

  The init script's status command must return 0 if the service is
  running and a nonzero value otherwise. Ideally, these exit codes
  should conform to [the LSB's specification][lsb-exit-codes] for init
  script status actions, but Puppet only considers the difference
  between 0 and nonzero to be relevant.

  If a service's init script does not support any kind of status command,
  you should set `hasstatus` to false and either provide a specific
  command using the `status` attribute or expect that Puppet will look for
  the service name in the process table. Be aware that 'virtual' init
  scripts (like 'network' under Red Hat systems) will respond poorly to
  refresh events from other resources if you override the default behavior
  without providing a status command.

  Valid values are `true`, `false`.

manifest
: Specify a command to config a service, or a path to a manifest to do so.

name
: The name of the service to run.

  This name is used to find the service; on platforms where services
  have short system names and long display names, this should be the
  short name. (To take an example from Windows, you would use "wuauserv"
  rather than "Automatic Updates.")

path
: The search path for finding init scripts.  Multiple values should
  be separated by colons or provided as an array.

pattern
: The pattern to search for in the process table.
  This is used for stopping services on platforms that do not
  support init scripts, and is also used for determining service
  status on those service whose init scripts do not include a status
  command.

  Defaults to the name of the service. The pattern can be a simple string
  or any legal Ruby pattern, including regular expressions (which should
  be quoted without enclosing slashes).

provider
: The specific backend to use for this `service`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  base
  : The simplest form of Unix service support.

    You have to specify enough about your service for this to work; the
    minimum you can specify is a binary for starting the process, and this
    same binary will be searched for in the process table to stop the
    service.  As with `init`-style services, it is preferable to specify start,
    stop, and status commands.

    * Required binaries: `kill`.
    * Supported features: `refreshable`.

  bsd
  : FreeBSD's (and probably NetBSD's?) form of `init`-style service management.

    Uses `rc.conf.d` for service enabling and disabling.

    * Supported features: `enableable`, `refreshable`.

  daemontools
  : Daemontools service management.

    This provider manages daemons supervised by D.J. Bernstein daemontools.
    When detecting the service directory it will check, in order of preference:

    * `/service`
    * `/etc/service`
    * `/var/lib/svscan`

    The daemon directory should be in one of the following locations:

    * `/var/lib/service`
    * `/etc`

    ...or this can be overriden in the resource's attributes:

        service { "myservice":
          provider => "daemontools",
          path     => "/path/to/daemons",
        }

    This provider supports out of the box:

    * start/stop (mapped to enable/disable)
    * enable/disable
    * restart
    * status

    If a service has `ensure => "running"`, it will link /path/to/daemon to
    /path/to/service, which will automatically enable the service.

    If a service has `ensure => "stopped"`, it will only shut down the service, not
    remove the `/path/to/service` link.

    * Required binaries: `/usr/bin/svc`, `/usr/bin/svstat`.
    * Supported features: `enableable`, `refreshable`.

  debian
  : Debian's form of `init`-style management.

    The only differences from `init` are support for enabling and disabling
    services via `update-rc.d` and the ability to determine enabled status via
    `invoke-rc.d`.

    * Required binaries: `/usr/sbin/invoke-rc.d`, `/usr/sbin/update-rc.d`.
    * Default for `operatingsystem` == `debian`.
    * Supported features: `enableable`, `refreshable`.

  freebsd
  : Provider for FreeBSD and DragonFly BSD. Uses the `rcvar` argument of init scripts and parses/edits rc files.

    * Default for `operatingsystem` == `freebsd, dragonfly`.
    * Supported features: `enableable`, `refreshable`.

  gentoo
  : Gentoo's form of `init`-style service management.

    Uses `rc-update` for service enabling and disabling.

    * Required binaries: `/sbin/rc-update`.
    * Supported features: `enableable`, `refreshable`.

  init
  : Standard `init`-style service management.

    * Supported features: `refreshable`.

  launchd
  : This provider manages jobs with `launchd`, which is the default service
    framework for Mac OS X (and may be available for use on other platforms).

    For `launchd` documentation, see:

    * <http://developer.apple.com/macosx/launchd.html>
    * <http://launchd.macosforge.org/>

    This provider reads plists out of the following directories:

    * `/System/Library/LaunchDaemons`
    * `/System/Library/LaunchAgents`
    * `/Library/LaunchDaemons`
    * `/Library/LaunchAgents`

    ...and builds up a list of services based upon each plist's "Label" entry.

    This provider supports:

    * ensure => running/stopped,
    * enable => true/false
    * status
    * restart

    Here is how the Puppet states correspond to `launchd` states:

    * stopped --- job unloaded
    * started --- job loaded
    * enabled --- 'Disable' removed from job plist file
    * disabled --- 'Disable' added to job plist file

    Note that this allows you to do something `launchctl` can't do, which is to
    be in a state of "stopped/enabled" or "running/disabled".

    Note that this provider does not support overriding 'restart' or 'status'.

    * Required binaries: `/bin/launchctl`, `/usr/bin/plutil`, `/usr/bin/sw_vers`.
    * Default for `operatingsystem` == `darwin`.
    * Supported features: `enableable`, `refreshable`.

  openbsd
  : Provider for OpenBSD's rc.d daemon control scripts

    * Default for `operatingsystem` == `openbsd`.
    * Supported features: `enableable`, `flaggable`, `refreshable`.

  openrc
  : Support for Gentoo's OpenRC initskripts

    Uses rc-update, rc-status and rc-service to manage services.

    * Required binaries: `/bin/rc-status`, `/sbin/rc-service`, `/sbin/rc-update`.
    * Default for `operatingsystem` == `gentoo`. Default for `operatingsystem` == `funtoo`.
    * Supported features: `enableable`, `refreshable`.

  openwrt
  : Support for OpenWrt flavored init scripts.

    Uses /etc/init.d/service_name enable, disable, and enabled.

    * Default for `operatingsystem` == `openwrt`.
    * Supported features: `enableable`, `refreshable`.

  redhat
  : Red Hat's (and probably many others') form of `init`-style service
    management. Uses `chkconfig` for service enabling and disabling.

    * Required binaries: `/sbin/chkconfig`, `/sbin/service`.
    * Default for `osfamily` == `redhat, suse`.
    * Supported features: `enableable`, `refreshable`.

  runit
  : Runit service management.

    This provider manages daemons running supervised by Runit.
    When detecting the service directory it will check, in order of preference:

    * `/service`
    * `/etc/service`
    * `/var/service`

    The daemon directory should be in one of the following locations:

    * `/etc/sv`
    * `/var/lib/service`

    or this can be overriden in the service resource parameters::

        service { "myservice":
          provider => "runit",
          path => "/path/to/daemons",
        }

    This provider supports out of the box:

    * start/stop
    * enable/disable
    * restart
    * status

    * Required binaries: `/usr/bin/sv`.
    * Supported features: `enableable`, `refreshable`.

  service
  : The simplest form of service support.

    * Supported features: `refreshable`.

  smf
  : Support for Sun's new Service Management Framework.

    Starting a service is effectively equivalent to enabling it, so there is
    only support for starting and stopping services, which also enables and
    disables them, respectively.

    By specifying `manifest => "/path/to/service.xml"`, the SMF manifest will
    be imported if it does not exist.

    * Required binaries: `/usr/bin/svcs`, `/usr/sbin/svcadm`, `/usr/sbin/svccfg`.
    * Default for `osfamily` == `solaris`.
    * Supported features: `enableable`, `refreshable`.

  src
  : Support for AIX's System Resource controller.

    Services are started/stopped based on the `stopsrc` and `startsrc`
    commands, and some services can be refreshed with `refresh` command.

    Enabling and disabling services is not supported, as it requires
    modifications to `/etc/inittab`. Starting and stopping groups of subsystems
    is not yet supported.

    * Required binaries: `/usr/bin/lssrc`, `/usr/bin/refresh`, `/usr/bin/startsrc`, `/usr/bin/stopsrc`, `/usr/sbin/chitab`, `/usr/sbin/lsitab`, `/usr/sbin/mkitab`, `/usr/sbin/rmitab`.
    * Default for `operatingsystem` == `aix`.
    * Supported features: `enableable`, `refreshable`.

  systemd
  : Manages `systemd` services using `systemctl`.

    * Required binaries: `systemctl`.
    * Default for `osfamily` == `archlinux`. Default for `operatingsystemmajrelease` == `7` and `osfamily` == `redhat`.
    * Supported features: `enableable`, `refreshable`.

  upstart
  : Ubuntu service management with `upstart`.

    This provider manages `upstart` jobs on Ubuntu. For `upstart` documentation,
    see <http://upstart.ubuntu.com/>.

    * Required binaries: `/sbin/initctl`, `/sbin/restart`, `/sbin/start`, `/sbin/status`, `/sbin/stop`.
    * Default for `operatingsystem` == `ubuntu`.
    * Supported features: `enableable`, `refreshable`.

  windows
  : Support for Windows Service Control Manager (SCM). This provider can
    start, stop, enable, and disable services, and the SCM provides working
    status methods for all services.

    Control of service groups (dependencies) is not yet supported, nor is running
    services as a specific user.

    * Required binaries: `net.exe`.
    * Default for `operatingsystem` == `windows`.
    * Supported features: `enableable`, `refreshable`.

restart
: Specify a *restart* command manually.  If left
  unspecified, the service will be stopped and then started.

start
: Specify a *start* command manually.  Most service subsystems
  support a `start` command, so this will not need to be
  specified.

status
: Specify a *status* command manually.  This command must
  return 0 if the service is running and a nonzero value otherwise.
  Ideally, these exit codes should conform to [the LSB's
  specification][lsb-exit-codes] for init script status actions, but
  Puppet only considers the difference between 0 and nonzero to be
  relevant.

  If left unspecified, the status of the service will be determined
  automatically, usually by looking for the service in the process
  table.

  [lsb-exit-codes]: http://refspecs.linuxfoundation.org/LSB_4.1.0/LSB-Core-generic/LSB-Core-generic/iniscrptact.html

stop
: Specify a *stop* command manually.




----------------

### ssh_authorized_key

Manages SSH authorized keys. Currently only type 2 keys are
supported.

**Autorequires:** If Puppet is managing the user account in which this
SSH key should be installed, the `ssh_authorized_key` resource will autorequire
that user.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

key
: The public key itself; generally a long string of hex characters. The key attribute
  may not contain whitespace: Omit key headers (e.g. 'ssh-rsa') and key identifiers
  (e.g. 'joe@joescomputer.local') found in the public key file.

name
: The SSH key comment. This attribute is currently used as a
  system-wide primary key and therefore has to be unique.

options
: Key options, see sshd(8) for possible values. Multiple values
  should be specified as an array.

provider
: The specific backend to use for this `ssh_authorized_key`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  parsed
  : Parse and generate authorized_keys files for SSH.

target
: The absolute filename in which to store the SSH key. This
  property is optional and should only be used in cases where keys
  are stored in a non-standard location (i.e.` not in
  `~user/.ssh/authorized_keys`).

type
: The encryption type used: ssh-dss or ssh-rsa.

  Valid values are `ssh-dss` (also called `dsa`), `ssh-rsa` (also called `rsa`), `ecdsa-sha2-nistp256`, `ecdsa-sha2-nistp384`, `ecdsa-sha2-nistp521`, `ssh-ed25519` (also called `ed25519`).

user
: The user account in which the SSH key should be installed.
  The resource will automatically depend on this user.




----------------

### sshkey

Installs and manages ssh host keys.  At this point, this type
only knows how to install keys into `/etc/ssh/ssh_known_hosts`.  See
the `ssh_authorized_key` type to manage authorized keys.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

host_aliases
: Any aliases the host might have.  Multiple values must be
  specified as an array.

key
: The key itself; generally a long string of hex digits.

name
: The host name that the key is associated with.

provider
: The specific backend to use for this `sshkey`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  parsed
  : Parse and generate host-wide known hosts files for SSH.

target
: The file in which to store the ssh key.  Only used by
  the `parsed` provider.

type
: The encryption type used.  Probably ssh-dss or ssh-rsa.

  Valid values are `ssh-dss` (also called `dsa`), `ssh-ed25519` (also called `ed25519`), `ssh-rsa` (also called `rsa`), `ecdsa-sha2-nistp256`, `ecdsa-sha2-nistp384`, `ecdsa-sha2-nistp521`.




----------------

### stage

A resource type for creating new run stages.  Once a stage is available,
classes can be assigned to it by declaring them with the resource-like syntax
and using
[the `stage` metaparameter](http://docs.puppetlabs.com/references/latest/metaparameter.html#stage).

Note that new stages are not useful unless you also declare their order
in relation to the default `main` stage.

A complete run stage example:

    stage { 'pre':
      before => Stage['main'],
    }

    class { 'apt-updates':
      stage => 'pre',
    }

Individual resources cannot be assigned to run stages; you can only set stages
for classes.

#### Parameters


name
: The name of the stage. Use this as the value for the `stage` metaparameter
  when assigning classes to this stage.




----------------

### tidy

Remove unwanted files based on specific criteria.  Multiple
criteria are OR'd together, so a file that is too large but is not
old enough will still get tidied.

If you don't specify either `age` or `size`, then all files will
be removed.

This resource type works by generating a file resource for every file
that should be deleted and then letting that resource perform the
actual deletion.

#### Parameters


age
: Tidy files whose age is equal to or greater than
  the specified time.  You can choose seconds, minutes,
  hours, days, or weeks by specifying the first letter of any
  of those words (e.g., '1w').

  Specifying 0 will remove all files.

backup
: Whether tidied files should be backed up.  Any values are passed
  directly to the file resources used for actual file deletion, so consult
  the `file` type's backup documentation to determine valid values.

matches
: One or more (shell type) file glob patterns, which restrict
  the list of files to be tidied to those whose basenames match
  at least one of the patterns specified. Multiple patterns can
  be specified using an array.

  Example:

      tidy { "/tmp":
        age     => "1w",
        recurse => 1,
        matches => [ "[0-9]pub*.tmp", "*.temp", "tmpfile?" ]
      }

  This removes files from `/tmp` if they are one week old or older,
  are not in a subdirectory and match one of the shell globs given.

  Note that the patterns are matched against the basename of each
  file -- that is, your glob patterns should not have any '/'
  characters in them, since you are only specifying against the last
  bit of the file.

  Finally, note that you must now specify a non-zero/non-false value
  for recurse if matches is used, as matches only apply to files found
  by recursion (there's no reason to use static patterns match against
  a statically determined path).  Requiering explicit recursion clears
  up a common source of confusion.

path
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The path to the file or directory to manage.  Must be fully
  qualified.

recurse
: If target is a directory, recursively descend
  into the directory looking for files to tidy.

  Valid values are `true`, `false`, `inf`. Values can match `/^[0-9]+$/`.

rmdirs
: Tidy directories in addition to files; that is, remove
  directories whose age is older than the specified criteria.
  This will only remove empty directories, so all contained
  files must also be tidied before a directory gets removed.

  Valid values are `true`, `false`, `yes`, `no`.

size
: Tidy files whose size is equal to or greater than
  the specified size.  Unqualified values are in kilobytes, but
  *b*, *k*, *m*, *g*, and *t* can be appended to specify *bytes*,
  *kilobytes*, *megabytes*, *gigabytes*, and *terabytes*, respectively.
  Only the first character is significant, so the full word can also
  be used.

type
: Set the mechanism for determining age. Default: atime.

  Valid values are `atime`, `mtime`, `ctime`.




----------------

### user

Manage users.  This type is mostly built to manage system
users, so it is lacking some features useful for managing normal
users.

This resource type uses the prescribed native tools for creating
groups and generally uses POSIX APIs for retrieving information
about them.  It does not directly modify `/etc/passwd` or anything.

**Autorequires:** If Puppet is managing the user's primary group (as
provided in the `gid` attribute), the user resource will autorequire
that group. If Puppet is managing any role accounts corresponding to the
user's roles, the user resource will autorequire those role accounts.

#### Features

- *allows_duplicates*: The provider supports duplicate users with the same UID.
- *libuser*: Allows local users to be managed on systems that also use some other remote NSS method of managing accounts.
- *manages_aix_lam*: The provider can manage AIX Loadable Authentication Module (LAM) system.
- *manages_expiry*: The provider can manage the expiry date for a user.
- *manages_homedir*: The provider can create and remove home directories.
- *manages_password_age*: The provider can set age requirements and restrictions for passwords.
- *manages_password_salt*: The provider can set a password salt. This is for providers that implement PBKDF2 passwords with salt properties.
- *manages_passwords*: The provider can modify user passwords, by accepting a password hash.
- *manages_shell*: The provider allows for setting shell and validates if possible
- *manages_solaris_rbac*: The provider can manage roles and normal users
- *system_users*: The provider allows you to create system users with lower UIDs.


Provider         | allows_duplicates | libuser | manages_aix_lam | manages_expiry | manages_homedir | manages_password_age | manages_password_salt | manages_passwords | manages_shell | manages_solaris_rbac | system_users |
---------------- | ----------------- | ------- | --------------- | -------------- | --------------- | -------------------- | --------------------- | ----------------- | ------------- | -------------------- | ------------ |
aix              |                   |         | *X*             | *X*            | *X*             | *X*                  |                       | *X*               | *X*           |                      |              |
directoryservice |                   |         |                 |                |                 |                      | *X*                   | *X*               | *X*           |                      |              |
hpuxuseradd      | *X*               |         |                 |                | *X*             |                      |                       | *X*               |               |                      |              |
ldap             |                   |         |                 |                |                 |                      |                       | *X*               | *X*           |                      |              |
pw               | *X*               |         |                 | *X*            | *X*             |                      |                       | *X*               | *X*           |                      |              |
user_role_add    | *X*               |         |                 |                | *X*             | *X*                  |                       | *X*               |               | *X*                  |              |
useradd          | *X*               | *X*     |                 | *X*            | *X*             | *X*                  |                       | *X*               | *X*           |                      | *X*          |
windows_adsi     |                   |         |                 |                | *X*             |                      |                       | *X*               |               |                      |              |

#### Parameters


allowdupe
: Whether to allow duplicate UIDs. Defaults to `false`.

  Valid values are `true`, `false`, `yes`, `no`.

attribute_membership
: Whether specified attribute value pairs should be treated as the
  **complete list** (`inclusive`) or the **minimum list** (`minimum`) of
  attribute/value pairs for the user. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

attributes
: Specify AIX attributes for the user in an array of attribute = value pairs.



  Requires features manages_aix_lam.

auth_membership
: Whether specified auths should be considered the **complete list**
  (`inclusive`) or the **minimum list** (`minimum`) of auths the user
  has. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

auths
: The auths the user has.  Multiple auths should be
  specified as an array.



  Requires features manages_solaris_rbac.

comment
: A description of the user.  Generally the user's full name.

ensure
: The basic state that the object should be in.

  Valid values are `present`, `absent`, `role`.

expiry
: The expiry date for this user. Must be provided in
  a zero-padded YYYY-MM-DD format --- e.g. 2010-02-19.
  If you want to make sure the user account does never
  expire, you can pass the special value `absent`.

  Valid values are `absent`. Values can match `/^\d{4}-\d{2}-\d{2}$/`.

  Requires features manages_expiry.

forcelocal
: Forces the mangement of local accounts when accounts are also
  being managed by some other NSS

  Valid values are `true`, `false`, `yes`, `no`.

  Requires features libuser.

gid
: The user's primary group.  Can be specified numerically or by name.

  This attribute is not supported on Windows systems; use the `groups`
  attribute instead. (On Windows, designating a primary group is only
  meaningful for domain accounts, which Puppet does not currently manage.)

groups
: The groups to which the user belongs.  The primary group should
  not be listed, and groups should be identified by name rather than by
  GID.  Multiple groups should be specified as an array.

home
: The home directory of the user.  The directory must be created
  separately and is not currently checked for existence.

ia_load_module
: The name of the I&A module to use to manage this user.



  Requires features manages_aix_lam.

iterations
: This is the number of iterations of a chained computation of the
  password hash (http://en.wikipedia.org/wiki/PBKDF2).  This parameter
  is used in OS X. This field is required for managing passwords on OS X >= 10.8.



  Requires features manages_password_salt.

key_membership
: Whether specified key/value pairs should be considered the
  **complete list** (`inclusive`) or the **minimum list** (`minimum`) of
  the user's attributes. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

keys
: Specify user attributes in an array of key = value pairs.



  Requires features manages_solaris_rbac.

managehome
: Whether to manage the home directory when managing the user.
  This will create the home directory when `ensure => present`, and
  delete the home directory when `ensure => absent`. Defaults to `false`.

  Valid values are `true`, `false`, `yes`, `no`.

membership
: Whether specified groups should be considered the **complete list**
  (`inclusive`) or the **minimum list** (`minimum`) of groups to which
  the user belongs. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

name
: The user name. While naming limitations vary by operating system,
  it is advisable to restrict names to the lowest common denominator,
  which is a maximum of 8 characters beginning with a letter.

  Note that Puppet considers user names to be case-sensitive, regardless
  of the platform's own rules; be sure to always use the same case when
  referring to a given user.

password
: The user's password, in whatever encrypted format the local
  system requires.

  * Most modern Unix-like systems use salted SHA1 password hashes. You can use
    Puppet's built-in `sha1` function to generate a hash from a password.
  * Mac OS X 10.5 and 10.6 also use salted SHA1 hashes.
  * Mac OS X 10.7 (Lion) uses salted SHA512 hashes. The Puppet Labs [stdlib][]
    module contains a `str2saltedsha512` function which can generate password
    hashes for Lion.
  * Mac OS X 10.8 and higher use salted SHA512 PBKDF2 hashes. When
    managing passwords on these systems the salt and iterations properties
    need to be specified as well as the password.
  * Windows passwords can only be managed in cleartext, as there is no Windows API
    for setting the password hash.

  [stdlib]: https://github.com/puppetlabs/puppetlabs-stdlib/

  Be sure to enclose any value that includes a dollar sign ($) in single
  quotes (') to avoid accidental variable interpolation.



  Requires features manages_passwords.

password_max_age
: The maximum number of days a password may be used before it must be changed.



  Requires features manages_password_age.

password_min_age
: The minimum number of days a password must be used before it may be changed.



  Requires features manages_password_age.

profile_membership
: Whether specified roles should be treated as the **complete list**
  (`inclusive`) or the **minimum list** (`minimum`) of roles
  of which the user is a member. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

profiles
: The profiles the user has.  Multiple profiles should be
  specified as an array.



  Requires features manages_solaris_rbac.

project
: The name of the project associated with a user.



  Requires features manages_solaris_rbac.

provider
: The specific backend to use for this `user`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  aix
  : User management for AIX.

    * Required binaries: `/bin/chpasswd`, `/usr/bin/chuser`, `/usr/bin/mkuser`, `/usr/sbin/lsgroup`, `/usr/sbin/lsuser`, `/usr/sbin/rmuser`.
    * Default for `operatingsystem` == `aix`.
    * Supported features: `manages_aix_lam`, `manages_expiry`, `manages_homedir`, `manages_password_age`, `manages_passwords`, `manages_shell`.

  directoryservice
  : User management on OS X.

    * Required binaries: `/usr/bin/dscacheutil`, `/usr/bin/dscl`, `/usr/bin/dsimport`, `/usr/bin/plutil`, `/usr/bin/uuidgen`.
    * Default for `operatingsystem` == `darwin`.
    * Supported features: `manages_password_salt`, `manages_passwords`, `manages_shell`.

  hpuxuseradd
  : User management for HP-UX. This provider uses the undocumented `-F`
    switch to HP-UX's special `usermod` binary to work around the fact that
    its standard `usermod` cannot make changes while the user is logged in.

    * Required binaries: `/usr/sam/lbin/useradd.sam`, `/usr/sam/lbin/userdel.sam`, `/usr/sam/lbin/usermod.sam`.
    * Default for `operatingsystem` == `hp-ux`.
    * Supported features: `allows_duplicates`, `manages_homedir`, `manages_passwords`.

  ldap
  : User management via LDAP.

    This provider requires that you have valid values for all of the
    LDAP-related settings in `puppet.conf`, including `ldapbase`.  You will
    almost definitely need settings for `ldapuser` and `ldappassword` in order
    for your clients to write to LDAP.

    Note that this provider will automatically generate a UID for you if
    you do not specify one, but it is a potentially expensive operation,
    as it iterates across all existing users to pick the appropriate next one.

    * Supported features: `manages_passwords`, `manages_shell`.

  pw
  : User management via `pw` on FreeBSD and DragonFly BSD.

    * Required binaries: `pw`.
    * Default for `operatingsystem` == `freebsd, dragonfly`.
    * Supported features: `allows_duplicates`, `manages_expiry`, `manages_homedir`, `manages_passwords`, `manages_shell`.

  user_role_add
  : User and role management on Solaris, via `useradd` and `roleadd`.

    * Required binaries: `passwd`, `roleadd`, `roledel`, `rolemod`, `useradd`, `userdel`, `usermod`.
    * Default for `osfamily` == `solaris`.
    * Supported features: `allows_duplicates`, `manages_homedir`, `manages_password_age`, `manages_passwords`, `manages_solaris_rbac`.

  useradd
  : User management via `useradd` and its ilk.  Note that you will need to
    install Ruby's shadow password library (often known as `ruby-libshadow`)
    if you wish to manage user passwords.

    * Required binaries: `chage`, `luseradd`, `useradd`, `userdel`, `usermod`.
    * Supported features: `allows_duplicates`, `libuser`, `manages_expiry`, `manages_homedir`, `manages_password_age`, `manages_passwords`, `manages_shell`, `system_users`.

  windows_adsi
  : Local user management for Windows.

    * Default for `operatingsystem` == `windows`.
    * Supported features: `manages_homedir`, `manages_passwords`.

purge_ssh_keys
: Purge ssh keys authorized for the user
  if they are not managed via ssh_authorized_keys. When true,
  looks for keys in .ssh/authorized_keys in the user's home
  directory. Possible values are true, false, or an array of
  paths to file to search for authorized keys. If a path starts
  with ~ or %h, this token is replaced with the user's home directory.

  Valid values are `true`, `false`.

role_membership
: Whether specified roles should be considered the **complete list**
  (`inclusive`) or the **minimum list** (`minimum`) of roles the user
  has. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

roles
: The roles the user has.  Multiple roles should be
  specified as an array.



  Requires features manages_solaris_rbac.

salt
: This is the 32 byte salt used to generate the PBKDF2 password used in
  OS X. This field is required for managing passwords on OS X >= 10.8.



  Requires features manages_password_salt.

shell
: The user's login shell.  The shell must exist and be
  executable.

  This attribute cannot be managed on Windows systems.



  Requires features manages_shell.

system
: Whether the user is a system user, according to the OS's criteria;
  on most platforms, a UID less than or equal to 500 indicates a system
  user. Defaults to `false`.

  Valid values are `true`, `false`, `yes`, `no`.

uid
: The user ID; must be specified numerically. If no user ID is
  specified when creating a new user, then one will be chosen
  automatically. This will likely result in the same user having
  different UIDs on different systems, which is not recommended. This is
  especially noteworthy when managing the same user on both Darwin and
  other platforms, since Puppet does UID generation on Darwin, but
  the underlying tools do so on other platforms.

  On Windows, this property is read-only and will return the user's
  security identifier (SID).




----------------

### vlan

Manages a VLAN on a router or switch.

#### Parameters


description
: The VLAN's name.

device_url
: The URL of the router or switch maintaining this VLAN.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

name
: The numeric VLAN ID.

  Values can match `/^\d+/`.

provider
: The specific backend to use for this `vlan`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  cisco
  : Cisco switch/router provider for vlans.




----------------

### yumrepo

The client-side description of a yum repository. Repository
configurations are found by parsing `/etc/yum.conf` and
the files indicated by the `reposdir` option in that file
(see `yum.conf(5)` for details).

Most parameters are identical to the ones documented
in the `yum.conf(5)` man page.

Continuation lines that yum supports (for the `baseurl`, for example)
are not supported. This type does not attempt to read or verify the
exinstence of files listed in the `include` attribute.

#### Parameters


baseurl
: The URL for this repository. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

cost
: Cost of this repository. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/\d+/`.

descr
: A human-readable description of the repository.
  This corresponds to the name parameter in `yum.conf(5)`.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

enabled
: Whether this repository is enabled.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

enablegroups
: Whether yum will allow the use of package groups for this
  repository.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

exclude
: List of shell globs. Matching packages will never be
  considered in updates or installs for this repo.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

failovermethod
: The failover method for this repository; should be either
  `roundrobin` or `priority`. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/roundrobin|priority/`.

gpgcheck
: Whether to check the GPG signature on packages installed
  from this repository.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

gpgkey
: The URL for the GPG key with which packages from this
  repository are signed. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

http_caching
: What to cache from this repository. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(packages|all|none)/`.

include
: The URL of a remote file containing additional yum configuration
  settings. Puppet does not check for this file's existence or validity.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

includepkgs
: List of shell globs. If this is set, only packages
  matching one of the globs will be considered for
  update or install from this repo. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

keepalive
: Whether HTTP/1.1 keepalive should be used with this repository.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

metadata_expire
: Number of seconds after which the metadata will expire.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/[0-9]+/`.

metalink
: Metalink for mirrors. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

mirrorlist
: The URL that holds the list of mirrors for this repository.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

name
: The name of the repository.  This corresponds to the
  `repositoryid` parameter in `yum.conf(5)`.

priority
: Priority of this repository from 1-99. Requires that
  the `priorities` plugin is installed and enabled.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

protect
: Enable or disable protection for this repository. Requires
  that the `protectbase` plugin is installed and enabled.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

provider
: The specific backend to use for this `yumrepo`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  inifile
  : Manage yum repo configurations by parsing yum INI configuration files.

    ## Fetching instances

    When fetching repo instances, directory entries in '/etc/yum/repos.d',
    '/etc/yum.repos.d', and the directory optionally specified by the reposdir
    key in '/etc/yum.conf' will be checked. If a given directory does not exist it
    will be ignored. In addition, all sections in '/etc/yum.conf' aside from
    'main' will be created as sections.

    ## Storing instances

    When creating a new repository, a new section will be added in the first
    yum repo directory that exists. The custom directory specified by the
    '/etc/yum.conf' reposdir property is checked first, followed by
    '/etc/yum/repos.d', and then '/etc/yum.repos.d'. If none of these exist, the
    section will be created in '/etc/yum.conf'.

proxy
: URL to the proxy server for this repository. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

proxy_password
: Password for this proxy. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

proxy_username
: Username for this proxy. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

repo_gpgcheck
: Whether to check the GPG signature on repodata.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

s3_enabled
: Access the repo via S3.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

skip_if_unavailable
: Should yum skip this repository if unable to reach it.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

sslcacert
: Path to the directory containing the databases of the
  certificate authorities yum should use to verify SSL certificates.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

sslclientcert
: Path  to the SSL client certificate yum should use to connect
  to repos/remote sites. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

sslclientkey
: Path to the SSL client key yum should use to connect
  to repos/remote sites. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

sslverify
: Should yum verify SSL certificates/hosts at all.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

target
: The filename to write the yum repository to.

timeout
: Number of seconds to wait for a connection before timing
  out. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/[0-9]+/`.




----------------

### zfs

Manage zfs. Create destroy and set properties on zfs instances.

**Autorequires:** If Puppet is managing the zpool at the root of this zfs
instance, the zfs resource will autorequire it. If Puppet is managing any
parent zfs instances, the zfs resource will autorequire them.

#### Parameters


aclinherit
: The aclinherit property. Valid values are `discard`, `noallow`, `restricted`, `passthrough`, `passthrough-x`.

aclmode
: The aclmode property. Valid values are `discard`, `groupmask`, `passthrough`.

atime
: The atime property. Valid values are `on`, `off`.

canmount
: The canmount property. Valid values are `on`, `off`, `noauto`.

checksum
: The checksum property. Valid values are `on`, `off`, `fletcher2`, `fletcher4`, `sha256`.

compression
: The compression property. Valid values are `on`, `off`, `lzjb`, `gzip`, `gzip-[1-9]`, `zle`.

copies
: The copies property. Valid values are `1`, `2`, `3`.

dedup
: The dedup property. Valid values are `on`, `off`.

devices
: The devices property. Valid values are `on`, `off`.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

exec
: The exec property. Valid values are `on`, `off`.

logbias
: The logbias property. Valid values are `latency`, `throughput`.

mountpoint
: The mountpoint property. Valid values are `<path>`, `legacy`, `none`.

name
: The full name for this filesystem (including the zpool).

nbmand
: The nbmand property. Valid values are `on`, `off`.

primarycache
: The primarycache property. Valid values are `all`, `none`, `metadata`.

provider
: The specific backend to use for this `zfs`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  zfs
  : Provider for zfs.

    * Required binaries: `zfs`.

quota
: The quota property. Valid values are `<size>`, `none`.

readonly
: The readonly property. Valid values are `on`, `off`.

recordsize
: The recordsize property. Valid values are powers of two between 512 and 128k.

refquota
: The refquota property. Valid values are `<size>`, `none`.

refreservation
: The refreservation property. Valid values are `<size>`, `none`.

reservation
: The reservation property. Valid values are `<size>`, `none`.

secondarycache
: The secondarycache property. Valid values are `all`, `none`, `metadata`.

setuid
: The setuid property. Valid values are `on`, `off`.

shareiscsi
: The shareiscsi property. Valid values are `on`, `off`, `type=<type>`.

sharenfs
: The sharenfs property. Valid values are `on`, `off`, share(1M) options

sharesmb
: The sharesmb property. Valid values are `on`, `off`, sharemgr(1M) options

snapdir
: The snapdir property. Valid values are `hidden`, `visible`.

version
: The version property. Valid values are `1`, `2`, `3`, `4`, `current`.

volsize
: The volsize property. Valid values are `<size>`

vscan
: The vscan property. Valid values are `on`, `off`.

xattr
: The xattr property. Valid values are `on`, `off`.

zoned
: The zoned property. Valid values are `on`, `off`.




----------------

### zone

Manages Solaris zones.

**Autorequires:** If Puppet is managing the directory specified as the root of
the zone's filesystem (with the `path` attribute), the zone resource will
autorequire that directory.

#### Parameters


autoboot
: Whether the zone should automatically boot.

  Valid values are `true`, `false`.

clone
: Instead of installing the zone, clone it from another zone.
  If the zone root resides on a zfs file system, a snapshot will be
  used to create the clone; if it resides on a ufs filesystem, a copy of the
  zone will be used. The zone from which you clone must not be running.

create_args
: Arguments to the `zonecfg` create command.  This can be used to create branded zones.

dataset
: The list of datasets delegated to the non-global zone from the
  global zone.  All datasets must be zfs filesystem names which are
  different from the mountpoint.

ensure
: The running state of the zone.  The valid states directly reflect
  the states that `zoneadm` provides.  The states are linear,
  in that a zone must be `configured`, then `installed`, and
  only then can be `running`.  Note also that `halt` is currently
  used to stop zones.

  Valid values are `absent`, `configured`, `installed`, `running`.

id
: The numerical ID of the zone.  This number is autogenerated
  and cannot be changed.

inherit
: The list of directories that the zone inherits from the global
  zone.  All directories must be fully qualified.

install_args
: Arguments to the `zoneadm` install command.  This can be used to create branded zones.

ip
: The IP address of the zone.  IP addresses **must** be specified
  with an interface, and may optionally be specified with a default router
  (sometimes called a defrouter). The interface, IP address, and default
  router should be separated by colons to form a complete IP address string.
  For example: `bge0:192.168.178.200` would be a valid IP address string
  without a default router, and `bge0:192.168.178.200:192.168.178.1` adds a
  default router to it.

  For zones with multiple interfaces, the value of this attribute should be
  an array of IP address strings (each of which must include an interface
  and may include a default router).

iptype
: The IP stack type of the zone.

  Valid values are `shared`, `exclusive`.

name
: The name of the zone.

path
: The root of the zone's filesystem.  Must be a fully qualified
  file name.  If you include `%s` in the path, then it will be
  replaced with the zone's name.  Currently, you cannot use
  Puppet to move a zone. Consequently this is a readonly property.

pool
: The resource pool for this zone.

provider
: The specific backend to use for this `zone`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  solaris
  : Provider for Solaris Zones.

    * Required binaries: `/usr/sbin/zoneadm`, `/usr/sbin/zonecfg`.
    * Default for `osfamily` == `solaris`.

realhostname
: The actual hostname of the zone.

shares
: Number of FSS CPU shares allocated to the zone.

sysidcfg
: The text to go into the `sysidcfg` file when the zone is first
  booted.  The best way is to use a template:

      # $confdir/modules/site/templates/sysidcfg.erb
      system_locale=en_US
      timezone=GMT
      terminal=xterms
      security_policy=NONE
      root_password=<%= password %>
      timeserver=localhost
      name_service=DNS {domain_name=<%= domain %> name_server=<%= nameserver %>}
      network_interface=primary {hostname=<%= realhostname %>
        ip_address=<%= ip %>
        netmask=<%= netmask %>
        protocol_ipv6=no
        default_route=<%= defaultroute %>}
      nfs4_domain=dynamic

  And then call that:

      zone { myzone:
        ip           => "bge0:192.168.0.23",
        sysidcfg     => template("site/sysidcfg.erb"),
        path         => "/opt/zones/myzone",
        realhostname => "fully.qualified.domain.name"
      }

  The `sysidcfg` only matters on the first booting of the zone,
  so Puppet only checks for it at that time.




----------------

### zpool

Manage zpools. Create and delete zpools. The provider WILL NOT SYNC, only report differences.

Supports vdevs with mirrors, raidz, logs and spares.

#### Parameters


disk
: The disk(s) for this pool. Can be an array or a space separated string.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

log
: Log disks for this pool. This type does not currently support mirroring of log disks.

mirror
: List of all the devices to mirror for this pool. Each mirror should be a
  space separated string:

      mirror => ["disk1 disk2", "disk3 disk4"],

pool
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name for this pool.

provider
: The specific backend to use for this `zpool`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  zpool
  : Provider for zpool.

    * Required binaries: `zpool`.

raid_parity
: Determines parity when using the `raidz` parameter.

raidz
: List of all the devices to raid for this pool. Should be an array of
  space separated strings:

      raidz => ["disk1 disk2", "disk3 disk4"],

spare
: Spare disk(s) for this pool.




----------------

*This page autogenerated on Wed Jun 18 13:01:32 -0700 2014*

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.59 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:01:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet doc  -r type
# Type Reference



**This page is autogenerated; any changes will get overwritten** *(last generated on Wed Jun 18 13:01:33 -0700 2014)*



## Resource Types

- The *namevar* is the parameter used to uniquely identify a type instance.
  This is the parameter that gets assigned when a string is provided before
  the colon in a type declaration.  In general, only developers will need to
  worry about which parameter is the `namevar`.

  In the following code:

      file { "/etc/passwd":
        owner => root,
        group => root,
        mode  => 644
      }

  `/etc/passwd` is considered the title of the file object (used for things like
  dependency handling), and because `path` is the namevar for `file`, that
  string is assigned to the `path` parameter.

- *Parameters* determine the specific configuration of the instance.  They either
  directly modify the system (internally, these are called properties) or they affect
  how the instance behaves (e.g., adding a search path for `exec` instances or determining recursion on `file` instances).

- *Providers* provide low-level functionality for a given resource type.  This is
  usually in the form of calling out to external commands.

  When required binaries are specified for providers, fully qualifed paths
  indicate that the binary must exist at that specific path and unqualified
  binaries indicate that Puppet will search for the binary using the shell
  path.

- *Features* are abilities that some providers might not support.  You can use the list
  of supported features to determine how a given provider can be used.

  Resource types define features they can use, and providers can be tested to see
  which features they provide.

    

----------------

### augeas

Apply a change or an array of changes to the filesystem
using the augeas tool.

Requires:

- [Augeas](http://www.augeas.net)
- The ruby-augeas bindings

Sample usage with a string:

    augeas{"test1" :
      context => "/files/etc/sysconfig/firstboot",
      changes => "set RUN_FIRSTBOOT YES",
      onlyif  => "match other_value size > 0",
    }

Sample usage with an array and custom lenses:

    augeas{"jboss_conf":
      context   => "/files",
      changes   => [
          "set etc/jbossas/jbossas.conf/JBOSS_IP $ipaddress",
          "set etc/jbossas/jbossas.conf/JAVA_HOME /usr",
        ],
      load_path => "$/usr/share/jbossas/lenses",
    }

#### Features

- *execute_changes*: Actually make the changes
- *need_to_run?*: If the command should run
- *parse_commands*: Parse the command string


Provider | execute_changes | need_to_run? | parse_commands |
-------- | --------------- | ------------ | -------------- |
augeas   | *X*             | *X*          | *X*            |

#### Parameters


changes
: The changes which should be applied to the filesystem. This
  can be a command or an array of commands. The following commands are supported:

  * `set <PATH> <VALUE>` --- Sets the value `VALUE` at loction `PATH`
  * `setm <PATH> <SUB> <VALUE>` --- Sets multiple nodes (matching `SUB` relative to `PATH`) to `VALUE`
  * `rm <PATH>` --- Removes the node at location `PATH`
  * `remove <PATH>` --- Synonym for `rm`
  * `clear <PATH>` --- Sets the node at `PATH` to `NULL`, creating it if needed
  * `clearm <PATH> <SUB>` --- Sets multiple nodes (matching `SUB` relative to `PATH`) to `NULL`
  * `ins <LABEL> (before|after) <PATH>` --- Inserts an empty node `LABEL` either before or after `PATH`.
  * `insert <LABEL> <WHERE> <PATH>` --- Synonym for `ins`
  * `mv <PATH> <OTHER PATH>` --- Moves a node at `PATH` to the new location `OTHER PATH`
  * `move <PATH> <OTHER PATH>` --- Synonym for `mv`
  * `defvar <NAME> <PATH>` --- Sets Augeas variable `$NAME` to `PATH`
  * `defnode <NAME> <PATH> <VALUE>` --- Sets Augeas variable `$NAME` to `PATH`, creating it with `VALUE` if needed

  If the `context` parameter is set, that value is prepended to any relative `PATH`s.

context
: Optional context path. This value is prepended to the paths of all
  changes if the path is relative. If the `incl` parameter is set,
  defaults to `/files + incl`; otherwise, defaults to the empty string.

force
: Optional command to force the augeas type to execute even if it thinks changes
  will not be made. This does not overide the `onlyif` parameter.

incl
: Load only a specific file, e.g. `/etc/hosts`. This can greatly speed
  up the execution the resource. When this parameter is set, you must also
  set the `lens` parameter to indicate which lens to use.

lens
: Use a specific lens, e.g. `Hosts.lns`. When this parameter is set, you
  must also set the `incl` parameter to indicate which file to load.
  The Augeas documentation includes [a list of available lenses](http://augeas.net/stock_lenses.html).

load_path
: Optional colon-separated list or array of directories; these directories are searched for schema definitions. The agent's `$libdir/augeas/lenses` path will always be added to support pluginsync.

name
: The name of this task. Used for uniqueness.

onlyif
: Optional augeas command and comparisons to control the execution of this type.
  Supported onlyif syntax:

  * `get <AUGEAS_PATH> <COMPARATOR> <STRING>`
  * `match <MATCH_PATH> size <COMPARATOR> <INT>`
  * `match <MATCH_PATH> include <STRING>`
  * `match <MATCH_PATH> not_include <STRING>`
  * `match <MATCH_PATH> == <AN_ARRAY>`
  * `match <MATCH_PATH> != <AN_ARRAY>`

  where:

  * `AUGEAS_PATH` is a valid path scoped by the context
  * `MATCH_PATH` is a valid match syntax scoped by the context
  * `COMPARATOR` is one of `>, >=, !=, ==, <=,` or `<`
  * `STRING` is a string
  * `INT` is a number
  * `AN_ARRAY` is in the form `['a string', 'another']`

provider
: The specific backend to use for this `augeas`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  augeas
  : * Supported features: `execute_changes`, `need_to_run?`, `parse_commands`.

returns
: The expected return code from the augeas command. Should not be set.

root
: A file system path; all files loaded by Augeas are loaded underneath `root`.

show_diff
: Whether to display differences when the file changes, defaulting to
  true.  This parameter is useful for files that may contain passwords or
  other secret data, which might otherwise be included in Puppet reports or
  other insecure outputs.  If the global `show_diff` setting
  is false, then no diffs will be shown even if this parameter is true.

  Valid values are `true`, `false`, `yes`, `no`.

type_check
: Whether augeas should perform typechecking. Defaults to false.

  Valid values are `true`, `false`.




----------------

### computer

Computer object management using DirectoryService
on OS X.

Note that these are distinctly different kinds of objects to 'hosts',
as they require a MAC address and can have all sorts of policy attached to
them.

This provider only manages Computer objects in the local directory service
domain, not in remote directories.

If you wish to manage `/etc/hosts` file on Mac OS X, then simply use the host
type as per other platforms.

This type primarily exists to create localhost Computer objects that MCX
policy can then be attached to.

**Autorequires:** If Puppet is managing the plist file representing a
Computer object (located at `/var/db/dslocal/nodes/Default/computers/{name}.plist`),
the Computer resource will autorequire it.

#### Parameters


en_address
: The MAC address of the primary network interface. Must match en0.

ensure
: Control the existences of this computer record. Set this attribute to
  `present` to ensure the computer record exists.  Set it to `absent`
  to delete any computer records with this name

  Valid values are `present`, `absent`.

ip_address
: The IP Address of the Computer object.

name
: The authoritative 'short' name of the computer record.

provider
: The specific backend to use for this `computer`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  directoryservice
  : Computer object management using DirectoryService on OS X.
    Note that these are distinctly different kinds of objects to 'hosts',
    as they require a MAC address and can have all sorts of policy attached to
    them.

    This provider only manages Computer objects in the local directory service
    domain, not in remote directories.

    If you wish to manage /etc/hosts on Mac OS X, then simply use the host
    type as per other platforms.

    * Default for `operatingsystem` == `darwin`.

realname
: The 'long' name of the computer record.




----------------

### cron

Installs and manages cron jobs.  Every cron resource created by Puppet
requires a command and at least one periodic attribute (hour, minute,
month, monthday, weekday, or special).  While the name of the cron job is
not part of the actual job, the name is stored in a comment beginning with
`# Puppet Name: `. These comments are used to match crontab entries created
by Puppet with cron resources.

If an existing crontab entry happens to match the scheduling and command of a
cron resource that has never been synched, Puppet will defer to the existing
crontab entry and will not create a new entry tagged with the `# Puppet Name: `
comment.

Example:

    cron { logrotate:
      command => "/usr/sbin/logrotate",
      user    => root,
      hour    => 2,
      minute  => 0
    }

Note that all periodic attributes can be specified as an array of values:

    cron { logrotate:
      command => "/usr/sbin/logrotate",
      user    => root,
      hour    => [2, 4]
    }

...or using ranges or the step syntax `*/2` (although there's no guarantee
that your `cron` daemon supports these):

    cron { logrotate:
      command => "/usr/sbin/logrotate",
      user    => root,
      hour    => ['2-4'],
      minute  => '*/10'
    }

An important note: _the Cron type will not reset parameters that are
removed from a manifest_. For example, removing a `minute => 10` parameter
will not reset the minute component of the associated cronjob to `*`.
These changes must be expressed by setting the parameter to
`minute => absent` because Puppet only manages parameters that are out of
sync with manifest entries.

**Autorequires:** If Puppet is managing the user account specified by the
`user` property of a cron resource, then the cron resource will autorequire
that user.

#### Parameters


command
: The command to execute in the cron job.  The environment
  provided to the command varies by local system rules, and it is
  best to always provide a fully qualified command.  The user's
  profile is not sourced when the command is run, so if the
  user's environment is desired it should be sourced manually.

  All cron parameters support `absent` as a value; this will
  remove any existing values for that field.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

environment
: Any environment settings associated with this cron job.  They
  will be stored between the header and the job in the crontab.  There
  can be no guarantees that other, earlier settings will not also
  affect a given cron job.


  Also, Puppet cannot automatically determine whether an existing,
  unmanaged environment setting is associated with a given cron
  job.  If you already have cron jobs with environment settings,
  then Puppet will keep those settings in the same place in the file,
  but will not associate them with a specific job.

  Settings should be specified exactly as they should appear in
  the crontab, e.g., `PATH=/bin:/usr/bin:/usr/sbin`.

hour
: The hour at which to run the cron job. Optional;
  if specified, must be between 0 and 23, inclusive.

minute
: The minute at which to run the cron job.
  Optional; if specified, must be between 0 and 59, inclusive.

month
: The month of the year.  Optional; if specified
  must be between 1 and 12 or the month name (e.g., December).

monthday
: The day of the month on which to run the
  command.  Optional; if specified, must be between 1 and 31.

name
: The symbolic name of the cron job.  This name
  is used for human reference only and is generated automatically
  for cron jobs found on the system.  This generally won't
  matter, as Puppet will do its best to match existing cron jobs
  against specified jobs (and Puppet adds a comment to cron jobs it adds),
  but it is at least possible that converting from unmanaged jobs to
  managed jobs might require manual intervention.

provider
: The specific backend to use for this `cron`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  crontab
  : * Required binaries: `crontab`.

special
: A special value such as 'reboot' or 'annually'.
  Only available on supported systems such as Vixie Cron.
  Overrides more specific time of day/week settings.
  Set to 'absent' to make puppet revert to a plain numeric schedule.

target
: The name of the crontab file in which the cron job should be stored.

  This property defaults to the value of the `user` property if set, the
  user running Puppet or `root`.

  For the default crontab provider, this property is functionally
  equivalent to the `user` property and should be avoided. In particular,
  setting both `user` and `target` to different values will result in
  undefined behavior.

user
: The user who owns the cron job.  This user must
  be allowed to run cron jobs, which is not currently checked by
  Puppet.

  This property defaults to the user running Puppet or `root`.

  The default crontab provider executes the system `crontab` using
  the user account specified by this property.

weekday
: The weekday on which to run the command.
  Optional; if specified, must be between 0 and 7, inclusive, with
  0 (or 7) being Sunday, or must be the name of the day (e.g., Tuesday).




----------------

### exec

Executes external commands.

Any command in an `exec` resource **must** be able to run multiple times
without causing harm --- that is, it must be *idempotent*. There are three
main ways for an exec to be idempotent:

* The command itself is already idempotent. (For example, `apt-get update`.)
* The exec has an `onlyif`, `unless`, or `creates` attribute, which prevents
  Puppet from running the command unless some condition is met.
* The exec has `refreshonly => true`, which only allows Puppet to run the
  command when some other resource is changed. (See the notes on refreshing
  below.)

A caution: There's a widespread tendency to use collections of execs to
manage resources that aren't covered by an existing resource type. This
works fine for simple tasks, but once your exec pile gets complex enough
that you really have to think to understand what's happening, you should
consider developing a custom resource type instead, as it will be much
more predictable and maintainable.

**Refresh:** `exec` resources can respond to refresh events (via
`notify`, `subscribe`, or the `~>` arrow). The refresh behavior of execs
is non-standard, and can be affected by the `refresh` and
`refreshonly` attributes:

* If `refreshonly` is set to true, the exec will _only_ run when it receives an
  event. This is the most reliable way to use refresh with execs.
* If the exec already would have run and receives an event, it will run its
  command **up to two times.** (If an `onlyif`, `unless`, or `creates` condition
  is no longer met after the first run, the second run will not occur.)
* If the exec already would have run, has a `refresh` command, and receives an
  event, it will run its normal command, then run its `refresh` command
  (as long as any `onlyif`, `unless`, or `creates` conditions are still met
  after the normal command finishes).
* If the exec would **not** have run (due to an `onlyif`, `unless`, or `creates`
  attribute) and receives an event, it still will not run.
* If the exec has `noop => true`, would otherwise have run, and receives
  an event from a non-noop resource, it will run once (or run its `refresh`
  command instead, if it has one).

In short: If there's a possibility of your exec receiving refresh events,
it becomes doubly important to make sure the run conditions are restricted.

**Autorequires:** If Puppet is managing an exec's cwd or the executable
file used in an exec's command, the exec resource will autorequire those
files. If Puppet is managing the user that an exec should run as, the
exec resource will autorequire that user.

#### Parameters


command
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The actual command to execute.  Must either be fully qualified
  or a search path for the command must be provided.  If the command
  succeeds, any output produced will be logged at the instance's
  normal log level (usually `notice`), but if the command fails
  (meaning its return code does not match the specified code) then
  any output is logged at the `err` log level.

creates
: A file to look for before running the command. The command will
  only run if the file **doesn't exist.**

  This parameter doesn't cause Puppet to create a file; it is only
  useful if **the command itself** creates a file.

      exec { "tar -xf /Volumes/nfs02/important.tar":
        cwd     => "/var/tmp",
        creates => "/var/tmp/myfile",
        path    => ["/usr/bin", "/usr/sbin"]
      }

  In this example, `myfile` is assumed to be a file inside
  `important.tar`. If it is ever deleted, the exec will bring it
  back by re-extracting the tarball. If `important.tar` does **not**
  actually contain `myfile`, the exec will keep running every time
  Puppet runs.

cwd
: The directory from which to run the command.  If
  this directory does not exist, the command will fail.

environment
: Any additional environment variables you want to set for a
  command.  Note that if you use this to set PATH, it will override
  the `path` attribute.  Multiple environment variables should be
  specified as an array.

group
: The group to run the command as.  This seems to work quite
  haphazardly on different platforms -- it is a platform issue
  not a Ruby or Puppet one, since the same variety exists when
  running commands as different users in the shell.

logoutput
: Whether to log command output in addition to logging the
  exit code.  Defaults to `on_failure`, which only logs the output
  when the command has an exit code that does not match any value
  specified by the `returns` attribute. As with any resource type,
  the log level can be controlled with the `loglevel` metaparameter.

  Valid values are `true`, `false`, `on_failure`.

onlyif
: If this parameter is set, then this `exec` will only run if
  the command returns 0.  For example:

      exec { "logrotate":
        path   => "/usr/bin:/usr/sbin:/bin",
        onlyif => "test `du /var/log/messages | cut -f1` -gt 100000"
      }

  This would run `logrotate` only if that test returned true.

  Note that this command follows the same rules as the main command,
  which is to say that it must be fully qualified if the path is not set.

  Also note that onlyif can take an array as its value, e.g.:

      onlyif => ["test -f /tmp/file1", "test -f /tmp/file2"]

  This will only run the exec if _all_ conditions in the array return true.

path
: The search path used for command execution.
  Commands must be fully qualified if no path is specified.  Paths
  can be specified as an array or as a ':' separated list.

provider
: The specific backend to use for this `exec`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  posix
  : Executes external binaries directly, without passing through a shell or
    performing any interpolation. This is a safer and more predictable way
    to execute most commands, but prevents the use of globbing and shell
    built-ins (including control logic like "for" and "if" statements).

    * Default for `feature` == `posix`.

  shell
  : Passes the provided command through `/bin/sh`; only available on
    POSIX systems. This allows the use of shell globbing and built-ins, and
    does not require that the path to a command be fully-qualified. Although
    this can be more convenient than the `posix` provider, it also means that
    you need to be more careful with escaping; as ever, with great power comes
    etc. etc.

    This provider closely resembles the behavior of the `exec` type
    in Puppet 0.25.x.

  windows
  : Execute external binaries on Windows systems. As with the `posix`
    provider, this provider directly calls the command with the arguments
    given, without passing it through a shell or performing any interpolation.
    To use shell built-ins --- that is, to emulate the `shell` provider on
    Windows --- a command must explicitly invoke the shell:

        exec {'echo foo':
          command => 'cmd.exe /c echo "foo"',
        }

    If no extension is specified for a command, Windows will use the `PATHEXT`
    environment variable to locate the executable.

    **Note on PowerShell scripts:** PowerShell's default `restricted`
    execution policy doesn't allow it to run saved scripts. To run PowerShell
    scripts, specify the `remotesigned` execution policy as part of the
    command:

        exec { 'test':
          path    => 'C:/Windows/System32/WindowsPowerShell/v1.0',
          command => 'powershell -executionpolicy remotesigned -file C:/test.ps1',
        }

    * Default for `operatingsystem` == `windows`.

refresh
: How to refresh this command.  By default, the exec is just
  called again when it receives an event from another resource,
  but this parameter allows you to define a different command
  for refreshing.

refreshonly
: The command should only be run as a
  refresh mechanism for when a dependent object is changed.  It only
  makes sense to use this option when this command depends on some
  other object; it is useful for triggering an action:

      # Pull down the main aliases file
      file { "/etc/aliases":
        source => "puppet://server/module/aliases"
      }

      # Rebuild the database, but only when the file changes
      exec { newaliases:
        path        => ["/usr/bin", "/usr/sbin"],
        subscribe   => File["/etc/aliases"],
        refreshonly => true
      }

  Note that only `subscribe` and `notify` can trigger actions, not `require`,
  so it only makes sense to use `refreshonly` with `subscribe` or `notify`.

  Valid values are `true`, `false`.

returns
: The expected return code(s).  An error will be returned if the
  executed command returns something else.  Defaults to 0. Can be
  specified as an array of acceptable return codes or a single value.

timeout
: The maximum time the command should take.  If the command takes
  longer than the timeout, the command is considered to have failed
  and will be stopped. The timeout is specified in seconds. The default
  timeout is 300 seconds and you can set it to 0 to disable the timeout.

tries
: The number of times execution of the command should be tried.
  Defaults to '1'. This many attempts will be made to execute
  the command until an acceptable return code is returned.
  Note that the timeout paramater applies to each try rather than
  to the complete set of tries.

try_sleep
: The time to sleep in seconds between 'tries'.

umask
: Sets the umask to be used while executing this command

unless
: If this parameter is set, then this `exec` will run unless
  the command returns 0.  For example:

      exec { "/bin/echo root >> /usr/lib/cron/cron.allow":
        path   => "/usr/bin:/usr/sbin:/bin",
        unless => "grep root /usr/lib/cron/cron.allow 2>/dev/null"
      }

  This would add `root` to the cron.allow file (on Solaris) unless
  `grep` determines it's already there.

  Note that this command follows the same rules as the main command,
  which is to say that it must be fully qualified if the path is not set.

user
: The user to run the command as.  Note that if you
  use this then any error output is not currently captured.  This
  is because of a bug within Ruby.  If you are using Puppet to
  create this user, the exec will automatically require the user,
  as long as it is specified by name.

  Please note that the $HOME environment variable is not automatically set
  when using this attribute.




----------------

### file

Manages files, including their content, ownership, and permissions.

The `file` type can manage normal files, directories, and symlinks; the
type should be specified in the `ensure` attribute. Note that symlinks cannot
be managed on Windows systems.

File contents can be managed directly with the `content` attribute, or
downloaded from a remote source using the `source` attribute; the latter
can also be used to recursively serve directories (when the `recurse`
attribute is set to `true` or `local`). On Windows, note that file
contents are managed in binary mode; Puppet never automatically translates
line endings.

**Autorequires:** If Puppet is managing the user or group that owns a
file, the file resource will autorequire them. If Puppet is managing any
parent directories of a file, the file resource will autorequire them.

#### Features

- *manages_symlinks*: The provider can manage symbolic links.


Provider | manages_symlinks |
-------- | ---------------- |
posix    | *X*              |
windows  | *X*              |

#### Parameters


backup
: Whether (and how) file content should be backed up before being replaced.
  This attribute works best as a resource default in the site manifest
  (`File { backup => main }`), so it can affect all file resources.

  * If set to `false`, file content won't be backed up.
  * If set to a string beginning with `.` (e.g., `.puppet-bak`), Puppet will
    use copy the file in the same directory with that value as the extension
    of the backup. (A value of `true` is a synonym for `.puppet-bak`.)
  * If set to any other string, Puppet will try to back up to a filebucket
    with that title. See the `filebucket` resource type for more details.
    (This is the preferred method for backup, since it can be centralized
    and queried.)

  Default value: `puppet`, which backs up to a filebucket of the same name.
  (Puppet automatically creates a **local** filebucket named `puppet` if one
  doesn't already exist.)

  Backing up to a local filebucket isn't particularly useful. If you want
  to make organized use of backups, you will generally want to use the
  puppet master server's filebucket service. This requires declaring a
  filebucket resource and a resource default for the `backup` attribute
  in site.pp:

      # /etc/puppet/manifests/site.pp
      filebucket { 'main':
        path   => false,                # This is required for remote filebuckets.
        server => 'puppet.example.com', # Optional; defaults to the configured puppet master.
      }

      File { backup => main, }

  If you are using multiple puppet master servers, you will want to
  centralize the contents of the filebucket. Either configure your load
  balancer to direct all filebucket traffic to a single master, or use
  something like an out-of-band rsync task to synchronize the content on all
  masters.

checksum
: The checksum type to use when determining whether to replace a file's contents.

  The default checksum type is md5.

  Valid values are `md5`, `md5lite`, `sha256`, `sha256lite`, `mtime`, `ctime`, `none`.

content
: The desired contents of a file, as a string. This attribute is mutually
  exclusive with `source` and `target`.

  Newlines and tabs can be specified in double-quoted strings using
  standard escaped syntax --- \n for a newline, and \t for a tab.

  With very small files, you can construct content strings directly in
  the manifest...

      define resolve(nameserver1, nameserver2, domain, search) {
          $str = "search $search
              domain $domain
              nameserver $nameserver1
              nameserver $nameserver2
              "

          file { "/etc/resolv.conf":
            content => "$str",
          }
      }

  ...but for larger files, this attribute is more useful when combined with the
  [template](http://docs.puppetlabs.com/references/latest/function.html#template)
  function.

ctime
: A read-only state to check the file ctime. On most modern \*nix-like
  systems, this is the time of the most recent change to the owner, group,
  permissions, or content of the file.

ensure
: Whether the file should exist, and if so what kind of file it should be.
  Possible values are `present`, `absent`, `file`, `directory`, and `link`.

  * `present` will accept any form of file existence, and will create a
    normal file if the file is missing. (The file will have no content
    unless the `content` or `source` attribute is used.)
  * `absent` will make sure the file doesn't exist, deleting it
    if necessary.
  * `file` will make sure it's a normal file, and enables use of the
    `content` or `source` attribute.
  * `directory` will make sure it's a directory, and enables use of the
    `source`, `recurse`, `recurselimit`, `ignore`, and `purge` attributes.
  * `link` will make sure the file is a symlink, and **requires** that you
    also set the `target` attribute. Symlinks are supported on all Posix
    systems and on Windows Vista / 2008 and higher. On Windows, managing
    symlinks requires puppet agent's user account to have the "Create
    Symbolic Links" privilege; this can be configured in the "User Rights
    Assignment" section in the Windows policy editor. By default, puppet
    agent runs as the Administrator account, which does have this privilege.

  Puppet avoids destroying directories unless the `force` attribute is set
  to `true`. This means that if a file is currently a directory, setting
  `ensure` to anything but `directory` or `present` will cause Puppet to
  skip managing the resource and log either a notice or an error.

  There is one other non-standard value for `ensure`. If you specify the
  path to another file as the ensure value, it is equivalent to specifying
  `link` and using that path as the `target`:

      # Equivalent resources:

      file { "/etc/inetd.conf":
        ensure => "/etc/inet/inetd.conf",
      }

      file { "/etc/inetd.conf":
        ensure => link,
        target => "/etc/inet/inetd.conf",
      }

  However, we recommend using `link` and `target` explicitly, since this
  behavior can be harder to read.

  Valid values are `absent` (also called `false`), `file`, `present`, `directory`, `link`. Values can match `/./`.

force
: Perform the file operation even if it will destroy one or more directories.
  You must use `force` in order to:

  * `purge` subdirectories
  * Replace directories with files or links
  * Remove a directory when `ensure => absent`

  Valid values are `true`, `false`, `yes`, `no`.

group
: Which group should own the file.  Argument can be either a group
  name or a group ID.

  On Windows, a user (such as "Administrator") can be set as a file's group
  and a group (such as "Administrators") can be set as a file's owner;
  however, a file's owner and group shouldn't be the same. (If the owner
  is also the group, files with modes like `0640` will cause log churn, as
  they will always appear out of sync.)

ignore
: A parameter which omits action on files matching
  specified patterns during recursion.  Uses Ruby's builtin globbing
  engine, so shell metacharacters are fully supported, e.g. `[a-z]*`.
  Matches that would descend into the directory structure are ignored,
  e.g., `*/*`.

links
: How to handle links during file actions.  During file copying,
  `follow` will copy the target file instead of the link, `manage`
  will copy the link itself, and `ignore` will just pass it by.
  When not copying, `manage` and `ignore` behave equivalently
  (because you cannot really ignore links entirely during local
  recursion), and `follow` will manage the file to which the link points.

  Valid values are `follow`, `manage`.

mode
: The desired permissions mode for the file, in symbolic or numeric
  notation. Puppet uses traditional Unix permission schemes and translates
  them to equivalent permissions for systems which represent permissions
  differently, including Windows.

  Numeric modes should use the standard four-digit octal notation of
  `<setuid/setgid/sticky><owner><group><other>` (e.g. 0644). Each of the
  "owner," "group," and "other" digits should be a sum of the
  permissions for that class of users, where read = 4, write = 2, and
  execute/search = 1. When setting numeric permissions for
  directories, Puppet sets the search permission wherever the read
  permission is set.

  Symbolic modes should be represented as a string of comma-separated
  permission clauses, in the form `<who><op><perm>`:

  * "Who" should be u (user), g (group), o (other), and/or a (all)
  * "Op" should be = (set exact permissions), + (add select permissions),
    or - (remove select permissions)
  * "Perm" should be one or more of:
      * r (read)
      * w (write)
      * x (execute/search)
      * t (sticky)
      * s (setuid/setgid)
      * X (execute/search if directory or if any one user can execute)
      * u (user's current permissions)
      * g (group's current permissions)
      * o (other's current permissions)

  Thus, mode `0664` could be represented symbolically as either `a=r,ug+w`
  or `ug=rw,o=r`.  However, symbolic modes are more expressive than numeric
  modes: a mode only affects the specified bits, so `mode => 'ug+w'` will
  set the user and group write bits, without affecting any other bits.

  See the manual page for GNU or BSD `chmod` for more details
  on numeric and symbolic modes.

  On Windows, permissions are translated as follows:

  * Owner and group names are mapped to Windows SIDs
  * The "other" class of users maps to the "Everyone" SID
  * The read/write/execute permissions map to the `FILE_GENERIC_READ`,
    `FILE_GENERIC_WRITE`, and `FILE_GENERIC_EXECUTE` access rights; a
    file's owner always has the `FULL_CONTROL` right
  * "Other" users can't have any permissions a file's group lacks,
    and its group can't have any permissions its owner lacks; that is, 0644
    is an acceptable mode, but 0464 is not.

mtime
: A read-only state to check the file mtime. On \*nix-like systems, this
  is the time of the most recent change to the content of the file.

owner
: The user to whom the file should belong.  Argument can be a user name or a
  user ID.

  On Windows, a group (such as "Administrators") can be set as a file's owner
  and a user (such as "Administrator") can be set as a file's group; however,
  a file's owner and group shouldn't be the same. (If the owner is also
  the group, files with modes like `0640` will cause log churn, as they
  will always appear out of sync.)

path
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The path to the file to manage.  Must be fully qualified.

  On Windows, the path should include the drive letter and should use `/` as
  the separator character (rather than `\\`).

provider
: The specific backend to use for this `file`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  posix
  : Uses POSIX functionality to manage file ownership and permissions.

    * Supported features: `manages_symlinks`.

  windows
  : Uses Microsoft Windows functionality to manage file ownership and permissions.

    * Supported features: `manages_symlinks`.

purge
: Whether unmanaged files should be purged. This option only makes
  sense when managing directories with `recurse => true`.

  * When recursively duplicating an entire directory with the `source`
    attribute, `purge => true` will automatically purge any files
    that are not in the source directory.
  * When managing files in a directory as individual resources,
    setting `purge => true` will purge any files that aren't being
    specifically managed.

  If you have a filebucket configured, the purged files will be uploaded,
  but if you do not, this will destroy data.

  Valid values are `true`, `false`, `yes`, `no`.

recurse
: Whether and how to do recursive file management. Options are:

  * `inf,true` --- Regular style recursion on both remote and local
    directory structure.  See `recurselimit` to specify a limit to the
    recursion depth.
  * `remote` --- Descends recursively into the remote (source) directory
    but not the local (destination) directory. Allows copying of
    a few files into a directory containing many
    unmanaged files without scanning all the local files.
    This can only be used when a source parameter is specified.
  * `false` --- Default of no recursion.

  Valid values are `true`, `false`, `inf`, `remote`.

recurselimit
: How deeply to do recursive management.

  Values can match `/^[0-9]+$/`.

replace
: Whether to replace a file or symlink that already exists on the local system but
  whose content doesn't match what the `source` or `content` attribute
  specifies.  Setting this to false allows file resources to initialize files
  without overwriting future changes.  Note that this only affects content;
  Puppet will still manage ownership and permissions. Defaults to `true`.

  Valid values are `true`, `false`, `yes`, `no`.

selinux_ignore_defaults
: If this is set then Puppet will not ask SELinux (via matchpathcon) to
  supply defaults for the SELinux attributes (seluser, selrole,
  seltype, and selrange). In general, you should leave this set at its
  default and only set it to true when you need Puppet to not try to fix
  SELinux labels automatically.

  Valid values are `true`, `false`.

selrange
: What the SELinux range component of the context of the file should be.
  Any valid SELinux range component is accepted.  For example `s0` or
  `SystemHigh`.  If not specified it defaults to the value returned by
  matchpathcon for the file, if any exists.  Only valid on systems with
  SELinux support enabled and that have support for MCS (Multi-Category
  Security).

selrole
: What the SELinux role component of the context of the file should be.
  Any valid SELinux role component is accepted.  For example `role_r`.
  If not specified it defaults to the value returned by matchpathcon for
  the file, if any exists.  Only valid on systems with SELinux support
  enabled.

seltype
: What the SELinux type component of the context of the file should be.
  Any valid SELinux type component is accepted.  For example `tmp_t`.
  If not specified it defaults to the value returned by matchpathcon for
  the file, if any exists.  Only valid on systems with SELinux support
  enabled.

seluser
: What the SELinux user component of the context of the file should be.
  Any valid SELinux user component is accepted.  For example `user_u`.
  If not specified it defaults to the value returned by matchpathcon for
  the file, if any exists.  Only valid on systems with SELinux support
  enabled.

show_diff
: Whether to display differences when the file changes, defaulting to
  true.  This parameter is useful for files that may contain passwords or
  other secret data, which might otherwise be included in Puppet reports or
  other insecure outputs.  If the global `show_diff` setting
  is false, then no diffs will be shown even if this parameter is true.

  Valid values are `true`, `false`, `yes`, `no`.

source
: A source file, which will be copied into place on the local system.
  Values can be URIs pointing to remote files, or fully qualified paths to
  files available on the local system (including files on NFS shares or
  Windows mapped drives). This attribute is mutually exclusive with
  `content` and `target`.

  The available URI schemes are *puppet* and *file*. *Puppet*
  URIs will retrieve files from Puppet's built-in file server, and are
  usually formatted as:

  `puppet:///modules/name_of_module/filename`

  This will fetch a file from a module on the puppet master (or from a
  local module when using puppet apply). Given a `modulepath` of
  `/etc/puppetlabs/puppet/modules`, the example above would resolve to
  `/etc/puppetlabs/puppet/modules/name_of_module/files/filename`.

  Unlike `content`, the `source` attribute can be used to recursively copy
  directories if the `recurse` attribute is set to `true` or `remote`. If
  a source directory contains symlinks, use the `links` attribute to
  specify whether to recreate links or follow them.

  Multiple `source` values can be specified as an array, and Puppet will
  use the first source that exists. This can be used to serve different
  files to different system types:

      file { "/etc/nfs.conf":
        source => [
          "puppet:///modules/nfs/conf.$host",
          "puppet:///modules/nfs/conf.$operatingsystem",
          "puppet:///modules/nfs/conf"
        ]
      }

  Alternately, when serving directories recursively, multiple sources can
  be combined by setting the `sourceselect` attribute to `all`.

source_permissions
: Whether (and how) Puppet should copy owner, group, and mode permissions from
  the `source` to `file` resources when the permissions are not explicitly
  specified. (In all cases, explicit permissions will take precedence.)
  Valid values are `use`, `use_when_creating`, and `ignore`:

  * `use` (the default) will cause Puppet to apply the owner, group,
    and mode from the `source` to any files it is managing.
  * `use_when_creating` will only apply the owner, group, and mode from the
    `source` when creating a file; existing files will not have their permissions
    overwritten.
  * `ignore` will never apply the owner, group, or mode from the `source` when
    managing a file. When creating new files without explicit permissions,
    the permissions they receive will depend on platform-specific behavior.
    On POSIX, Puppet will use the umask of the user it is running as. On
    Windows, Puppet will use the default DACL associated with the user it is
    running as.

  Valid values are `use`, `use_when_creating`, `ignore`.

sourceselect
: Whether to copy all valid sources, or just the first one.  This parameter
  only affects recursive directory copies; by default, the first valid
  source is the only one used, but if this parameter is set to `all`, then
  all valid sources will have all of their contents copied to the local
  system. If a given file exists in more than one source, the version from
  the earliest source in the list will be used.

  Valid values are `first`, `all`.

target
: The target for creating a link.  Currently, symlinks are the
  only type supported. This attribute is mutually exclusive with `source`
  and `content`.

  Symlink targets can be relative, as well as absolute:

      # (Useful on Solaris)
      file { "/etc/inetd.conf":
        ensure => link,
        target => "inet/inetd.conf",
      }

  Directories of symlinks can be served recursively by instead using the
  `source` attribute, setting `ensure` to `directory`, and setting the
  `links` attribute to `manage`.

  Valid values are `notlink`. Values can match `/./`.

type
: A read-only state to check the file type.

validate_cmd
: A command for validating the file's syntax before replacing it. If
  Puppet would need to rewrite a file due to new `source` or `content`, it
  will check the new content's validity first. If validation fails, the file
  resource will fail.

  This command must have a fully qualified path, and should contain a
  percent (`%`) token where it would expect an input file. It must exit `0`
  if the syntax is correct, and non-zero otherwise. The command will be
  run on the target system while applying the catalog, not on the puppet master.

  Example:

      file { '/etc/apache2/apache2.conf':
        content      => 'example',
        validate_cmd => '/usr/sbin/apache2 -t -f %',
      }

  This would replace apache2.conf only if the test returned true.

  Note that if a validation command requires a `%` as part of its text,
  you can specify a different placeholder token with the
  `validate_replacement` attribute.

validate_replacement
: The replacement string in a `validate_cmd` that will be replaced
  with an input file name. Defaults to: `%`




----------------

### filebucket

A repository for storing and retrieving file content by MD5 checksum. Can
be local to each agent node, or centralized on a puppet master server. All
puppet masters provide a filebucket service that agent nodes can access
via HTTP, but you must declare a filebucket resource before any agents
will do so.

Filebuckets are used for the following features:

- **Content backups.** If the `file` type's `backup` attribute is set to
  the name of a filebucket, Puppet will back up the _old_ content whenever
  it rewrites a file; see the documentation for the `file` type for more
  details. These backups can be used for manual recovery of content, but
  are more commonly used to display changes and differences in a tool like
  Puppet Dashboard.
- **Content distribution.** The optional static compiler populates the
  puppet master's filebucket with the _desired_ content for each file,
  then instructs the agent to retrieve the content for a specific
  checksum. For more details,
  [see the `static_compiler` section in the catalog indirection docs](http://docs.puppetlabs.com/references/latest/indirection.html#catalog).

To use a central filebucket for backups, you will usually want to declare
a filebucket resource and a resource default for the `backup` attribute
in site.pp:

    # /etc/puppet/manifests/site.pp
    filebucket { 'main':
      path   => false,                # This is required for remote filebuckets.
      server => 'puppet.example.com', # Optional; defaults to the configured puppet master.
    }

    File { backup => main, }

Puppet master servers automatically provide the filebucket service, so
this will work in a default configuration. If you have a heavily
restricted `auth.conf` file, you may need to allow access to the
`file_bucket_file` endpoint.

#### Parameters


name
: The name of the filebucket.

path
: The path to the _local_ filebucket; defaults to the value of the
  `clientbucketdir` setting.  To use a remote filebucket, you _must_ set
  this attribute to `false`.

port
: The port on which the remote server is listening. Defaults to the
  value of the `masterport` setting, which is usually 8140.

server
: The server providing the remote filebucket service. Defaults to the
  value of the `server` setting (that is, the currently configured
  puppet master server).

  This setting is _only_ consulted if the `path` attribute is set to `false`.




----------------

### group

Manage groups. On most platforms this can only create groups.
Group membership must be managed on individual users.

On some platforms such as OS X, group membership is managed as an
attribute of the group, not the user record. Providers must have
the feature 'manages_members' to manage the 'members' property of
a group record.

#### Features

- *libuser*: Allows local groups to be managed on systems that also use some other remote NSS method of managing accounts.
- *manages_aix_lam*: The provider can manage AIX Loadable Authentication Module (LAM) system.
- *manages_members*: For directories where membership is an attribute of groups not users.
- *system_groups*: The provider allows you to create system groups with lower GIDs.


Provider         | libuser | manages_aix_lam | manages_members | system_groups |
---------------- | ------- | --------------- | --------------- | ------------- |
aix              |         | *X*             | *X*             |               |
directoryservice |         |                 | *X*             |               |
groupadd         | *X*     |                 |                 | *X*           |
ldap             |         |                 |                 |               |
pw               |         |                 | *X*             |               |
windows_adsi     |         |                 | *X*             |               |

#### Parameters


allowdupe
: Whether to allow duplicate GIDs. Defaults to `false`.

  Valid values are `true`, `false`, `yes`, `no`.

attribute_membership
: Whether specified attribute value pairs should be treated as the only attributes
  of the user or whether they should merely
  be treated as the minimum list.

  Valid values are `inclusive`, `minimum`.

attributes
: Specify group AIX attributes in an array of `key=value` pairs.



  Requires features manages_aix_lam.

auth_membership
: whether the provider is authoritative for group membership.

ensure
: Create or remove the group.

  Valid values are `present`, `absent`.

forcelocal
: Forces the mangement of local accounts when accounts are also
  being managed by some other NSS

  Valid values are `true`, `false`, `yes`, `no`.

  Requires features libuser.

gid
: The group ID.  Must be specified numerically.  If no group ID is
  specified when creating a new group, then one will be chosen
  automatically according to local system standards. This will likely
  result in the same group having different GIDs on different systems,
  which is not recommended.

  On Windows, this property is read-only and will return the group's security
  identifier (SID).

ia_load_module
: The name of the I&A module to use to manage this user



  Requires features manages_aix_lam.

members
: The members of the group. For directory services where group
  membership is stored in the group objects, not the users.



  Requires features manages_members.

name
: The group name. While naming limitations vary by operating system,
  it is advisable to restrict names to the lowest common denominator,
  which is a maximum of 8 characters beginning with a letter.

  Note that Puppet considers group names to be case-sensitive, regardless
  of the platform's own rules; be sure to always use the same case when
  referring to a given group.

provider
: The specific backend to use for this `group`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  aix
  : Group management for AIX.

    * Required binaries: `/usr/bin/chgroup`, `/usr/bin/mkgroup`, `/usr/sbin/lsgroup`, `/usr/sbin/rmgroup`.
    * Default for `operatingsystem` == `aix`.
    * Supported features: `manages_aix_lam`, `manages_members`.

  directoryservice
  : Group management using DirectoryService on OS X.

    * Required binaries: `/usr/bin/dscl`.
    * Default for `operatingsystem` == `darwin`.
    * Supported features: `manages_members`.

  groupadd
  : Group management via `groupadd` and its ilk. The default for most platforms.

    * Required binaries: `groupadd`, `groupdel`, `groupmod`, `lgroupadd`.
    * Supported features: `libuser`, `system_groups`.

  ldap
  : Group management via LDAP.

    This provider requires that you have valid values for all of the
    LDAP-related settings in `puppet.conf`, including `ldapbase`.  You will
    almost definitely need settings for `ldapuser` and `ldappassword` in order
    for your clients to write to LDAP.

    Note that this provider will automatically generate a GID for you if you do
    not specify one, but it is a potentially expensive operation, as it
    iterates across all existing groups to pick the appropriate next one.

  pw
  : Group management via `pw` on FreeBSD and DragonFly BSD.

    * Required binaries: `pw`.
    * Default for `operatingsystem` == `freebsd, dragonfly`.
    * Supported features: `manages_members`.

  windows_adsi
  : Local group management for Windows. Group members can be both users and groups.
    Additionally, local groups can contain domain users.

    * Default for `operatingsystem` == `windows`.
    * Supported features: `manages_members`.

system
: Whether the group is a system group with lower GID.

  Valid values are `true`, `false`, `yes`, `no`.




----------------

### host

Installs and manages host entries.  For most systems, these
entries will just be in `/etc/hosts`, but some systems (notably OS X)
will have different solutions.

#### Parameters


comment
: A comment that will be attached to the line with a # character.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

host_aliases
: Any aliases the host might have.  Multiple values must be
  specified as an array.

ip
: The host's IP address, IPv4 or IPv6.

name
: The host name.

provider
: The specific backend to use for this `host`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  parsed
  :

target
: The file in which to store service information.  Only used by
  those providers that write to disk. On most systems this defaults to `/etc/hosts`.




----------------

### interface

This represents a router or switch interface. It is possible to manage
interface mode (access or trunking, native vlan and encapsulation) and
switchport characteristics (speed, duplex).

#### Parameters


allowed_trunk_vlans
: Allowed list of Vlans that this trunk can forward.

  Valid values are `all`. Values can match `/./`.

description
: Interface description.

device_url
: The URL at which the router or switch can be reached.

duplex
: Interface duplex.

  Valid values are `auto`, `full`, `half`.

encapsulation
: Interface switchport encapsulation.

  Valid values are `none`, `dot1q`, `isl`.

ensure
: The basic property that the resource should be in.

  Valid values are `present` (also called `no_shutdown`), `absent` (also called `shutdown`).

etherchannel
: Channel group this interface is part of.

  Values can match `/^\d+/`.

ipaddress
: IP Address of this interface. Note that it might not be possible to set
  an interface IP address; it depends on the interface type and device type.

  Valid format of ip addresses are:

  * IPV4, like 127.0.0.1
  * IPV4/prefixlength like 127.0.1.1/24
  * IPV6/prefixlength like FE80::21A:2FFF:FE30:ECF0/128
  * an optional suffix for IPV6 addresses from this list: `eui-64`, `link-local`

  It is also possible to supply an array of values.

mode
: Interface switchport mode.

  Valid values are `access`, `trunk`.

name
: The interface's name.

native_vlan
: Interface native vlan (for access mode only).

  Values can match `/^\d+/`.

provider
: The specific backend to use for this `interface`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  cisco
  : Cisco switch/router provider for interface.

speed
: Interface speed.

  Valid values are `auto`. Values can match `/^\d+/`.




----------------

### k5login

Manage the `.k5login` file for a user.  Specify the full path to
the `.k5login` file as the name, and an array of principals as the
`principals` attribute.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

mode
: The desired permissions mode of the `.k5login` file. Defaults to `644`.

path
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The path to the `.k5login` file to manage.  Must be fully qualified.

principals
: The principals present in the `.k5login` file. This should be specified as an array.

provider
: The specific backend to use for this `k5login`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  k5login
  : The k5login provider is the only provider for the k5login
    type.




----------------

### macauthorization

Manage the Mac OS X authorization database. See the
[Apple developer site](http://developer.apple.com/documentation/Security/Conceptual/Security_Overview/Security_Services/chapter_4_section_5.html)
for more information.

Note that authorization store directives with hyphens in their names have
been renamed to use underscores, as Puppet does not react well to hyphens
in identifiers.

**Autorequires:** If Puppet is managing the `/etc/authorization` file, each
macauthorization resource will autorequire it.

#### Parameters


allow_root
: Corresponds to `allow-root` in the authorization store. Specifies
  whether a right should be allowed automatically if the requesting process
  is running with `uid == 0`.  AuthorizationServices defaults this attribute
  to false if not specified.

  Valid values are `true`, `false`.

auth_class
: Corresponds to `class` in the authorization store; renamed due
  to 'class' being a reserved word in Puppet.

  Valid values are `user`, `evaluate-mechanisms`, `allow`, `deny`, `rule`.

auth_type
: Type --- this can be a `right` or a `rule`. The `comment` type has
  not yet been implemented.

  Valid values are `right`, `rule`.

authenticate_user
: Corresponds to `authenticate-user` in the authorization store.

  Valid values are `true`, `false`.

comment
: The `comment` attribute for authorization resources.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: A group which the user must authenticate as a member of. This
  must be a single group.

k_of_n
: How large a subset of rule mechanisms must succeed for successful
  authentication. If there are 'n' mechanisms, then 'k' (the integer value
  of this parameter) mechanisms must succeed. The most common setting for
  this parameter is `1`. If `k-of-n` is not set, then every mechanism ---
  that is, 'n-of-n' --- must succeed.

mechanisms
: An array of suitable mechanisms.

name
: The name of the right or rule to be managed.
  Corresponds to `key` in Authorization Services. The key is the name
  of a rule. A key uses the same naming conventions as a right. The
  Security Server uses a rule's key to match the rule with a right.
  Wildcard keys end with a '.'. The generic rule has an empty key value.
  Any rights that do not match a specific rule use the generic rule.

provider
: The specific backend to use for this `macauthorization`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  macauthorization
  : Manage Mac OS X authorization database rules and rights.

    * Required binaries: `/usr/bin/security`, `/usr/bin/sw_vers`.
    * Default for `operatingsystem` == `darwin`.

rule
: The rule(s) that this right refers to.

session_owner
: Whether the session owner automatically matches this rule or right.
  Corresponds to `session-owner` in the authorization store.

  Valid values are `true`, `false`.

shared
: Whether the Security Server should mark the credentials used to gain
  this right as shared. The Security Server may use any shared credentials
  to authorize this right. For maximum security, set sharing to false so
  credentials stored by the Security Server for one application may not be
  used by another application.

  Valid values are `true`, `false`.

timeout
: The number of seconds in which the credential used by this rule will
  expire. For maximum security where the user must authenticate every time,
  set the timeout to 0. For minimum security, remove the timeout attribute
  so the user authenticates only once per session.

tries
: The number of tries allowed.




----------------

### mailalias

Creates an email alias in the local alias database.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

name
: The alias name.

provider
: The specific backend to use for this `mailalias`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  aliases
  :

recipient
: Where email should be sent.  Multiple values
  should be specified as an array.

target
: The file in which to store the aliases.  Only used by
  those providers that write to disk.




----------------

### maillist

Manage email lists.  This resource type can only create
and remove lists; it cannot currently reconfigure them.

#### Parameters


admin
: The email address of the administrator.

description
: The description of the mailing list.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`, `purged`.

mailserver
: The name of the host handling email for the list.

name
: The name of the email list.

password
: The admin password.

provider
: The specific backend to use for this `maillist`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  mailman
  : * Required binaries: `/usr/lib/mailman/bin/list_lists`, `/usr/lib/mailman/bin/newlist`, `/usr/lib/mailman/bin/rmlist`, `/usr/lib/mailman/mail/mailman`.

webserver
: The name of the host providing web archives and the administrative interface.




----------------

### mcx

MCX object management using DirectoryService on OS X.

The default provider of this type merely manages the XML plist as
reported by the `dscl -mcxexport` command.  This is similar to the
content property of the file type in Puppet.

The recommended method of using this type is to use Work Group Manager
to manage users and groups on the local computer, record the resulting
puppet manifest using the command `puppet resource mcx`, then deploy it
to other machines.

**Autorequires:** If Puppet is managing the user, group, or computer that these
MCX settings refer to, the MCX resource will autorequire that user, group, or computer.

#### Features

- *manages_content*: The provider can manage MCXSettings as a string.


Provider   | manages_content |
---------- | --------------- |
mcxcontent | *X*             |

#### Parameters


content
: The XML Plist used as the value of MCXSettings in DirectoryService.
  This is the standard output from the system command:

      dscl localhost -mcxexport /Local/Default/<ds_type>/ds_name

  Note that `ds_type` is capitalized and plural in the dscl command.



  Requires features manages_content.

ds_name
: The name to attach the MCX Setting to. (For example, `localhost`
  when `ds_type => computer`.) This setting is not required, as it can be
  automatically discovered when the resource name is parseable.  (For
  example, in `/Groups/admin`, `group` will be used as the dstype.)

ds_type
: The DirectoryService type this MCX setting attaches to.

  Valid values are `user`, `group`, `computer`, `computerlist`.

ensure
: Create or remove the MCX setting.

  Valid values are `present`, `absent`.

name
: The name of the resource being managed.
  The default naming convention follows Directory Service paths:

      /Computers/localhost
      /Groups/admin
      /Users/localadmin

  The `ds_type` and `ds_name` type parameters are not necessary if the
  default naming convention is followed.

provider
: The specific backend to use for this `mcx`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  mcxcontent
  : MCX Settings management using DirectoryService on OS X.

    This provider manages the entire MCXSettings attribute available
    to some directory services nodes.  This management is 'all or nothing'
    in that discrete application domain key value pairs are not managed
    by this provider.

    It is recommended to use WorkGroup Manager to configure Users, Groups,
    Computers, or ComputerLists, then use 'ralsh mcx' to generate a puppet
    manifest from the resulting configuration.

    Original Author: Jeff McCune (mccune.jeff@gmail.com)

    * Required binaries: `/usr/bin/dscl`.
    * Default for `operatingsystem` == `darwin`.
    * Supported features: `manages_content`.




----------------

### mount

Manages mounted filesystems, including putting mount
information into the mount table. The actual behavior depends
on the value of the 'ensure' parameter.

**Refresh:** `mount` resources can respond to refresh events (via
`notify`, `subscribe`, or the `~>` arrow). If a `mount` receives an event
from another resource **and** its `ensure` attribute is set to `mounted`,
Puppet will try to unmount then remount that filesystem.

**Autorequires:** If Puppet is managing any parents of a mount resource ---
that is, other mount points higher up in the filesystem --- the child
mount will autorequire them.

#### Features

- *refreshable*: The provider can remount the filesystem.


Provider | refreshable |
-------- | ----------- |
parsed   | *X*         |

#### Parameters


atboot
: Whether to mount the mount at boot.  Not all platforms
  support this.

blockdevice
: The device to fsck.  This is property is only valid
  on Solaris, and in most cases will default to the correct
  value.

device
: The device providing the mount.  This can be whatever
  device is supporting by the mount, including network
  devices or devices specified by UUID rather than device
  path, depending on the operating system.

dump
: Whether to dump the mount.  Not all platform support this.
  Valid values are `1` or `0`. or `2` on FreeBSD, Default is `0`.

  Values can match `/(0|1)/`, `/(0|1)/`.

ensure
: Control what to do with this mount. Set this attribute to
  `unmounted` to make sure the filesystem is in the filesystem table
  but not mounted (if the filesystem is currently mounted, it will be
  unmounted).  Set it to `absent` to unmount (if necessary) and remove
  the filesystem from the fstab.  Set to `mounted` to add it to the
  fstab and mount it. Set to `present` to add to fstab but not change
  mount/unmount status.

  Valid values are `defined` (also called `present`), `unmounted`, `absent`, `mounted`.

fstype
: The mount type.  Valid values depend on the
  operating system.  This is a required option.

name
: The mount path for the mount.

options
: Mount options for the mounts, as they would
  appear in the fstab.

pass
: The pass in which the mount is checked.

provider
: The specific backend to use for this `mount`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  parsed
  : * Required binaries: `mount`, `umount`.
    * Supported features: `refreshable`.

remounts
: Whether the mount can be remounted  `mount -o remount`.  If
  this is false, then the filesystem will be unmounted and remounted
  manually, which is prone to failure.

  Valid values are `true`, `false`.

target
: The file in which to store the mount table.  Only used by
  those providers that write to disk.




----------------

### nagios_command

The Nagios type command.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_command.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


command_line
: Nagios configuration file parameter.

command_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_command resource.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_command resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

mode
: The desired mode of the config file for this nagios_command resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

owner
: The desired owner of the config file for this nagios_command resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

poller_tag
: Nagios configuration file parameter.

provider
: The specific backend to use for this `nagios_command`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_contact

The Nagios type contact.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_contact.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


address1
: Nagios configuration file parameter.

address2
: Nagios configuration file parameter.

address3
: Nagios configuration file parameter.

address4
: Nagios configuration file parameter.

address5
: Nagios configuration file parameter.

address6
: Nagios configuration file parameter.

alias
: Nagios configuration file parameter.

can_submit_commands
: Nagios configuration file parameter.

contact_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_contact resource.

contactgroups
: Nagios configuration file parameter.

email
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_contact resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_notification_commands
: Nagios configuration file parameter.

host_notification_options
: Nagios configuration file parameter.

host_notification_period
: Nagios configuration file parameter.

host_notifications_enabled
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_contact resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

owner
: The desired owner of the config file for this nagios_contact resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

pager
: Nagios configuration file parameter.

provider
: The specific backend to use for this `nagios_contact`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

retain_nonstatus_information
: Nagios configuration file parameter.

retain_status_information
: Nagios configuration file parameter.

service_notification_commands
: Nagios configuration file parameter.

service_notification_options
: Nagios configuration file parameter.

service_notification_period
: Nagios configuration file parameter.

service_notifications_enabled
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_contactgroup

The Nagios type contactgroup.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_contactgroup.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


alias
: Nagios configuration file parameter.

contactgroup_members
: Nagios configuration file parameter.

contactgroup_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_contactgroup resource.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_contactgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

members
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_contactgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

owner
: The desired owner of the config file for this nagios_contactgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_contactgroup`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_host

The Nagios type host.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_host.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


action_url
: Nagios configuration file parameter.

active_checks_enabled
: Nagios configuration file parameter.

address
: Nagios configuration file parameter.

alias
: Nagios configuration file parameter.

business_impact
: Nagios configuration file parameter.

check_command
: Nagios configuration file parameter.

check_freshness
: Nagios configuration file parameter.

check_interval
: Nagios configuration file parameter.

check_period
: Nagios configuration file parameter.

contact_groups
: Nagios configuration file parameter.

contacts
: Nagios configuration file parameter.

display_name
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

event_handler
: Nagios configuration file parameter.

event_handler_enabled
: Nagios configuration file parameter.

failure_prediction_enabled
: Nagios configuration file parameter.

first_notification_delay
: Nagios configuration file parameter.

flap_detection_enabled
: Nagios configuration file parameter.

flap_detection_options
: Nagios configuration file parameter.

freshness_threshold
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_host resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

high_flap_threshold
: Nagios configuration file parameter.

host_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_host resource.

hostgroups
: Nagios configuration file parameter.

icon_image
: Nagios configuration file parameter.

icon_image_alt
: Nagios configuration file parameter.

initial_state
: Nagios configuration file parameter.

low_flap_threshold
: Nagios configuration file parameter.

max_check_attempts
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_host resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

notification_interval
: Nagios configuration file parameter.

notification_options
: Nagios configuration file parameter.

notification_period
: Nagios configuration file parameter.

notifications_enabled
: Nagios configuration file parameter.

obsess_over_host
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_host resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

parents
: Nagios configuration file parameter.

passive_checks_enabled
: Nagios configuration file parameter.

poller_tag
: Nagios configuration file parameter.

process_perf_data
: Nagios configuration file parameter.

provider
: The specific backend to use for this `nagios_host`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

realm
: Nagios configuration file parameter.

register
: Nagios configuration file parameter.

retain_nonstatus_information
: Nagios configuration file parameter.

retain_status_information
: Nagios configuration file parameter.

retry_interval
: Nagios configuration file parameter.

stalking_options
: Nagios configuration file parameter.

statusmap_image
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.

vrml_image
: Nagios configuration file parameter.




----------------

### nagios_hostdependency

The Nagios type hostdependency.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_hostdependency.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_hostdependency resource.

dependency_period
: Nagios configuration file parameter.

dependent_host_name
: Nagios configuration file parameter.

dependent_hostgroup_name
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

execution_failure_criteria
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_hostdependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: Nagios configuration file parameter.

hostgroup_name
: Nagios configuration file parameter.

inherits_parent
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_hostdependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notification_failure_criteria
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_hostdependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_hostdependency`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_hostescalation

The Nagios type hostescalation.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_hostescalation.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_hostescalation resource.

contact_groups
: Nagios configuration file parameter.

contacts
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

escalation_options
: Nagios configuration file parameter.

escalation_period
: Nagios configuration file parameter.

first_notification
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_hostescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: Nagios configuration file parameter.

hostgroup_name
: Nagios configuration file parameter.

last_notification
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_hostescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notification_interval
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_hostescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_hostescalation`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_hostextinfo

The Nagios type hostextinfo.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_hostextinfo.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_hostextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_hostextinfo resource.

icon_image
: Nagios configuration file parameter.

icon_image_alt
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_hostextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_hostextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_hostextinfo`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

statusmap_image
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.

vrml_image
: Nagios configuration file parameter.




----------------

### nagios_hostgroup

The Nagios type hostgroup.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_hostgroup.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


action_url
: Nagios configuration file parameter.

alias
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_hostgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

hostgroup_members
: Nagios configuration file parameter.

hostgroup_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_hostgroup resource.

members
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_hostgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_hostgroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_hostgroup`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

realm
: Nagios configuration file parameter.

register
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_service

The Nagios type service.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_service.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_service resource.

action_url
: Nagios configuration file parameter.

active_checks_enabled
: Nagios configuration file parameter.

business_impact
: Nagios configuration file parameter.

check_command
: Nagios configuration file parameter.

check_freshness
: Nagios configuration file parameter.

check_interval
: Nagios configuration file parameter.

check_period
: Nagios configuration file parameter.

contact_groups
: Nagios configuration file parameter.

contacts
: Nagios configuration file parameter.

display_name
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

event_handler
: Nagios configuration file parameter.

event_handler_enabled
: Nagios configuration file parameter.

failure_prediction_enabled
: Nagios configuration file parameter.

first_notification_delay
: Nagios configuration file parameter.

flap_detection_enabled
: Nagios configuration file parameter.

flap_detection_options
: Nagios configuration file parameter.

freshness_threshold
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_service resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

high_flap_threshold
: Nagios configuration file parameter.

host_name
: Nagios configuration file parameter.

hostgroup_name
: Nagios configuration file parameter.

icon_image
: Nagios configuration file parameter.

icon_image_alt
: Nagios configuration file parameter.

initial_state
: Nagios configuration file parameter.

is_volatile
: Nagios configuration file parameter.

low_flap_threshold
: Nagios configuration file parameter.

max_check_attempts
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_service resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

normal_check_interval
: Nagios configuration file parameter.

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

notification_interval
: Nagios configuration file parameter.

notification_options
: Nagios configuration file parameter.

notification_period
: Nagios configuration file parameter.

notifications_enabled
: Nagios configuration file parameter.

obsess_over_service
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_service resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

parallelize_check
: Nagios configuration file parameter.

passive_checks_enabled
: Nagios configuration file parameter.

poller_tag
: Nagios configuration file parameter.

process_perf_data
: Nagios configuration file parameter.

provider
: The specific backend to use for this `nagios_service`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

retain_nonstatus_information
: Nagios configuration file parameter.

retain_status_information
: Nagios configuration file parameter.

retry_check_interval
: Nagios configuration file parameter.

retry_interval
: Nagios configuration file parameter.

service_description
: Nagios configuration file parameter.

servicegroups
: Nagios configuration file parameter.

stalking_options
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_servicedependency

The Nagios type servicedependency.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_servicedependency.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_servicedependency resource.

dependency_period
: Nagios configuration file parameter.

dependent_host_name
: Nagios configuration file parameter.

dependent_hostgroup_name
: Nagios configuration file parameter.

dependent_service_description
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

execution_failure_criteria
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_servicedependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: Nagios configuration file parameter.

hostgroup_name
: Nagios configuration file parameter.

inherits_parent
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_servicedependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notification_failure_criteria
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_servicedependency resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_servicedependency`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

service_description
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_serviceescalation

The Nagios type serviceescalation.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_serviceescalation.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_serviceescalation resource.

contact_groups
: Nagios configuration file parameter.

contacts
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

escalation_options
: Nagios configuration file parameter.

escalation_period
: Nagios configuration file parameter.

first_notification
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_serviceescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: Nagios configuration file parameter.

hostgroup_name
: Nagios configuration file parameter.

last_notification
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_serviceescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notification_interval
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_serviceescalation resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_serviceescalation`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

service_description
: Nagios configuration file parameter.

servicegroup_name
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_serviceextinfo

The Nagios type serviceextinfo.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_serviceextinfo.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


_naginator_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_serviceextinfo resource.

action_url
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_serviceextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

host_name
: Nagios configuration file parameter.

icon_image
: Nagios configuration file parameter.

icon_image_alt
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_serviceextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_serviceextinfo resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_serviceextinfo`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

service_description
: Nagios configuration file parameter.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_servicegroup

The Nagios type servicegroup.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_servicegroup.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


action_url
: Nagios configuration file parameter.

alias
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

group
: The desired group of the config file for this nagios_servicegroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

members
: Nagios configuration file parameter.

mode
: The desired mode of the config file for this nagios_servicegroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

notes
: Nagios configuration file parameter.

notes_url
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_servicegroup resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_servicegroup`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

servicegroup_members
: Nagios configuration file parameter.

servicegroup_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_servicegroup resource.

target
: The target.

use
: Nagios configuration file parameter.




----------------

### nagios_timeperiod

The Nagios type timeperiod.  This resource type is autogenerated using the
model developed in Naginator, and all of the Nagios types are generated using the
same code and the same library.

This type generates Nagios configuration statements in Nagios-parseable configuration
files.  By default, the statements will be added to `/etc/nagios/nagios_timeperiod.cfg`, but
you can send them to a different file by setting their `target` attribute.

You can purge Nagios resources using the `resources` type, but *only*
in the default file locations.  This is an architectural limitation.

#### Parameters


alias
: Nagios configuration file parameter.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

exclude
: Nagios configuration file parameter.

friday
: Nagios configuration file parameter.

group
: The desired group of the config file for this nagios_timeperiod resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

mode
: The desired mode of the config file for this nagios_timeperiod resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

monday
: Nagios configuration file parameter.

owner
: The desired owner of the config file for this nagios_timeperiod resource.

  NOTE: If the target file is explicitly managed by a file resource in your manifest,
  this parameter has no effect. If a parent directory of the target is managed by
  a recursive file resource, this limitation does not apply (i.e., this parameter
  takes precedence, and if purge is used, the target file is exempt).

provider
: The specific backend to use for this `nagios_timeperiod`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  naginator
  :

register
: Nagios configuration file parameter.

saturday
: Nagios configuration file parameter.

sunday
: Nagios configuration file parameter.

target
: The target.

thursday
: Nagios configuration file parameter.

timeperiod_name
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name of this nagios_timeperiod resource.

tuesday
: Nagios configuration file parameter.

use
: Nagios configuration file parameter.

wednesday
: Nagios configuration file parameter.




----------------

### notify

Sends an arbitrary message to the agent run-time log.

#### Parameters


message
: The message to be sent to the log.

name
: An arbitrary tag for your own reference; the name of the message.

withpath
: Whether to show the full object path. Defaults to false.

  Valid values are `true`, `false`.




----------------

### package

Manage packages.  There is a basic dichotomy in package
support right now:  Some package types (e.g., yum and apt) can
retrieve their own package files, while others (e.g., rpm and sun)
cannot.  For those package formats that cannot retrieve their own files,
you can use the `source` parameter to point to the correct file.

Puppet will automatically guess the packaging format that you are
using based on the platform you are on, but you can override it
using the `provider` parameter; each provider defines what it
requires in order to function, and you must meet those requirements
to use a given provider.

**Autorequires:** If Puppet is managing the files specified as a
package's `adminfile`, `responsefile`, or `source`, the package
resource will autorequire those files.

#### Features

- *holdable*: The provider is capable of placing packages on hold such that they are not automatically upgraded as a result of other package dependencies unless explicit action is taken by a user or another package. Held is considered a superset of installed.
- *install_options*: The provider accepts options to be passed to the installer command.
- *installable*: The provider can install packages.
- *package_settings*: The provider accepts package_settings to be ensured for the given package. The meaning and format of these settings is provider-specific.
- *purgeable*: The provider can purge packages.  This generally means that all traces of the package are removed, including existing configuration files.  This feature is thus destructive and should be used with the utmost care.
- *uninstall_options*: The provider accepts options to be passed to the uninstaller command.
- *uninstallable*: The provider can uninstall packages.
- *upgradeable*: The provider can upgrade to the latest version of a package.  This feature is used by specifying `latest` as the desired value for the package.
- *versionable*: The provider is capable of interrogating the package database for installed version(s), and can select which out of a set of available versions of a package to install if asked.
- *virtual_packages*: The provider accepts virtual package names for install and uninstall.


Provider    | holdable | install_options | installable | package_settings | purgeable | uninstall_options | uninstallable | upgradeable | versionable | virtual_packages |
----------- | -------- | --------------- | ----------- | ---------------- | --------- | ----------------- | ------------- | ----------- | ----------- | ---------------- |
aix         |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
appdmg      |          |                 | *X*         |                  |           |                   |               |             |             |                  |
apple       |          |                 | *X*         |                  |           |                   |               |             |             |                  |
apt         | *X*      | *X*             | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         |                  |
aptitude    | *X*      |                 | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         |                  |
aptrpm      |          |                 | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         |                  |
blastwave   |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
dpkg        | *X*      |                 | *X*         |                  | *X*       |                   | *X*           | *X*         |             |                  |
fink        | *X*      |                 | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         |                  |
freebsd     |          |                 | *X*         |                  | *X*       |                   | *X*           |             |             |                  |
gem         |          | *X*             | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
hpux        |          |                 | *X*         |                  |           |                   | *X*           |             |             |                  |
macports    |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
msi         |          | *X*             | *X*         |                  |           | *X*               | *X*           |             |             |                  |
nim         |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
openbsd     |          | *X*             | *X*         |                  | *X*       | *X*               | *X*           |             | *X*         |                  |
opkg        |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
pacman      |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
pip         |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
pkg         | *X*      |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
pkgdmg      |          |                 | *X*         |                  |           |                   |               |             |             |                  |
pkgin       |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
pkgutil     |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
portage     |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
ports       |          |                 | *X*         |                  | *X*       |                   | *X*           | *X*         |             |                  |
portupgrade |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
rpm         |          | *X*             | *X*         |                  |           | *X*               | *X*           | *X*         | *X*         | *X*              |
rug         |          |                 | *X*         |                  |           |                   | *X*           | *X*         | *X*         |                  |
sun         |          | *X*             | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
sunfreeware |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
up2date     |          |                 | *X*         |                  |           |                   | *X*           | *X*         |             |                  |
urpmi       |          |                 | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         |                  |
windows     |          | *X*             | *X*         |                  |           | *X*               | *X*           |             | *X*         |                  |
yum         |          | *X*             | *X*         |                  | *X*       |                   | *X*           | *X*         | *X*         | *X*              |
zypper      |          | *X*             | *X*         |                  |           |                   | *X*           | *X*         | *X*         | *X*              |

#### Parameters


adminfile
: A file containing package defaults for installing packages.
  This is currently only used on Solaris.  The value will be
  validated according to system rules, which in the case of
  Solaris means that it should either be a fully qualified path
  or it should be in `/var/sadm/install/admin`.

allow_virtual
: Specifies if virtual package names are allowed for install and uninstall.

  Valid values are `true`, `false`, `yes`, `no`.

  Requires features virtual_packages.

allowcdrom
: Tells apt to allow cdrom sources in the sources.list file.
  Normally apt will bail if you try this.

  Valid values are `true`, `false`.

category
: A read-only parameter set by the package.

configfiles
: Whether configfiles should be kept or replaced.  Most packages
  types do not support this parameter. Defaults to `keep`.

  Valid values are `keep`, `replace`.

description
: A read-only parameter set by the package.

ensure
: What state the package should be in. On packaging systems that can
  retrieve new packages on their own, you can choose which package to
  retrieve by specifying a version number or `latest` as the ensure
  value. On packaging systems that manage configuration files separately
  from "normal" system files, you can uninstall config files by
  specifying `purged` as the ensure value. This defaults to `installed`.

  Valid values are `present` (also called `installed`), `absent`, `purged`, `held`, `latest`. Values can match `/./`.

flavor
: OpenBSD supports 'flavors', which are further specifications for
  which type of package you want.

install_options
: An array of additional options to pass when installing a package. These
  options are package-specific, and should be documented by the software
  vendor.  One commonly implemented option is `INSTALLDIR`:

      package { 'mysql':
        ensure          => installed,
        source          => 'N:/packages/mysql-5.5.16-winx64.msi',
        install_options => [ '/S', { 'INSTALLDIR' => 'C:\mysql-5.5' } ],
      }

  Each option in the array can either be a string or a hash, where each
  key and value pair are interpreted in a provider specific way.  Each
  option will automatically be quoted when passed to the install command.

  On Windows, this is the **only** place in Puppet where backslash
  separators should be used.  Note that backslashes in double-quoted
  strings _must_ be double-escaped and backslashes in single-quoted
  strings _may_ be double-escaped.



  Requires features install_options.

instance
: A read-only parameter set by the package.

name
: The package name.  This is the name that the packaging
  system uses internally, which is sometimes (especially on Solaris)
  a name that is basically useless to humans.  If you want to
  abstract package installation, then you can use aliases to provide
  a common name to packages:

      # In the 'openssl' class
      $ssl = $operatingsystem ? {
        solaris => SMCossl,
        default => openssl
      }

      # It is not an error to set an alias to the same value as the
      # object name.
      package { $ssl:
        ensure => installed,
        alias  => openssl
      }

      . etc. .

      $ssh = $operatingsystem ? {
        solaris => SMCossh,
        default => openssh
      }

      # Use the alias to specify a dependency, rather than
      # having another selector to figure it out again.
      package { $ssh:
        ensure  => installed,
        alias   => openssh,
        require => Package[openssl]
      }

package_settings
: Settings that can change the contents or configuration of a package.

  The formatting and effects of package_settings are provider-specific; any
  provider that implements them must explain how to use them in its
  documentation. (Our general expectation is that if a package is
  installed but its settings are out of sync, the provider should
  re-install that package with the desired settings.)

  An example of how package_settings could be used is FreeBSD's port build
  options --- a future version of the provider could accept a hash of options,
  and would reinstall the port if the installed version lacked the correct
  settings.

      package { 'www/apache22':
        package_settings => { 'SUEXEC' => false }
      }

  Again, check the documentation of your platform's package provider to see
  the actual usage.



  Requires features package_settings.

platform
: A read-only parameter set by the package.

provider
: The specific backend to use for this `package`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  aix
  : Installation from an AIX software directory, using the AIX `installp`
    command.  The `source` parameter is required for this provider, and should
    be set to the absolute path (on the puppet agent machine) of a directory
    containing one or more BFF package files.

    The `installp` command will generate a table of contents file (named `.toc`)
    in this directory, and the `name` parameter (or resource title) that you
    specify for your `package` resource must match a package name that exists
    in the `.toc` file.

    Note that package downgrades are *not* supported; if your resource specifies
    a specific version number and there is already a newer version of the package
    installed on the machine, the resource will fail with an error message.

    * Required binaries: `/usr/bin/lslpp`, `/usr/sbin/installp`.
    * Default for `operatingsystem` == `aix`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  appdmg
  : Package management which copies application bundles to a target.

    * Required binaries: `/usr/bin/curl`, `/usr/bin/ditto`, `/usr/bin/hdiutil`.
    * Supported features: `installable`.

  apple
  : Package management based on OS X's builtin packaging system.  This is
    essentially the simplest and least functional package system in existence --
    it only supports installation; no deletion or upgrades.  The provider will
    automatically add the `.pkg` extension, so leave that off when specifying
    the package name.

    * Required binaries: `/usr/sbin/installer`.
    * Supported features: `installable`.

  apt
  : Package management via `apt-get`.

    * Required binaries: `/usr/bin/apt-cache`, `/usr/bin/apt-get`, `/usr/bin/debconf-set-selections`.
    * Default for `operatingsystem` == `debian, ubuntu`.
    * Supported features: `holdable`, `install_options`, `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`.

  aptitude
  : Package management via `aptitude`.

    * Required binaries: `/usr/bin/apt-cache`, `/usr/bin/aptitude`.
    * Supported features: `holdable`, `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`.

  aptrpm
  : Package management via `apt-get` ported to `rpm`.

    * Required binaries: `apt-cache`, `apt-get`, `rpm`.
    * Supported features: `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`.

  blastwave
  : Package management using Blastwave.org's `pkg-get` command on Solaris.

    * Required binaries: `pkg-get`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  dpkg
  : Package management via `dpkg`.  Because this only uses `dpkg`
    and not `apt`, you must specify the source of any packages you want
    to manage.

    * Required binaries: `/usr/bin/dpkg-deb`, `/usr/bin/dpkg-query`, `/usr/bin/dpkg`.
    * Supported features: `holdable`, `installable`, `purgeable`, `uninstallable`, `upgradeable`.

  fink
  : Package management via `fink`.

    * Required binaries: `/sw/bin/apt-cache`, `/sw/bin/apt-get`, `/sw/bin/dpkg-query`, `/sw/bin/fink`.
    * Supported features: `holdable`, `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`.

  freebsd
  : The specific form of package management on FreeBSD.  This is an
    extremely quirky packaging system, in that it freely mixes between
    ports and packages.  Apparently all of the tools are written in Ruby,
    so there are plans to rewrite this support to directly use those
    libraries.

    * Required binaries: `/usr/sbin/pkg_add`, `/usr/sbin/pkg_delete`, `/usr/sbin/pkg_info`.
    * Supported features: `installable`, `purgeable`, `uninstallable`.

  gem
  : Ruby Gem support.  If a URL is passed via `source`, then that URL is used as the
    remote gem repository; if a source is present but is not a valid URL, it will be
    interpreted as the path to a local gem file.  If source is not present at all,
    the gem will be installed from the default gem repositories.

    * Required binaries: `gem`.
    * Supported features: `install_options`, `installable`, `uninstallable`, `upgradeable`, `versionable`.

  hpux
  : HP-UX's packaging system.

    * Required binaries: `/usr/sbin/swinstall`, `/usr/sbin/swlist`, `/usr/sbin/swremove`.
    * Default for `operatingsystem` == `hp-ux`.
    * Supported features: `installable`, `uninstallable`.

  macports
  : Package management using MacPorts on OS X.

    Supports MacPorts versions and revisions, but not variants.
    Variant preferences may be specified using
    [the MacPorts variants.conf file](http://guide.macports.org/chunked/internals.configuration-files.html#internals.configuration-files.variants-conf).

    When specifying a version in the Puppet DSL, only specify the version, not the revision.
    Revisions are only used internally for ensuring the latest version/revision of a port.

    * Required binaries: `/opt/local/bin/port`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  msi
  : Windows package management by installing and removing MSIs.

    The `msi` provider is deprecated. Use the `windows` provider instead.

    * Supported features: `install_options`, `installable`, `uninstall_options`, `uninstallable`.

  nim
  : Installation from an AIX NIM LPP source.  The `source` parameter is required
    for this provider, and should specify the name of a NIM `lpp_source` resource
    that is visible to the puppet agent machine.  This provider supports the
    management of both BFF/installp and RPM packages.

    Note that package downgrades are *not* supported; if your resource specifies
    a specific version number and there is already a newer version of the package
    installed on the machine, the resource will fail with an error message.

    * Required binaries: `/usr/bin/lslpp`, `/usr/sbin/nimclient`, `rpm`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  openbsd
  : OpenBSD's form of `pkg_add` support.

    * Required binaries: `pkg_add`, `pkg_delete`, `pkg_info`.
    * Default for `operatingsystem` == `openbsd`.
    * Supported features: `install_options`, `installable`, `purgeable`, `uninstall_options`, `uninstallable`, `versionable`.

  opkg
  : Opkg packaging support. Common on OpenWrt and OpenEmbedded platforms

    * Required binaries: `opkg`.
    * Default for `operatingsystem` == `openwrt`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  pacman
  : Support for the Package Manager Utility (pacman) used in Archlinux.

    * Required binaries: `/usr/bin/pacman`.
    * Default for `operatingsystem` == `archlinux`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  pip
  : Python packages via `pip`.

    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  pkg
  : OpenSolaris image packaging system. See pkg(5) for more information

    * Required binaries: `/usr/bin/pkg`.
    * Default for `kernelrelease` == `5.11` and `osfamily` == `solaris`.
    * Supported features: `holdable`, `installable`, `uninstallable`, `upgradeable`, `versionable`.

  pkgdmg
  : Package management based on Apple's Installer.app and DiskUtility.app.

    This provider works by checking the contents of a DMG image for Apple pkg or
    mpkg files. Any number of pkg or mpkg files may exist in the root directory
    of the DMG file system, and Puppet will install all of them. Subdirectories
    are not checked for packages.

    This provider can also accept plain .pkg (but not .mpkg) files in addition
    to .dmg files.

    Notes:

    * The `source` attribute is mandatory. It must be either a local disk path
      or an HTTP, HTTPS, or FTP URL to the package.
    * The `name` of the resource must be the filename (without path) of the DMG file.
    * When installing the packages from a DMG, this provider writes a file to
      disk at `/var/db/.puppet_pkgdmg_installed_NAME`. If that file is present,
      Puppet assumes all packages from that DMG are already installed.
    * This provider is not versionable and uses DMG filenames to determine
      whether a package has been installed. Thus, to install new a version of a
      package, you must create a new DMG with a different filename.

    * Required binaries: `/usr/bin/curl`, `/usr/bin/hdiutil`, `/usr/sbin/installer`.
    * Default for `operatingsystem` == `darwin`.
    * Supported features: `installable`.

  pkgin
  : Package management using pkgin, a binary package manager for pkgsrc.

    * Required binaries: `pkgin`.
    * Default for `operatingsystem` == `dragonfly, smartos`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  pkgutil
  : Package management using Peter Bonivart's ``pkgutil`` command on Solaris.

    * Required binaries: `pkgutil`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  portage
  : Provides packaging support for Gentoo's portage system.

    * Required binaries: `/usr/bin/eix-update`, `/usr/bin/eix`, `/usr/bin/emerge`.
    * Default for `operatingsystem` == `gentoo`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  ports
  : Support for FreeBSD's ports.  Note that this, too, mixes packages and ports.

    * Required binaries: `/usr/local/sbin/pkg_deinstall`, `/usr/local/sbin/portupgrade`, `/usr/local/sbin/portversion`, `/usr/sbin/pkg_info`.
    * Default for `operatingsystem` == `freebsd`.
    * Supported features: `installable`, `purgeable`, `uninstallable`, `upgradeable`.

  portupgrade
  : Support for FreeBSD's ports using the portupgrade ports management software.
    Use the port's full origin as the resource name. eg (ports-mgmt/portupgrade)
    for the portupgrade port.

    * Required binaries: `/usr/local/sbin/pkg_deinstall`, `/usr/local/sbin/portinstall`, `/usr/local/sbin/portupgrade`, `/usr/local/sbin/portversion`, `/usr/sbin/pkg_info`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  rpm
  : RPM packaging support; should work anywhere with a working `rpm`
    binary.

    This provider supports the `install_options` and `uninstall_options`
    attributes, which allow command-line flags to be passed to the RPM binary.
    These options should be specified as an array, where each element is either
    a string or a `{'--flag' => 'value'}` hash. (That hash example would be
    equivalent to a `'--flag=value'` string; the hash syntax is available as a
    convenience.)

    * Required binaries: `rpm`.
    * Supported features: `install_options`, `installable`, `uninstall_options`, `uninstallable`, `upgradeable`, `versionable`, `virtual_packages`.

  rug
  : Support for suse `rug` package manager.

    * Required binaries: `/usr/bin/rug`, `rpm`.
    * Default for `operatingsystem` == `suse, sles`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`, `versionable`.

  sun
  : Sun's packaging system.  Requires that you specify the source for
    the packages you're managing.

    * Required binaries: `/usr/bin/pkginfo`, `/usr/sbin/pkgadd`, `/usr/sbin/pkgrm`.
    * Default for `osfamily` == `solaris`.
    * Supported features: `install_options`, `installable`, `uninstallable`, `upgradeable`.

  sunfreeware
  : Package management using sunfreeware.com's `pkg-get` command on Solaris.
    At this point, support is exactly the same as `blastwave` support and
    has not actually been tested.

    * Required binaries: `pkg-get`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  up2date
  : Support for Red Hat's proprietary `up2date` package update
    mechanism.

    * Required binaries: `/usr/sbin/up2date-nox`.
    * Default for `lsbdistrelease` == `2.1, 3, 4` and `osfamily` == `redhat`.
    * Supported features: `installable`, `uninstallable`, `upgradeable`.

  urpmi
  : Support via `urpmi`.

    * Required binaries: `rpm`, `urpme`, `urpmi`, `urpmq`.
    * Default for `operatingsystem` == `mandriva, mandrake`.
    * Supported features: `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`.

  windows
  : Windows package management.

    This provider supports either MSI or self-extracting executable installers.

    This provider requires a `source` attribute when installing the package.
    It accepts paths to local files, mapped drives, or UNC paths.

    If the executable requires special arguments to perform a silent install or
    uninstall, then the appropriate arguments should be specified using the
    `install_options` or `uninstall_options` attributes, respectively.  Puppet
    will automatically quote any option that contains spaces.

    * Default for `operatingsystem` == `windows`.
    * Supported features: `install_options`, `installable`, `uninstall_options`, `uninstallable`, `versionable`.

  yum
  : Support via `yum`.

    Using this provider's `uninstallable` feature will not remove dependent packages. To
    remove dependent packages with this provider use the `purgeable` feature, but note this
    feature is destructive and should be used with the utmost care.

    * Required binaries: `python`, `rpm`, `yum`.
    * Default for `operatingsystem` == `fedora, centos, redhat`.
    * Supported features: `install_options`, `installable`, `purgeable`, `uninstallable`, `upgradeable`, `versionable`, `virtual_packages`.

  zypper
  : Support for SuSE `zypper` package manager. Found in SLES10sp2+ and SLES11

    * Required binaries: `/usr/bin/zypper`.
    * Supported features: `install_options`, `installable`, `uninstallable`, `upgradeable`, `versionable`, `virtual_packages`.

responsefile
: A file containing any necessary answers to questions asked by
  the package.  This is currently used on Solaris and Debian.  The
  value will be validated according to system rules, but it should
  generally be a fully qualified path.

root
: A read-only parameter set by the package.

source
: Where to find the actual package. This must be a local file
  (or on a network file system) or a URL that your specific
  packaging type understands; Puppet will not retrieve files for you,
  although you can manage packages as `file` resources.

status
: A read-only parameter set by the package.

uninstall_options
: An array of additional options to pass when uninstalling a package. These
  options are package-specific, and should be documented by the software
  vendor.  For example:

      package { 'VMware Tools':
        ensure            => absent,
        uninstall_options => [ { 'REMOVE' => 'Sync,VSS' } ],
      }

  Each option in the array can either be a string or a hash, where each
  key and value pair are interpreted in a provider specific way.  Each
  option will automatically be quoted when passed to the uninstall
  command.

  On Windows, this is the **only** place in Puppet where backslash
  separators should be used.  Note that backslashes in double-quoted
  strings _must_ be double-escaped and backslashes in single-quoted
  strings _may_ be double-escaped.



  Requires features uninstall_options.

vendor
: A read-only parameter set by the package.




----------------

### resources

This is a metatype that can manage other resource types.  Any
metaparams specified here will be passed on to any generated resources,
so you can purge umanaged resources but set `noop` to true so the
purging is only logged and does not actually happen.

#### Parameters


name
: The name of the type to be managed.

purge
: Purge unmanaged resources.  This will delete any resource
  that is not specified in your configuration
  and is not required by any specified resources.
  Purging ssh_authorized_keys this way is deprecated; see the
  purge_ssh_keys parameter of the user type for a better alternative.

  Valid values are `true`, `false`, `yes`, `no`.

unless_system_user
: This keeps system users from being purged.  By default, it
  does not purge users whose UIDs are less than or equal to 500, but you can specify
  a different UID as the inclusive limit.

  Valid values are `true`, `false`. Values can match `/^\d+$/`.

unless_uid
: This keeps specific uids or ranges of uids from being purged when purge is true.
  Accepts ranges, integers and (mixed) arrays of both.




----------------

### router

Manages connected router.

#### Parameters


url
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  An SSH or telnet URL at which to access the router, in the form
  `ssh://user:pass:enable@host/` or `telnet://user:pass:enable@host/`.




----------------

### schedule

Define schedules for Puppet. Resources can be limited to a schedule by using the
[`schedule`](http://docs.puppetlabs.com/references/latest/metaparameter.html#schedule)
metaparameter.

Currently, **schedules can only be used to stop a resource from being
applied;** they cannot cause a resource to be applied when it otherwise
wouldn't be, and they cannot accurately specify a time when a resource
should run.

Every time Puppet applies its configuration, it will apply the
set of resources whose schedule does not eliminate them from
running right then, but there is currently no system in place to
guarantee that a given resource runs at a given time.  If you
specify a very  restrictive schedule and Puppet happens to run at a
time within that schedule, then the resources will get applied;
otherwise, that work may never get done.

Thus, it is advisable to use wider scheduling (e.g., over a couple of
hours) combined with periods and repetitions.  For instance, if you
wanted to restrict certain resources to only running once, between
the hours of two and 4 AM, then you would use this schedule:

    schedule { 'maint':
      range  => "2 - 4",
      period => daily,
      repeat => 1,
    }

With this schedule, the first time that Puppet runs between 2 and 4 AM,
all resources with this schedule will get applied, but they won't
get applied again between 2 and 4 because they will have already
run once that day, and they won't get applied outside that schedule
because they will be outside the scheduled range.

Puppet automatically creates a schedule for each of the valid periods
with the same name as that period (e.g., hourly and daily).
Additionally, a schedule named `puppet` is created and used as the
default, with the following attributes:

    schedule { 'puppet':
      period => hourly,
      repeat => 2,
    }

This will cause resources to be applied every 30 minutes by default.

#### Parameters


name
: The name of the schedule.  This name is used when assigning the schedule
  to a resource with the `schedule` metaparameter:

      schedule { 'everyday':
        period => daily,
        range  => "2 - 4",
      }

      exec { "/usr/bin/apt-get update":
        schedule => 'everyday',
      }

period
: The period of repetition for resources on this schedule. The default is
  for resources to get applied every time Puppet runs.

  Note that the period defines how often a given resource will get
  applied but not when; if you would like to restrict the hours
  that a given resource can be applied (e.g., only at night during
  a maintenance window), then use the `range` attribute.

  If the provided periods are not sufficient, you can provide a
  value to the *repeat* attribute, which will cause Puppet to
  schedule the affected resources evenly in the period the
  specified number of times.  Take this schedule:

      schedule { 'veryoften':
        period => hourly,
        repeat => 6,
      }

  This can cause Puppet to apply that resource up to every 10 minutes.

  At the moment, Puppet cannot guarantee that level of repetition; that
  is, the resource can applied _up to_ every 10 minutes, but internal
  factors might prevent it from actually running that often (e.g. if a
  Puppet run is still in progress when the next run is scheduled to start,
  that next run will be suppressed).

  See the `periodmatch` attribute for tuning whether to match
  times by their distance apart or by their specific value.

  Valid values are `hourly`, `daily`, `weekly`, `monthly`, `never`.

periodmatch
: Whether periods should be matched by number (e.g., the two times
  are in the same hour) or by distance (e.g., the two times are
  60 minutes apart).

  Valid values are `number`, `distance`.

range
: The earliest and latest that a resource can be applied.  This is
  always a hyphen-separated range within a 24 hour period, and hours
  must be specified in numbers between 0 and 23, inclusive.  Minutes and
  seconds can optionally be provided, using the normal colon as a
  separator. For instance:

      schedule { 'maintenance':
        range => "1:30 - 4:30",
      }

  This is mostly useful for restricting certain resources to being
  applied in maintenance windows or during off-peak hours. Multiple
  ranges can be applied in array context. As a convenience when specifying
  ranges, you may cross midnight (e.g.: range => "22:00 - 04:00").

repeat
: How often a given resource may be applied in this schedule's `period`.
  Defaults to 1; must be an integer.

weekday
: The days of the week in which the schedule should be valid.
  You may specify the full day name (Tuesday), the three character
  abbreviation (Tue), or a number corresponding to the day of the
  week where 0 is Sunday, 1 is Monday, etc. Multiple days can be specified
  as an array. If not specified, the day of the week will not be
  considered in the schedule.

  If you are also using a range match that spans across midnight
  then this parameter will match the day that it was at the start
  of the range, not necessarily the day that it is when it matches.
  For example, consider this schedule:

      schedule { 'maintenance_window':
        range   => '22:00 - 04:00',
        weekday => 'Saturday',
      }

  This will match at 11 PM on Saturday and 2 AM on Sunday, but not
  at 2 AM on Saturday.




----------------

### scheduled_task

Installs and manages Windows Scheduled Tasks.  All attributes
except `name`, `command`, and `trigger` are optional; see the description
of the `trigger` attribute for details on setting schedules.

#### Parameters


arguments
: Any arguments or flags that should be passed to the command. Multiple arguments
  should be specified as a space-separated string.

command
: The full path to the application to run, without any arguments.

enabled
: Whether the triggers for this task should be enabled. This attribute
  affects every trigger for the task; triggers cannot be enabled or
  disabled individually.

  Valid values are `true`, `false`.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

name
: The name assigned to the scheduled task.  This will uniquely
  identify the task on the system.

password
: The password for the user specified in the 'user' attribute.
  This is only used if specifying a user other than 'SYSTEM'.
  Since there is no way to retrieve the password used to set the
  account information for a task, this parameter will not be used
  to determine if a scheduled task is in sync or not.

provider
: The specific backend to use for this `scheduled_task`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  win32_taskscheduler
  : This provider uses the win32-taskscheduler gem to manage scheduled
    tasks on Windows.

    Puppet requires version 0.2.1 or later of the win32-taskscheduler gem;
    previous versions can cause "Could not evaluate: The operation completed
    successfully" errors.

    * Default for `operatingsystem` == `windows`.

trigger
: One or more triggers defining when the task should run. A single trigger is
  represented as a hash, and multiple triggers can be specified with an array of
  hashes.

  A trigger can contain the following keys:

  * For all triggers:
      * `schedule` **(Required)** --- The schedule type. Valid values are
        `daily`, `weekly`, `monthly`, or `once`.
      * `start_time` **(Required)** --- The time of day when the trigger should
        first become active. Several time formats will work, but we
        suggest 24-hour time formatted as HH:MM.
      * `start_date` ---  The date when the trigger should first become active.
        Defaults to the current date. You should format dates as YYYY-MM-DD,
        although other date formats may work. (Under the hood, this uses `Date.parse`.)
  * For daily triggers:
      * `every` --- How often the task should run, as a number of days. Defaults
        to 1. ("2" means every other day, "3" means every three days, etc.)
  * For weekly triggers:
      * `every` --- How often the task should run, as a number of weeks. Defaults
        to 1. ("2" means every other week, "3" means every three weeks, etc.)
      * `day_of_week` --- Which days of the week the task should run, as an array.
        Defaults to all days. Each day must be one of `mon`, `tues`,
        `wed`, `thurs`, `fri`, `sat`, `sun`, or `all`.
  * For monthly-by-date triggers:
      * `months` --- Which months the task should run, as an array. Defaults to
        all months. Each month must be an integer between 1 and 12.
      * `on` **(Required)** --- Which days of the month the task should run,
        as an array. Each day must beeither an integer between 1 and 31,
        or the special value `last,` which is always the last day of the month.
  * For monthly-by-weekday triggers:
      * `months` --- Which months the task should run, as an array. Defaults to
        all months. Each month must be an integer between 1 and 12.
      * `day_of_week` **(Required)** --- Which day of the week the task should
        run, as an array with only one element. Each day must be one of `mon`,
        `tues`, `wed`, `thurs`, `fri`, `sat`, `sun`, or `all`.
      * `which_occurrence` **(Required)** --- The occurrence of the chosen weekday
        when the task should run. Must be one of `first`, `second`, `third`,
        `fourth`, `fifth`, or `last`.

  Examples:

      # Run at 8am on the 1st, 15th, and last day of the month in January, March,
      # May, July, September, and November, starting after August 31st, 2011.
      trigger => {
        schedule   => monthly,
        start_date => '2011-08-31',   # Defaults to current date
        start_time => '08:00',        # Must be specified
        months     => [1,3,5,7,9,11], # Defaults to all
        on         => [1, 15, last],  # Must be specified
      }

      # Run at 8am on the first Monday of the month for January, March, and May,
      # starting after August 31st, 2011.
      trigger => {
        schedule         => monthly,
        start_date       => '2011-08-31', # Defaults to current date
        start_time       => '08:00',      # Must be specified
        months           => [1,3,5],      # Defaults to all
        which_occurrence => first,        # Must be specified
        day_of_week      => [mon],        # Must be specified
      }

user
: The user to run the scheduled task as.  Please note that not
  all security configurations will allow running a scheduled task
  as 'SYSTEM', and saving the scheduled task under these
  conditions will fail with a reported error of 'The operation
  completed successfully'.  It is recommended that you either
  choose another user to run the scheduled task, or alter the
  security policy to allow v1 scheduled tasks to run as the
  'SYSTEM' account.  Defaults to 'SYSTEM'.

  Please also note that Puppet must be running as a privileged user
  in order to manage `scheduled_task` resources. Running as an
  unprivileged user will result in 'access denied' errors.

working_dir
: The full path of the directory in which to start the command.




----------------

### selboolean

Manages SELinux booleans on systems with SELinux support.  The supported booleans
are any of the ones found in `/selinux/booleans/`.

#### Parameters


name
: The name of the SELinux boolean to be managed.

persistent
: If set true, SELinux booleans will be written to disk and persist accross reboots.
  The default is `false`.

  Valid values are `true`, `false`.

provider
: The specific backend to use for this `selboolean`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  getsetsebool
  : Manage SELinux booleans using the getsebool and setsebool binaries.

    * Required binaries: `/usr/sbin/getsebool`, `/usr/sbin/setsebool`.

value
: Whether the SELinux boolean should be enabled or disabled.

  Valid values are `on`, `off`.




----------------

### selmodule

Manages loading and unloading of SELinux policy modules
on the system.  Requires SELinux support.  See man semodule(8)
for more information on SELinux policy modules.

**Autorequires:** If Puppet is managing the file containing this SELinux
policy module (which is either explicitly specified in the `selmodulepath`
attribute or will be found at {`selmoduledir`}/{`name`}.pp), the selmodule
resource will autorequire that file.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

name
: The name of the SELinux policy to be managed.  You should not
  include the customary trailing .pp extension.

provider
: The specific backend to use for this `selmodule`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  semodule
  : Manage SELinux policy modules using the semodule binary.

    * Required binaries: `/usr/sbin/semodule`.

selmoduledir
: The directory to look for the compiled pp module file in.
  Currently defaults to `/usr/share/selinux/targeted`.  If the
  `selmodulepath` attribute is not specified, Puppet will expect to find
  the module in `<selmoduledir>/<name>.pp`, where `name` is the value of the
  `name` parameter.

selmodulepath
: The full path to the compiled .pp policy module.  You only need to use
  this if the module file is not in the `selmoduledir` directory.

syncversion
: If set to `true`, the policy will be reloaded if the
  version found in the on-disk file differs from the loaded
  version.  If set to `false` (the default) the only check
  that will be made is if the policy is loaded at all or not.

  Valid values are `true`, `false`.




----------------

### service

Manage running services.  Service support unfortunately varies
widely by platform --- some platforms have very little if any concept of a
running service, and some have a very codified and powerful concept.
Puppet's service support is usually capable of doing the right thing, but
the more information you can provide, the better behaviour you will get.

Puppet 2.7 and newer expect init scripts to have a working status command.
If this isn't the case for any of your services' init scripts, you will
need to set `hasstatus` to false and possibly specify a custom status
command in the `status` attribute. As a last resort, Puppet will attempt to
search the process table by calling whatever command is listed in the `ps`
fact. The default search pattern is the name of the service, but you can
specify it with the `pattern` attribute.

**Refresh:** `service` resources can respond to refresh events (via
`notify`, `subscribe`, or the `~>` arrow). If a `service` receives an
event from another resource, Puppet will restart the service it manages.
The actual command used to restart the service depends on the platform and
can be configured:

* If you set `hasrestart` to true, Puppet will use the init script's restart command.
* You can provide an explicit command for restarting with the `restart` attribute.
* If you do neither, the service's stop and start commands will be used.

#### Features

- *controllable*: The provider uses a control variable.
- *enableable*: The provider can enable and disable the service
- *flaggable*: The provider can pass flags to the service.
- *refreshable*: The provider can restart the service.


Provider    | controllable | enableable | flaggable | refreshable |
----------- | ------------ | ---------- | --------- | ----------- |
base        |              |            |           | *X*         |
bsd         |              | *X*        |           | *X*         |
daemontools |              | *X*        |           | *X*         |
debian      |              | *X*        |           | *X*         |
freebsd     |              | *X*        |           | *X*         |
gentoo      |              | *X*        |           | *X*         |
init        |              |            |           | *X*         |
launchd     |              | *X*        |           | *X*         |
openbsd     |              | *X*        | *X*       | *X*         |
openrc      |              | *X*        |           | *X*         |
openwrt     |              | *X*        |           | *X*         |
redhat      |              | *X*        |           | *X*         |
runit       |              | *X*        |           | *X*         |
service     |              |            |           | *X*         |
smf         |              | *X*        |           | *X*         |
src         |              | *X*        |           | *X*         |
systemd     |              | *X*        |           | *X*         |
upstart     |              | *X*        |           | *X*         |
windows     |              | *X*        |           | *X*         |

#### Parameters


binary
: The path to the daemon.  This is only used for
  systems that do not support init scripts.  This binary will be
  used to start the service if no `start` parameter is
  provided.

control
: The control variable used to manage services (originally for HP-UX).
  Defaults to the upcased service name plus `START` replacing dots with
  underscores, for those providers that support the `controllable` feature.

enable
: Whether a service should be enabled to start at boot.
  This property behaves quite differently depending on the platform;
  wherever possible, it relies on local tools to enable or disable
  a given service.

  Valid values are `true`, `false`, `manual`.

  Requires features enableable.

ensure
: Whether a service should be running.

  Valid values are `stopped` (also called `false`), `running` (also called `true`).

flags
: Specify a string of flags to pass to the startup script.



  Requires features flaggable.

hasrestart
: Specify that an init script has a `restart` command.  If this is
  false and you do not specify a command in the `restart` attribute,
  the init script's `stop` and `start` commands will be used.

  Defaults to false.

  Valid values are `true`, `false`.

hasstatus
: Declare whether the service's init script has a functional status
  command; defaults to `true`. This attribute's default value changed in
  Puppet 2.7.0.

  The init script's status command must return 0 if the service is
  running and a nonzero value otherwise. Ideally, these exit codes
  should conform to [the LSB's specification][lsb-exit-codes] for init
  script status actions, but Puppet only considers the difference
  between 0 and nonzero to be relevant.

  If a service's init script does not support any kind of status command,
  you should set `hasstatus` to false and either provide a specific
  command using the `status` attribute or expect that Puppet will look for
  the service name in the process table. Be aware that 'virtual' init
  scripts (like 'network' under Red Hat systems) will respond poorly to
  refresh events from other resources if you override the default behavior
  without providing a status command.

  Valid values are `true`, `false`.

manifest
: Specify a command to config a service, or a path to a manifest to do so.

name
: The name of the service to run.

  This name is used to find the service; on platforms where services
  have short system names and long display names, this should be the
  short name. (To take an example from Windows, you would use "wuauserv"
  rather than "Automatic Updates.")

path
: The search path for finding init scripts.  Multiple values should
  be separated by colons or provided as an array.

pattern
: The pattern to search for in the process table.
  This is used for stopping services on platforms that do not
  support init scripts, and is also used for determining service
  status on those service whose init scripts do not include a status
  command.

  Defaults to the name of the service. The pattern can be a simple string
  or any legal Ruby pattern, including regular expressions (which should
  be quoted without enclosing slashes).

provider
: The specific backend to use for this `service`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  base
  : The simplest form of Unix service support.

    You have to specify enough about your service for this to work; the
    minimum you can specify is a binary for starting the process, and this
    same binary will be searched for in the process table to stop the
    service.  As with `init`-style services, it is preferable to specify start,
    stop, and status commands.

    * Required binaries: `kill`.
    * Supported features: `refreshable`.

  bsd
  : FreeBSD's (and probably NetBSD's?) form of `init`-style service management.

    Uses `rc.conf.d` for service enabling and disabling.

    * Supported features: `enableable`, `refreshable`.

  daemontools
  : Daemontools service management.

    This provider manages daemons supervised by D.J. Bernstein daemontools.
    When detecting the service directory it will check, in order of preference:

    * `/service`
    * `/etc/service`
    * `/var/lib/svscan`

    The daemon directory should be in one of the following locations:

    * `/var/lib/service`
    * `/etc`

    ...or this can be overriden in the resource's attributes:

        service { "myservice":
          provider => "daemontools",
          path     => "/path/to/daemons",
        }

    This provider supports out of the box:

    * start/stop (mapped to enable/disable)
    * enable/disable
    * restart
    * status

    If a service has `ensure => "running"`, it will link /path/to/daemon to
    /path/to/service, which will automatically enable the service.

    If a service has `ensure => "stopped"`, it will only shut down the service, not
    remove the `/path/to/service` link.

    * Required binaries: `/usr/bin/svc`, `/usr/bin/svstat`.
    * Supported features: `enableable`, `refreshable`.

  debian
  : Debian's form of `init`-style management.

    The only differences from `init` are support for enabling and disabling
    services via `update-rc.d` and the ability to determine enabled status via
    `invoke-rc.d`.

    * Required binaries: `/usr/sbin/invoke-rc.d`, `/usr/sbin/update-rc.d`.
    * Default for `operatingsystem` == `debian`.
    * Supported features: `enableable`, `refreshable`.

  freebsd
  : Provider for FreeBSD and DragonFly BSD. Uses the `rcvar` argument of init scripts and parses/edits rc files.

    * Default for `operatingsystem` == `freebsd, dragonfly`.
    * Supported features: `enableable`, `refreshable`.

  gentoo
  : Gentoo's form of `init`-style service management.

    Uses `rc-update` for service enabling and disabling.

    * Required binaries: `/sbin/rc-update`.
    * Supported features: `enableable`, `refreshable`.

  init
  : Standard `init`-style service management.

    * Supported features: `refreshable`.

  launchd
  : This provider manages jobs with `launchd`, which is the default service
    framework for Mac OS X (and may be available for use on other platforms).

    For `launchd` documentation, see:

    * <http://developer.apple.com/macosx/launchd.html>
    * <http://launchd.macosforge.org/>

    This provider reads plists out of the following directories:

    * `/System/Library/LaunchDaemons`
    * `/System/Library/LaunchAgents`
    * `/Library/LaunchDaemons`
    * `/Library/LaunchAgents`

    ...and builds up a list of services based upon each plist's "Label" entry.

    This provider supports:

    * ensure => running/stopped,
    * enable => true/false
    * status
    * restart

    Here is how the Puppet states correspond to `launchd` states:

    * stopped --- job unloaded
    * started --- job loaded
    * enabled --- 'Disable' removed from job plist file
    * disabled --- 'Disable' added to job plist file

    Note that this allows you to do something `launchctl` can't do, which is to
    be in a state of "stopped/enabled" or "running/disabled".

    Note that this provider does not support overriding 'restart' or 'status'.

    * Required binaries: `/bin/launchctl`, `/usr/bin/plutil`, `/usr/bin/sw_vers`.
    * Default for `operatingsystem` == `darwin`.
    * Supported features: `enableable`, `refreshable`.

  openbsd
  : Provider for OpenBSD's rc.d daemon control scripts

    * Default for `operatingsystem` == `openbsd`.
    * Supported features: `enableable`, `flaggable`, `refreshable`.

  openrc
  : Support for Gentoo's OpenRC initskripts

    Uses rc-update, rc-status and rc-service to manage services.

    * Required binaries: `/bin/rc-status`, `/sbin/rc-service`, `/sbin/rc-update`.
    * Default for `operatingsystem` == `gentoo`. Default for `operatingsystem` == `funtoo`.
    * Supported features: `enableable`, `refreshable`.

  openwrt
  : Support for OpenWrt flavored init scripts.

    Uses /etc/init.d/service_name enable, disable, and enabled.

    * Default for `operatingsystem` == `openwrt`.
    * Supported features: `enableable`, `refreshable`.

  redhat
  : Red Hat's (and probably many others') form of `init`-style service
    management. Uses `chkconfig` for service enabling and disabling.

    * Required binaries: `/sbin/chkconfig`, `/sbin/service`.
    * Default for `osfamily` == `redhat, suse`.
    * Supported features: `enableable`, `refreshable`.

  runit
  : Runit service management.

    This provider manages daemons running supervised by Runit.
    When detecting the service directory it will check, in order of preference:

    * `/service`
    * `/etc/service`
    * `/var/service`

    The daemon directory should be in one of the following locations:

    * `/etc/sv`
    * `/var/lib/service`

    or this can be overriden in the service resource parameters::

        service { "myservice":
          provider => "runit",
          path => "/path/to/daemons",
        }

    This provider supports out of the box:

    * start/stop
    * enable/disable
    * restart
    * status

    * Required binaries: `/usr/bin/sv`.
    * Supported features: `enableable`, `refreshable`.

  service
  : The simplest form of service support.

    * Supported features: `refreshable`.

  smf
  : Support for Sun's new Service Management Framework.

    Starting a service is effectively equivalent to enabling it, so there is
    only support for starting and stopping services, which also enables and
    disables them, respectively.

    By specifying `manifest => "/path/to/service.xml"`, the SMF manifest will
    be imported if it does not exist.

    * Required binaries: `/usr/bin/svcs`, `/usr/sbin/svcadm`, `/usr/sbin/svccfg`.
    * Default for `osfamily` == `solaris`.
    * Supported features: `enableable`, `refreshable`.

  src
  : Support for AIX's System Resource controller.

    Services are started/stopped based on the `stopsrc` and `startsrc`
    commands, and some services can be refreshed with `refresh` command.

    Enabling and disabling services is not supported, as it requires
    modifications to `/etc/inittab`. Starting and stopping groups of subsystems
    is not yet supported.

    * Required binaries: `/usr/bin/lssrc`, `/usr/bin/refresh`, `/usr/bin/startsrc`, `/usr/bin/stopsrc`, `/usr/sbin/chitab`, `/usr/sbin/lsitab`, `/usr/sbin/mkitab`, `/usr/sbin/rmitab`.
    * Default for `operatingsystem` == `aix`.
    * Supported features: `enableable`, `refreshable`.

  systemd
  : Manages `systemd` services using `systemctl`.

    * Required binaries: `systemctl`.
    * Default for `osfamily` == `archlinux`. Default for `operatingsystemmajrelease` == `7` and `osfamily` == `redhat`.
    * Supported features: `enableable`, `refreshable`.

  upstart
  : Ubuntu service management with `upstart`.

    This provider manages `upstart` jobs on Ubuntu. For `upstart` documentation,
    see <http://upstart.ubuntu.com/>.

    * Required binaries: `/sbin/initctl`, `/sbin/restart`, `/sbin/start`, `/sbin/status`, `/sbin/stop`.
    * Default for `operatingsystem` == `ubuntu`.
    * Supported features: `enableable`, `refreshable`.

  windows
  : Support for Windows Service Control Manager (SCM). This provider can
    start, stop, enable, and disable services, and the SCM provides working
    status methods for all services.

    Control of service groups (dependencies) is not yet supported, nor is running
    services as a specific user.

    * Required binaries: `net.exe`.
    * Default for `operatingsystem` == `windows`.
    * Supported features: `enableable`, `refreshable`.

restart
: Specify a *restart* command manually.  If left
  unspecified, the service will be stopped and then started.

start
: Specify a *start* command manually.  Most service subsystems
  support a `start` command, so this will not need to be
  specified.

status
: Specify a *status* command manually.  This command must
  return 0 if the service is running and a nonzero value otherwise.
  Ideally, these exit codes should conform to [the LSB's
  specification][lsb-exit-codes] for init script status actions, but
  Puppet only considers the difference between 0 and nonzero to be
  relevant.

  If left unspecified, the status of the service will be determined
  automatically, usually by looking for the service in the process
  table.

  [lsb-exit-codes]: http://refspecs.linuxfoundation.org/LSB_4.1.0/LSB-Core-generic/LSB-Core-generic/iniscrptact.html

stop
: Specify a *stop* command manually.




----------------

### ssh_authorized_key

Manages SSH authorized keys. Currently only type 2 keys are
supported.

**Autorequires:** If Puppet is managing the user account in which this
SSH key should be installed, the `ssh_authorized_key` resource will autorequire
that user.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

key
: The public key itself; generally a long string of hex characters. The key attribute
  may not contain whitespace: Omit key headers (e.g. 'ssh-rsa') and key identifiers
  (e.g. 'joe@joescomputer.local') found in the public key file.

name
: The SSH key comment. This attribute is currently used as a
  system-wide primary key and therefore has to be unique.

options
: Key options, see sshd(8) for possible values. Multiple values
  should be specified as an array.

provider
: The specific backend to use for this `ssh_authorized_key`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  parsed
  : Parse and generate authorized_keys files for SSH.

target
: The absolute filename in which to store the SSH key. This
  property is optional and should only be used in cases where keys
  are stored in a non-standard location (i.e.` not in
  `~user/.ssh/authorized_keys`).

type
: The encryption type used: ssh-dss or ssh-rsa.

  Valid values are `ssh-dss` (also called `dsa`), `ssh-rsa` (also called `rsa`), `ecdsa-sha2-nistp256`, `ecdsa-sha2-nistp384`, `ecdsa-sha2-nistp521`, `ssh-ed25519` (also called `ed25519`).

user
: The user account in which the SSH key should be installed.
  The resource will automatically depend on this user.




----------------

### sshkey

Installs and manages ssh host keys.  At this point, this type
only knows how to install keys into `/etc/ssh/ssh_known_hosts`.  See
the `ssh_authorized_key` type to manage authorized keys.

#### Parameters


ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

host_aliases
: Any aliases the host might have.  Multiple values must be
  specified as an array.

key
: The key itself; generally a long string of hex digits.

name
: The host name that the key is associated with.

provider
: The specific backend to use for this `sshkey`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  parsed
  : Parse and generate host-wide known hosts files for SSH.

target
: The file in which to store the ssh key.  Only used by
  the `parsed` provider.

type
: The encryption type used.  Probably ssh-dss or ssh-rsa.

  Valid values are `ssh-dss` (also called `dsa`), `ssh-ed25519` (also called `ed25519`), `ssh-rsa` (also called `rsa`), `ecdsa-sha2-nistp256`, `ecdsa-sha2-nistp384`, `ecdsa-sha2-nistp521`.




----------------

### stage

A resource type for creating new run stages.  Once a stage is available,
classes can be assigned to it by declaring them with the resource-like syntax
and using
[the `stage` metaparameter](http://docs.puppetlabs.com/references/latest/metaparameter.html#stage).

Note that new stages are not useful unless you also declare their order
in relation to the default `main` stage.

A complete run stage example:

    stage { 'pre':
      before => Stage['main'],
    }

    class { 'apt-updates':
      stage => 'pre',
    }

Individual resources cannot be assigned to run stages; you can only set stages
for classes.

#### Parameters


name
: The name of the stage. Use this as the value for the `stage` metaparameter
  when assigning classes to this stage.




----------------

### tidy

Remove unwanted files based on specific criteria.  Multiple
criteria are OR'd together, so a file that is too large but is not
old enough will still get tidied.

If you don't specify either `age` or `size`, then all files will
be removed.

This resource type works by generating a file resource for every file
that should be deleted and then letting that resource perform the
actual deletion.

#### Parameters


age
: Tidy files whose age is equal to or greater than
  the specified time.  You can choose seconds, minutes,
  hours, days, or weeks by specifying the first letter of any
  of those words (e.g., '1w').

  Specifying 0 will remove all files.

backup
: Whether tidied files should be backed up.  Any values are passed
  directly to the file resources used for actual file deletion, so consult
  the `file` type's backup documentation to determine valid values.

matches
: One or more (shell type) file glob patterns, which restrict
  the list of files to be tidied to those whose basenames match
  at least one of the patterns specified. Multiple patterns can
  be specified using an array.

  Example:

      tidy { "/tmp":
        age     => "1w",
        recurse => 1,
        matches => [ "[0-9]pub*.tmp", "*.temp", "tmpfile?" ]
      }

  This removes files from `/tmp` if they are one week old or older,
  are not in a subdirectory and match one of the shell globs given.

  Note that the patterns are matched against the basename of each
  file -- that is, your glob patterns should not have any '/'
  characters in them, since you are only specifying against the last
  bit of the file.

  Finally, note that you must now specify a non-zero/non-false value
  for recurse if matches is used, as matches only apply to files found
  by recursion (there's no reason to use static patterns match against
  a statically determined path).  Requiering explicit recursion clears
  up a common source of confusion.

path
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The path to the file or directory to manage.  Must be fully
  qualified.

recurse
: If target is a directory, recursively descend
  into the directory looking for files to tidy.

  Valid values are `true`, `false`, `inf`. Values can match `/^[0-9]+$/`.

rmdirs
: Tidy directories in addition to files; that is, remove
  directories whose age is older than the specified criteria.
  This will only remove empty directories, so all contained
  files must also be tidied before a directory gets removed.

  Valid values are `true`, `false`, `yes`, `no`.

size
: Tidy files whose size is equal to or greater than
  the specified size.  Unqualified values are in kilobytes, but
  *b*, *k*, *m*, *g*, and *t* can be appended to specify *bytes*,
  *kilobytes*, *megabytes*, *gigabytes*, and *terabytes*, respectively.
  Only the first character is significant, so the full word can also
  be used.

type
: Set the mechanism for determining age. Default: atime.

  Valid values are `atime`, `mtime`, `ctime`.




----------------

### user

Manage users.  This type is mostly built to manage system
users, so it is lacking some features useful for managing normal
users.

This resource type uses the prescribed native tools for creating
groups and generally uses POSIX APIs for retrieving information
about them.  It does not directly modify `/etc/passwd` or anything.

**Autorequires:** If Puppet is managing the user's primary group (as
provided in the `gid` attribute), the user resource will autorequire
that group. If Puppet is managing any role accounts corresponding to the
user's roles, the user resource will autorequire those role accounts.

#### Features

- *allows_duplicates*: The provider supports duplicate users with the same UID.
- *libuser*: Allows local users to be managed on systems that also use some other remote NSS method of managing accounts.
- *manages_aix_lam*: The provider can manage AIX Loadable Authentication Module (LAM) system.
- *manages_expiry*: The provider can manage the expiry date for a user.
- *manages_homedir*: The provider can create and remove home directories.
- *manages_password_age*: The provider can set age requirements and restrictions for passwords.
- *manages_password_salt*: The provider can set a password salt. This is for providers that implement PBKDF2 passwords with salt properties.
- *manages_passwords*: The provider can modify user passwords, by accepting a password hash.
- *manages_shell*: The provider allows for setting shell and validates if possible
- *manages_solaris_rbac*: The provider can manage roles and normal users
- *system_users*: The provider allows you to create system users with lower UIDs.


Provider         | allows_duplicates | libuser | manages_aix_lam | manages_expiry | manages_homedir | manages_password_age | manages_password_salt | manages_passwords | manages_shell | manages_solaris_rbac | system_users |
---------------- | ----------------- | ------- | --------------- | -------------- | --------------- | -------------------- | --------------------- | ----------------- | ------------- | -------------------- | ------------ |
aix              |                   |         | *X*             | *X*            | *X*             | *X*                  |                       | *X*               | *X*           |                      |              |
directoryservice |                   |         |                 |                |                 |                      | *X*                   | *X*               | *X*           |                      |              |
hpuxuseradd      | *X*               |         |                 |                | *X*             |                      |                       | *X*               |               |                      |              |
ldap             |                   |         |                 |                |                 |                      |                       | *X*               | *X*           |                      |              |
pw               | *X*               |         |                 | *X*            | *X*             |                      |                       | *X*               | *X*           |                      |              |
user_role_add    | *X*               |         |                 |                | *X*             | *X*                  |                       | *X*               |               | *X*                  |              |
useradd          | *X*               | *X*     |                 | *X*            | *X*             | *X*                  |                       | *X*               | *X*           |                      | *X*          |
windows_adsi     |                   |         |                 |                | *X*             |                      |                       | *X*               |               |                      |              |

#### Parameters


allowdupe
: Whether to allow duplicate UIDs. Defaults to `false`.

  Valid values are `true`, `false`, `yes`, `no`.

attribute_membership
: Whether specified attribute value pairs should be treated as the
  **complete list** (`inclusive`) or the **minimum list** (`minimum`) of
  attribute/value pairs for the user. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

attributes
: Specify AIX attributes for the user in an array of attribute = value pairs.



  Requires features manages_aix_lam.

auth_membership
: Whether specified auths should be considered the **complete list**
  (`inclusive`) or the **minimum list** (`minimum`) of auths the user
  has. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

auths
: The auths the user has.  Multiple auths should be
  specified as an array.



  Requires features manages_solaris_rbac.

comment
: A description of the user.  Generally the user's full name.

ensure
: The basic state that the object should be in.

  Valid values are `present`, `absent`, `role`.

expiry
: The expiry date for this user. Must be provided in
  a zero-padded YYYY-MM-DD format --- e.g. 2010-02-19.
  If you want to make sure the user account does never
  expire, you can pass the special value `absent`.

  Valid values are `absent`. Values can match `/^\d{4}-\d{2}-\d{2}$/`.

  Requires features manages_expiry.

forcelocal
: Forces the mangement of local accounts when accounts are also
  being managed by some other NSS

  Valid values are `true`, `false`, `yes`, `no`.

  Requires features libuser.

gid
: The user's primary group.  Can be specified numerically or by name.

  This attribute is not supported on Windows systems; use the `groups`
  attribute instead. (On Windows, designating a primary group is only
  meaningful for domain accounts, which Puppet does not currently manage.)

groups
: The groups to which the user belongs.  The primary group should
  not be listed, and groups should be identified by name rather than by
  GID.  Multiple groups should be specified as an array.

home
: The home directory of the user.  The directory must be created
  separately and is not currently checked for existence.

ia_load_module
: The name of the I&A module to use to manage this user.



  Requires features manages_aix_lam.

iterations
: This is the number of iterations of a chained computation of the
  password hash (http://en.wikipedia.org/wiki/PBKDF2).  This parameter
  is used in OS X. This field is required for managing passwords on OS X >= 10.8.



  Requires features manages_password_salt.

key_membership
: Whether specified key/value pairs should be considered the
  **complete list** (`inclusive`) or the **minimum list** (`minimum`) of
  the user's attributes. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

keys
: Specify user attributes in an array of key = value pairs.



  Requires features manages_solaris_rbac.

managehome
: Whether to manage the home directory when managing the user.
  This will create the home directory when `ensure => present`, and
  delete the home directory when `ensure => absent`. Defaults to `false`.

  Valid values are `true`, `false`, `yes`, `no`.

membership
: Whether specified groups should be considered the **complete list**
  (`inclusive`) or the **minimum list** (`minimum`) of groups to which
  the user belongs. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

name
: The user name. While naming limitations vary by operating system,
  it is advisable to restrict names to the lowest common denominator,
  which is a maximum of 8 characters beginning with a letter.

  Note that Puppet considers user names to be case-sensitive, regardless
  of the platform's own rules; be sure to always use the same case when
  referring to a given user.

password
: The user's password, in whatever encrypted format the local
  system requires.

  * Most modern Unix-like systems use salted SHA1 password hashes. You can use
    Puppet's built-in `sha1` function to generate a hash from a password.
  * Mac OS X 10.5 and 10.6 also use salted SHA1 hashes.
  * Mac OS X 10.7 (Lion) uses salted SHA512 hashes. The Puppet Labs [stdlib][]
    module contains a `str2saltedsha512` function which can generate password
    hashes for Lion.
  * Mac OS X 10.8 and higher use salted SHA512 PBKDF2 hashes. When
    managing passwords on these systems the salt and iterations properties
    need to be specified as well as the password.
  * Windows passwords can only be managed in cleartext, as there is no Windows API
    for setting the password hash.

  [stdlib]: https://github.com/puppetlabs/puppetlabs-stdlib/

  Be sure to enclose any value that includes a dollar sign ($) in single
  quotes (') to avoid accidental variable interpolation.



  Requires features manages_passwords.

password_max_age
: The maximum number of days a password may be used before it must be changed.



  Requires features manages_password_age.

password_min_age
: The minimum number of days a password must be used before it may be changed.



  Requires features manages_password_age.

profile_membership
: Whether specified roles should be treated as the **complete list**
  (`inclusive`) or the **minimum list** (`minimum`) of roles
  of which the user is a member. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

profiles
: The profiles the user has.  Multiple profiles should be
  specified as an array.



  Requires features manages_solaris_rbac.

project
: The name of the project associated with a user.



  Requires features manages_solaris_rbac.

provider
: The specific backend to use for this `user`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  aix
  : User management for AIX.

    * Required binaries: `/bin/chpasswd`, `/usr/bin/chuser`, `/usr/bin/mkuser`, `/usr/sbin/lsgroup`, `/usr/sbin/lsuser`, `/usr/sbin/rmuser`.
    * Default for `operatingsystem` == `aix`.
    * Supported features: `manages_aix_lam`, `manages_expiry`, `manages_homedir`, `manages_password_age`, `manages_passwords`, `manages_shell`.

  directoryservice
  : User management on OS X.

    * Required binaries: `/usr/bin/dscacheutil`, `/usr/bin/dscl`, `/usr/bin/dsimport`, `/usr/bin/plutil`, `/usr/bin/uuidgen`.
    * Default for `operatingsystem` == `darwin`.
    * Supported features: `manages_password_salt`, `manages_passwords`, `manages_shell`.

  hpuxuseradd
  : User management for HP-UX. This provider uses the undocumented `-F`
    switch to HP-UX's special `usermod` binary to work around the fact that
    its standard `usermod` cannot make changes while the user is logged in.

    * Required binaries: `/usr/sam/lbin/useradd.sam`, `/usr/sam/lbin/userdel.sam`, `/usr/sam/lbin/usermod.sam`.
    * Default for `operatingsystem` == `hp-ux`.
    * Supported features: `allows_duplicates`, `manages_homedir`, `manages_passwords`.

  ldap
  : User management via LDAP.

    This provider requires that you have valid values for all of the
    LDAP-related settings in `puppet.conf`, including `ldapbase`.  You will
    almost definitely need settings for `ldapuser` and `ldappassword` in order
    for your clients to write to LDAP.

    Note that this provider will automatically generate a UID for you if
    you do not specify one, but it is a potentially expensive operation,
    as it iterates across all existing users to pick the appropriate next one.

    * Supported features: `manages_passwords`, `manages_shell`.

  pw
  : User management via `pw` on FreeBSD and DragonFly BSD.

    * Required binaries: `pw`.
    * Default for `operatingsystem` == `freebsd, dragonfly`.
    * Supported features: `allows_duplicates`, `manages_expiry`, `manages_homedir`, `manages_passwords`, `manages_shell`.

  user_role_add
  : User and role management on Solaris, via `useradd` and `roleadd`.

    * Required binaries: `passwd`, `roleadd`, `roledel`, `rolemod`, `useradd`, `userdel`, `usermod`.
    * Default for `osfamily` == `solaris`.
    * Supported features: `allows_duplicates`, `manages_homedir`, `manages_password_age`, `manages_passwords`, `manages_solaris_rbac`.

  useradd
  : User management via `useradd` and its ilk.  Note that you will need to
    install Ruby's shadow password library (often known as `ruby-libshadow`)
    if you wish to manage user passwords.

    * Required binaries: `chage`, `luseradd`, `useradd`, `userdel`, `usermod`.
    * Supported features: `allows_duplicates`, `libuser`, `manages_expiry`, `manages_homedir`, `manages_password_age`, `manages_passwords`, `manages_shell`, `system_users`.

  windows_adsi
  : Local user management for Windows.

    * Default for `operatingsystem` == `windows`.
    * Supported features: `manages_homedir`, `manages_passwords`.

purge_ssh_keys
: Purge ssh keys authorized for the user
  if they are not managed via ssh_authorized_keys. When true,
  looks for keys in .ssh/authorized_keys in the user's home
  directory. Possible values are true, false, or an array of
  paths to file to search for authorized keys. If a path starts
  with ~ or %h, this token is replaced with the user's home directory.

  Valid values are `true`, `false`.

role_membership
: Whether specified roles should be considered the **complete list**
  (`inclusive`) or the **minimum list** (`minimum`) of roles the user
  has. Defaults to `minimum`.

  Valid values are `inclusive`, `minimum`.

roles
: The roles the user has.  Multiple roles should be
  specified as an array.



  Requires features manages_solaris_rbac.

salt
: This is the 32 byte salt used to generate the PBKDF2 password used in
  OS X. This field is required for managing passwords on OS X >= 10.8.



  Requires features manages_password_salt.

shell
: The user's login shell.  The shell must exist and be
  executable.

  This attribute cannot be managed on Windows systems.



  Requires features manages_shell.

system
: Whether the user is a system user, according to the OS's criteria;
  on most platforms, a UID less than or equal to 500 indicates a system
  user. Defaults to `false`.

  Valid values are `true`, `false`, `yes`, `no`.

uid
: The user ID; must be specified numerically. If no user ID is
  specified when creating a new user, then one will be chosen
  automatically. This will likely result in the same user having
  different UIDs on different systems, which is not recommended. This is
  especially noteworthy when managing the same user on both Darwin and
  other platforms, since Puppet does UID generation on Darwin, but
  the underlying tools do so on other platforms.

  On Windows, this property is read-only and will return the user's
  security identifier (SID).




----------------

### vlan

Manages a VLAN on a router or switch.

#### Parameters


description
: The VLAN's name.

device_url
: The URL of the router or switch maintaining this VLAN.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

name
: The numeric VLAN ID.

  Values can match `/^\d+/`.

provider
: The specific backend to use for this `vlan`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  cisco
  : Cisco switch/router provider for vlans.




----------------

### yumrepo

The client-side description of a yum repository. Repository
configurations are found by parsing `/etc/yum.conf` and
the files indicated by the `reposdir` option in that file
(see `yum.conf(5)` for details).

Most parameters are identical to the ones documented
in the `yum.conf(5)` man page.

Continuation lines that yum supports (for the `baseurl`, for example)
are not supported. This type does not attempt to read or verify the
exinstence of files listed in the `include` attribute.

#### Parameters


baseurl
: The URL for this repository. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

cost
: Cost of this repository. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/\d+/`.

descr
: A human-readable description of the repository.
  This corresponds to the name parameter in `yum.conf(5)`.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

enabled
: Whether this repository is enabled.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

enablegroups
: Whether yum will allow the use of package groups for this
  repository.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

exclude
: List of shell globs. Matching packages will never be
  considered in updates or installs for this repo.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

failovermethod
: The failover method for this repository; should be either
  `roundrobin` or `priority`. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/roundrobin|priority/`.

gpgcheck
: Whether to check the GPG signature on packages installed
  from this repository.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

gpgkey
: The URL for the GPG key with which packages from this
  repository are signed. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

http_caching
: What to cache from this repository. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(packages|all|none)/`.

include
: The URL of a remote file containing additional yum configuration
  settings. Puppet does not check for this file's existence or validity.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

includepkgs
: List of shell globs. If this is set, only packages
  matching one of the globs will be considered for
  update or install from this repo. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

keepalive
: Whether HTTP/1.1 keepalive should be used with this repository.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

metadata_expire
: Number of seconds after which the metadata will expire.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/[0-9]+/`.

metalink
: Metalink for mirrors. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

mirrorlist
: The URL that holds the list of mirrors for this repository.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

name
: The name of the repository.  This corresponds to the
  `repositoryid` parameter in `yum.conf(5)`.

priority
: Priority of this repository from 1-99. Requires that
  the `priorities` plugin is installed and enabled.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

protect
: Enable or disable protection for this repository. Requires
  that the `protectbase` plugin is installed and enabled.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

provider
: The specific backend to use for this `yumrepo`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  inifile
  : Manage yum repo configurations by parsing yum INI configuration files.

    ## Fetching instances

    When fetching repo instances, directory entries in '/etc/yum/repos.d',
    '/etc/yum.repos.d', and the directory optionally specified by the reposdir
    key in '/etc/yum.conf' will be checked. If a given directory does not exist it
    will be ignored. In addition, all sections in '/etc/yum.conf' aside from
    'main' will be created as sections.

    ## Storing instances

    When creating a new repository, a new section will be added in the first
    yum repo directory that exists. The custom directory specified by the
    '/etc/yum.conf' reposdir property is checked first, followed by
    '/etc/yum/repos.d', and then '/etc/yum.repos.d'. If none of these exist, the
    section will be created in '/etc/yum.conf'.

proxy
: URL to the proxy server for this repository. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

proxy_password
: Password for this proxy. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

proxy_username
: Username for this proxy. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

repo_gpgcheck
: Whether to check the GPG signature on repodata.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

s3_enabled
: Access the repo via S3.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

skip_if_unavailable
: Should yum skip this repository if unable to reach it.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

sslcacert
: Path to the directory containing the databases of the
  certificate authorities yum should use to verify SSL certificates.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

sslclientcert
: Path  to the SSL client certificate yum should use to connect
  to repos/remote sites. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

sslclientkey
: Path to the SSL client key yum should use to connect
  to repos/remote sites. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/.*/`.

sslverify
: Should yum verify SSL certificates/hosts at all.
  Valid values are: False/0/No or True/1/Yes.
  Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/(True|False|0|1|No|Yes)/i`.

target
: The filename to write the yum repository to.

timeout
: Number of seconds to wait for a connection before timing
  out. Set this to `absent` to remove it from the file completely.

  Valid values are `absent`. Values can match `/[0-9]+/`.




----------------

### zfs

Manage zfs. Create destroy and set properties on zfs instances.

**Autorequires:** If Puppet is managing the zpool at the root of this zfs
instance, the zfs resource will autorequire it. If Puppet is managing any
parent zfs instances, the zfs resource will autorequire them.

#### Parameters


aclinherit
: The aclinherit property. Valid values are `discard`, `noallow`, `restricted`, `passthrough`, `passthrough-x`.

aclmode
: The aclmode property. Valid values are `discard`, `groupmask`, `passthrough`.

atime
: The atime property. Valid values are `on`, `off`.

canmount
: The canmount property. Valid values are `on`, `off`, `noauto`.

checksum
: The checksum property. Valid values are `on`, `off`, `fletcher2`, `fletcher4`, `sha256`.

compression
: The compression property. Valid values are `on`, `off`, `lzjb`, `gzip`, `gzip-[1-9]`, `zle`.

copies
: The copies property. Valid values are `1`, `2`, `3`.

dedup
: The dedup property. Valid values are `on`, `off`.

devices
: The devices property. Valid values are `on`, `off`.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

exec
: The exec property. Valid values are `on`, `off`.

logbias
: The logbias property. Valid values are `latency`, `throughput`.

mountpoint
: The mountpoint property. Valid values are `<path>`, `legacy`, `none`.

name
: The full name for this filesystem (including the zpool).

nbmand
: The nbmand property. Valid values are `on`, `off`.

primarycache
: The primarycache property. Valid values are `all`, `none`, `metadata`.

provider
: The specific backend to use for this `zfs`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  zfs
  : Provider for zfs.

    * Required binaries: `zfs`.

quota
: The quota property. Valid values are `<size>`, `none`.

readonly
: The readonly property. Valid values are `on`, `off`.

recordsize
: The recordsize property. Valid values are powers of two between 512 and 128k.

refquota
: The refquota property. Valid values are `<size>`, `none`.

refreservation
: The refreservation property. Valid values are `<size>`, `none`.

reservation
: The reservation property. Valid values are `<size>`, `none`.

secondarycache
: The secondarycache property. Valid values are `all`, `none`, `metadata`.

setuid
: The setuid property. Valid values are `on`, `off`.

shareiscsi
: The shareiscsi property. Valid values are `on`, `off`, `type=<type>`.

sharenfs
: The sharenfs property. Valid values are `on`, `off`, share(1M) options

sharesmb
: The sharesmb property. Valid values are `on`, `off`, sharemgr(1M) options

snapdir
: The snapdir property. Valid values are `hidden`, `visible`.

version
: The version property. Valid values are `1`, `2`, `3`, `4`, `current`.

volsize
: The volsize property. Valid values are `<size>`

vscan
: The vscan property. Valid values are `on`, `off`.

xattr
: The xattr property. Valid values are `on`, `off`.

zoned
: The zoned property. Valid values are `on`, `off`.




----------------

### zone

Manages Solaris zones.

**Autorequires:** If Puppet is managing the directory specified as the root of
the zone's filesystem (with the `path` attribute), the zone resource will
autorequire that directory.

#### Parameters


autoboot
: Whether the zone should automatically boot.

  Valid values are `true`, `false`.

clone
: Instead of installing the zone, clone it from another zone.
  If the zone root resides on a zfs file system, a snapshot will be
  used to create the clone; if it resides on a ufs filesystem, a copy of the
  zone will be used. The zone from which you clone must not be running.

create_args
: Arguments to the `zonecfg` create command.  This can be used to create branded zones.

dataset
: The list of datasets delegated to the non-global zone from the
  global zone.  All datasets must be zfs filesystem names which are
  different from the mountpoint.

ensure
: The running state of the zone.  The valid states directly reflect
  the states that `zoneadm` provides.  The states are linear,
  in that a zone must be `configured`, then `installed`, and
  only then can be `running`.  Note also that `halt` is currently
  used to stop zones.

  Valid values are `absent`, `configured`, `installed`, `running`.

id
: The numerical ID of the zone.  This number is autogenerated
  and cannot be changed.

inherit
: The list of directories that the zone inherits from the global
  zone.  All directories must be fully qualified.

install_args
: Arguments to the `zoneadm` install command.  This can be used to create branded zones.

ip
: The IP address of the zone.  IP addresses **must** be specified
  with an interface, and may optionally be specified with a default router
  (sometimes called a defrouter). The interface, IP address, and default
  router should be separated by colons to form a complete IP address string.
  For example: `bge0:192.168.178.200` would be a valid IP address string
  without a default router, and `bge0:192.168.178.200:192.168.178.1` adds a
  default router to it.

  For zones with multiple interfaces, the value of this attribute should be
  an array of IP address strings (each of which must include an interface
  and may include a default router).

iptype
: The IP stack type of the zone.

  Valid values are `shared`, `exclusive`.

name
: The name of the zone.

path
: The root of the zone's filesystem.  Must be a fully qualified
  file name.  If you include `%s` in the path, then it will be
  replaced with the zone's name.  Currently, you cannot use
  Puppet to move a zone. Consequently this is a readonly property.

pool
: The resource pool for this zone.

provider
: The specific backend to use for this `zone`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  solaris
  : Provider for Solaris Zones.

    * Required binaries: `/usr/sbin/zoneadm`, `/usr/sbin/zonecfg`.
    * Default for `osfamily` == `solaris`.

realhostname
: The actual hostname of the zone.

shares
: Number of FSS CPU shares allocated to the zone.

sysidcfg
: The text to go into the `sysidcfg` file when the zone is first
  booted.  The best way is to use a template:

      # $confdir/modules/site/templates/sysidcfg.erb
      system_locale=en_US
      timezone=GMT
      terminal=xterms
      security_policy=NONE
      root_password=<%= password %>
      timeserver=localhost
      name_service=DNS {domain_name=<%= domain %> name_server=<%= nameserver %>}
      network_interface=primary {hostname=<%= realhostname %>
        ip_address=<%= ip %>
        netmask=<%= netmask %>
        protocol_ipv6=no
        default_route=<%= defaultroute %>}
      nfs4_domain=dynamic

  And then call that:

      zone { myzone:
        ip           => "bge0:192.168.0.23",
        sysidcfg     => template("site/sysidcfg.erb"),
        path         => "/opt/zones/myzone",
        realhostname => "fully.qualified.domain.name"
      }

  The `sysidcfg` only matters on the first booting of the zone,
  so Puppet only checks for it at that time.




----------------

### zpool

Manage zpools. Create and delete zpools. The provider WILL NOT SYNC, only report differences.

Supports vdevs with mirrors, raidz, logs and spares.

#### Parameters


disk
: The disk(s) for this pool. Can be an array or a space separated string.

ensure
: The basic property that the resource should be in.

  Valid values are `present`, `absent`.

log
: Log disks for this pool. This type does not currently support mirroring of log disks.

mirror
: List of all the devices to mirror for this pool. Each mirror should be a
  space separated string:

      mirror => ["disk1 disk2", "disk3 disk4"],

pool
: (**Namevar:** If omitted, this parameter's value defaults to the resource's title.)

  The name for this pool.

provider
: The specific backend to use for this `zpool`
  resource. You will seldom need to specify this --- Puppet will usually
  discover the appropriate provider for your platform.Available providers are:

  zpool
  : Provider for zpool.

    * Required binaries: `zpool`.

raid_parity
: Determines parity when using the `raidz` parameter.

raidz
: List of all the devices to raid for this pool. Should be an array of
  space separated strings:

      raidz => ["disk1 disk2", "disk3 disk4"],

spare
: Spare disk(s) for this pool.




----------------

*This page autogenerated on Wed Jun 18 13:01:35 -0700 2014*

t21rjumdkqr2x5d (centos6-64-2) executed in 2.23 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/environment" name="can_enumerate_environments.rb" time="13.603380"><system-out><![CDATA[
Can enumerate environments via an HTTP endpoint

n6vo88vhlunm0j0 (centos6-64-1) 13:01:35$  mktemp -dt environments.XXXXXX  
/tmp/environments.XWbf5q

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:35$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.RutQkL

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-bj1nu4 centos6-64-1:/tmp/apply_manifest.pp.RutQkL {}

n6vo88vhlunm0j0 (centos6-64-1) 13:01:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.RutQkL
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403121696'
Notice: /Stage[main]/Main/File[/tmp/environments.XWbf5q]/group: group changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/environments.XWbf5q]/mode: mode changed '0700' to '0750'
Notice: /Stage[main]/Main/File[/tmp/environments.XWbf5q/env2]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/environments.XWbf5q/env1]/ensure: created
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.30 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:37$  mktemp -dt can_enumerate_environments.rb.XXXXXX  
/tmp/can_enumerate_environments.rb.QdorTr

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:37$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:37$  cp /etc/puppet/puppet.conf /tmp/can_enumerate_environments.rb.QdorTr/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:38$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-vnca6j centos6-64-1:/tmp/can_enumerate_environments.rb.QdorTr/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:38$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
environmentpath = /tmp/environments.XWbf5q

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.77 seconds
Waiting for the puppet master to start
The puppet master has started

  * Ensure that an unauthenticated client cannot access the environments list

n6vo88vhlunm0j0 (centos6-64-1) 13:01:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print masterport --section agent
8140

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.83 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:41$  curl -ksv https://n6vo88vhlunm0j0:8140/v2.0/environments  
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
* warning: ignoring value of ssl.verifyhost
* skipping SSL peer certificate verification
* NSS: client certificate not found (nickname not specified)
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /v2.0/environments HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: */*
> 
< HTTP/1.1 403 Forbidden 
< Connection: Keep-Alive
< Date: Wed, 18 Jun 2014 20:01:41 GMT
< Content-Type: application/json
< X-Puppet-Version: 3.6.2
< Content-Length: 181
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< 
{"message":"Not Authorized: Forbidden request: n6vo88vhlunm0j0.delivery.puppetlabs.net(10.18.82.75) access to /v2.0/environments [find] at :119","issue_kind":"FAILED_AUTHORIZATION"}{ [data not shown]
* Connection #0 to host n6vo88vhlunm0j0 left intact
* Closing connection #0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.23 seconds

  * Ensure that an authenticated client can retrieve the list of environments

n6vo88vhlunm0j0 (centos6-64-1) 13:01:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print masterport --section agent
8140

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.79 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print hostcert --section agent
/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.59 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print hostprivkey --section agent
/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.60 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:43$  curl -sg --cert "/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem" --key "/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem" -k -H '' 'https://n6vo88vhlunm0j0:8140/v2.0/environments'  
{"environments":{"env2":{"settings":{"modulepath":["/tmp/environments.XWbf5q/env2/modules","/etc/puppet/modules","/usr/share/puppet/modules"],"manifest":"/tmp/environments.XWbf5q/env2/manifests"}},"env1":{"settings":{"modulepath":["/tmp/environments.XWbf5q/env1/modules","/etc/puppet/modules","/usr/share/puppet/modules"],"manifest":"/tmp/environments.XWbf5q/env1/manifests"}}},"search_paths":["file:///tmp/environments.XWbf5q","data:text/plain,internal"]}
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.16 seconds

  * Ensure that an unauthenticated client cannot access the environments list

t21rjumdkqr2x5d (centos6-64-2) 13:01:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print masterport --section agent
8140

t21rjumdkqr2x5d (centos6-64-2) executed in 0.62 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:01:44$  curl -ksv https://n6vo88vhlunm0j0:8140/v2.0/environments  
* About to connect() to n6vo88vhlunm0j0 port 8140 (#0)
*   Trying 10.18.82.75... connected
* Connected to n6vo88vhlunm0j0 (10.18.82.75) port 8140 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
* warning: ignoring value of ssl.verifyhost
* skipping SSL peer certificate verification
* NSS: client certificate not found (nickname not specified)
* SSL connection using TLS_DHE_RSA_WITH_AES_256_CBC_SHA
* Server certificate:
* 	subject: CN=n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	start date: Jun 17 19:56:50 2014 GMT
* 	expire date: Jun 17 19:56:50 2019 GMT
* 	common name: n6vo88vhlunm0j0.delivery.puppetlabs.net
* 	issuer: CN=Puppet CA: n6vo88vhlunm0j0.delivery.puppetlabs.net
> GET /v2.0/environments HTTP/1.1
> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
> Host: n6vo88vhlunm0j0:8140
> Accept: */*
> 
< HTTP/1.1 403 Forbidden 
< Connection: Keep-Alive
< Date: Wed, 18 Jun 2014 20:01:44 GMT
< Content-Type: application/json
< X-Puppet-Version: 3.6.2
< Content-Length: 157
< Server: WEBrick/1.3.1 (Ruby/1.8.7/2011-06-30) OpenSSL/1.0.1e
< 
{ [data not shown]
* Connection #0 to host n6vo88vhlunm0j0 left intact
* Closing connection #0
{"message":"Not Authorized: Forbidden request: 10.18.101.161(10.18.101.161) access to /v2.0/environments [find] at :119","issue_kind":"FAILED_AUTHORIZATION"}
t21rjumdkqr2x5d (centos6-64-2) executed in 0.22 seconds

  * Ensure that an authenticated client can retrieve the list of environments

t21rjumdkqr2x5d (centos6-64-2) 13:01:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print masterport --section agent
8140

t21rjumdkqr2x5d (centos6-64-2) executed in 0.66 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:01:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print hostcert --section agent
/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.73 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:01:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  print hostprivkey --section agent
/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.74 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:01:46$  curl -sg --cert "/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem" --key "/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem" -k -H '' 'https://n6vo88vhlunm0j0:8140/v2.0/environments'  
{"environments":{"env2":{"settings":{"modulepath":["/tmp/environments.XWbf5q/env2/modules","/etc/puppet/modules","/usr/share/puppet/modules"],"manifest":"/tmp/environments.XWbf5q/env2/manifests"}},"env1":{"settings":{"modulepath":["/tmp/environments.XWbf5q/env1/modules","/etc/puppet/modules","/usr/share/puppet/modules"],"manifest":"/tmp/environments.XWbf5q/env1/manifests"}}},"search_paths":["file:///tmp/environments.XWbf5q","data:text/plain,internal"]}
t21rjumdkqr2x5d (centos6-64-2) executed in 0.45 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:47$  if [ -f '/tmp/can_enumerate_environments.rb.QdorTr/puppet.conf.bak' ]; then cat '/tmp/can_enumerate_environments.rb.QdorTr/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/can_enumerate_environments.rb.QdorTr/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:47$  cat `puppet master --configprint pidfile`  
7700
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.66 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:47$  kill 7700  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:47$  kill -0 7700  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:48$  kill -0 7700  
bash: line 0: kill: (7700) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/environment" name="cmdline_overrides_environment.rb" time="89.585996"><system-out><![CDATA[
Commandline modulepath and manifest settings override environment

n6vo88vhlunm0j0 (centos6-64-1) 13:01:48$  mktemp -dt cmdline_and_environment.XXXXXX  
/tmp/cmdline_and_environment.vXmFTZ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

  * Prepare manifests and modules

n6vo88vhlunm0j0 (centos6-64-1) 13:01:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.yOsoqx

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.13 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1igruzt centos6-64-1:/tmp/apply_manifest.pp.yOsoqx {}

n6vo88vhlunm0j0 (centos6-64-1) 13:01:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --detailed-exitcodes /tmp/apply_manifest.pp.yOsoqx
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403121710'
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ]/group: group changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ]/mode: mode changed '0700' to '0750'
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/environments]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/modules]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/environments/production]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/manifests/site.pp]/ensure: defined content as '{md5}94a586df1f7ad0b277bba54f5d17aede'
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/modules/amod/]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/modules/amod/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/modules/amod/manifests/init.pp]/ensure: defined content as '{md5}3de519c04053aca3cc968ecdbc065721'
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/other_manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/environments/production/modules]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/environments/production/modules/amod]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/environments/production/modules/amod/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/environments/production/modules/amod/manifests/init.pp]/ensure: defined content as '{md5}ad54edb8f70ac306ce56ad317180f1b2'
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/environments/production/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/environments/production/manifests/production.pp]/ensure: defined content as '{md5}c1135bc11e3692d430352b43b52bbd58'
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/cmdline.pp]/ensure: defined content as '{md5}65e1984e1324a855f125df8903fa95dc'
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/other_manifests/site.pp]/ensure: defined content as '{md5}ce1470ab2fc2df4c296ec688827f0aa2'
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/some_other_modulepath]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/some_other_modulepath/amod/]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/some_other_modulepath/amod/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/some_other_modulepath/amod/manifests/init.pp]/ensure: defined content as '{md5}629853c7b198d7cded0f5c8828709e4f'
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.29 seconds
Exited: 2

  * CASE 1: puppet master with --manifest and --modulepath overrides set production directory environment

n6vo88vhlunm0j0 (centos6-64-1) 13:01:51$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:51$  cp /etc/puppet/puppet.conf /tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:51$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-42c1l5 centos6-64-1:/tmp/cmdline_and_environment.vXmFTZ/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:51$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
environmentpath = /tmp/cmdline_and_environment.vXmFTZ/environments
manifest = /tmp/cmdline_and_environment.vXmFTZ/manifests/site.pp
modulepath = /tmp/cmdline_and_environment.vXmFTZ/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:01:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  --manifest=/tmp/cmdline_and_environment.vXmFTZ/cmdline.pp --modulepath=/tmp/cmdline_and_environment.vXmFTZ/some_other_modulepath

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.53 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:01:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0755' to '0750'
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121715'
Notice: in cmdline.pp
Notice: /Stage[main]/Main/Notify[in cmdline.pp]/message: defined 'message' as 'in cmdline.pp'
Notice: amod from commandline modulepath
Notice: /Stage[main]/Amod/Notify[amod from commandline modulepath]/message: defined 'message' as 'amod from commandline modulepath'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.94 seconds
Exited: 2

  * CASE 1a: even if environment is specified

n6vo88vhlunm0j0 (centos6-64-1) 13:01:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0 --environment production  
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121718'
Notice: in cmdline.pp
Notice: /Stage[main]/Main/Notify[in cmdline.pp]/message: defined 'message' as 'in cmdline.pp'
Notice: amod from commandline modulepath
Notice: /Stage[main]/Amod/Notify[amod from commandline modulepath]/message: defined 'message' as 'amod from commandline modulepath'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.81 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:01:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0755' to '0750'
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121721'
Notice: in cmdline.pp
Notice: /Stage[main]/Main/Notify[in cmdline.pp]/message: defined 'message' as 'in cmdline.pp'
Notice: amod from commandline modulepath
Notice: /Stage[main]/Amod/Notify[amod from commandline modulepath]/message: defined 'message' as 'amod from commandline modulepath'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.15 seconds
Exited: 2

  * CASE 1a: even if environment is specified

t21rjumdkqr2x5d (centos6-64-2) 13:02:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0 --environment production  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121727'
Notice: in cmdline.pp
Notice: /Stage[main]/Main/Notify[in cmdline.pp]/message: defined 'message' as 'in cmdline.pp'
Notice: amod from commandline modulepath
Notice: /Stage[main]/Amod/Notify[amod from commandline modulepath]/message: defined 'message' as 'amod from commandline modulepath'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 6.11 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:02:08$  if [ -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' ]; then cat '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:08$  cat `puppet master --configprint pidfile`  
7913
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:09$  kill 7913  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:09$  kill -0 7913  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:10$  kill -0 7913  
bash: line 0: kill: (7913) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

  * CASE 2: or if you set --manifestdir

  * CASE 2: it is ignored if manifest is set in puppet.conf to something not using $manifestdir

n6vo88vhlunm0j0 (centos6-64-1) 13:02:10$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:10$  cp /etc/puppet/puppet.conf /tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:10$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1vcw8vb centos6-64-1:/tmp/cmdline_and_environment.vXmFTZ/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:10$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
environmentpath = /tmp/cmdline_and_environment.vXmFTZ/environments
manifest = /tmp/cmdline_and_environment.vXmFTZ/manifests/site.pp
modulepath = /tmp/cmdline_and_environment.vXmFTZ/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  --manifestdir=/tmp/cmdline_and_environment.vXmFTZ/other_manifests --modulepath=/tmp/cmdline_and_environment.vXmFTZ/some_other_modulepath

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.44 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:02:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121734'
Notice: in production.pp
Notice: /Stage[main]/Main/Notify[in production.pp]/message: defined 'message' as 'in production.pp'
Notice: amod from commandline modulepath
Notice: /Stage[main]/Amod/Notify[amod from commandline modulepath]/message: defined 'message' as 'amod from commandline modulepath'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.79 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:02:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121737'
Notice: in production.pp
Notice: /Stage[main]/Main/Notify[in production.pp]/message: defined 'message' as 'in production.pp'
Notice: amod from commandline modulepath
Notice: /Stage[main]/Amod/Notify[amod from commandline modulepath]/message: defined 'message' as 'amod from commandline modulepath'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.91 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:02:17$  if [ -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' ]; then cat '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:17$  cat `puppet master --configprint pidfile`  
8216
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.55 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:18$  kill 8216  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:18$  kill -0 8216  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:19$  kill -0 8216  
bash: line 0: kill: (8216) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1

  * CASE 2a: but does pull in the default manifest via manifestdir if manifest is not set

n6vo88vhlunm0j0 (centos6-64-1) 13:02:19$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:19$  cp /etc/puppet/puppet.conf /tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:19$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1s27gb4 centos6-64-1:/tmp/cmdline_and_environment.vXmFTZ/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:19$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
environmentpath = /tmp/cmdline_and_environment.vXmFTZ/environments
modulepath = /tmp/cmdline_and_environment.vXmFTZ/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  --manifestdir=/tmp/cmdline_and_environment.vXmFTZ/other_manifests --modulepath=/tmp/cmdline_and_environment.vXmFTZ/some_other_modulepath

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.50 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:02:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121743'
Notice: in other manifestdir site.pp
Notice: /Stage[main]/Main/Notify[in other manifestdir site.pp]/message: defined 'message' as 'in other manifestdir site.pp'
Notice: amod from commandline modulepath
Notice: /Stage[main]/Amod/Notify[amod from commandline modulepath]/message: defined 'message' as 'amod from commandline modulepath'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.98 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:02:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121746'
Notice: in other manifestdir site.pp
Notice: /Stage[main]/Main/Notify[in other manifestdir site.pp]/message: defined 'message' as 'in other manifestdir site.pp'
Notice: amod from commandline modulepath
Notice: /Stage[main]/Amod/Notify[amod from commandline modulepath]/message: defined 'message' as 'amod from commandline modulepath'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.70 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:02:26$  if [ -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' ]; then cat '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:26$  cat `puppet master --configprint pidfile`  
8396
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:27$  kill 8396  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:27$  kill -0 8396  
bash: line 0: kill: (8396) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

  * CASE 3: puppet master with manifest and modulepath set in puppet.conf is overriden by an existing and set production directory environment

n6vo88vhlunm0j0 (centos6-64-1) 13:02:27$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:27$  cp /etc/puppet/puppet.conf /tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:27$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-16p2ljt centos6-64-1:/tmp/cmdline_and_environment.vXmFTZ/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:27$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
environmentpath = /tmp/cmdline_and_environment.vXmFTZ/environments
manifest = /tmp/cmdline_and_environment.vXmFTZ/manifests/site.pp
modulepath = /tmp/cmdline_and_environment.vXmFTZ/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.47 seconds
Waiting for the puppet master to start
The puppet master has started

  * CASE 3: this case is unfortunate, but will be irrelevant when we remove legacyenv in 4.0

n6vo88vhlunm0j0 (centos6-64-1) 13:02:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121751'
Notice: in production.pp
Notice: /Stage[main]/Main/Notify[in production.pp]/message: defined 'message' as 'in production.pp'
Notice: amod from production environment
Notice: /Stage[main]/Amod/Notify[amod from production environment]/message: defined 'message' as 'amod from production environment'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.02 seconds
Exited: 2

  * CASE 3a: if environment is specified

n6vo88vhlunm0j0 (centos6-64-1) 13:02:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0 --environment production  
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121751'
Notice: in production.pp
Notice: /Stage[main]/Main/Notify[in production.pp]/message: defined 'message' as 'in production.pp'
Notice: amod from production environment
Notice: /Stage[main]/Amod/Notify[amod from production environment]/message: defined 'message' as 'amod from production environment'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.20 seconds
Exited: 2

  * CASE 3: this case is unfortunate, but will be irrelevant when we remove legacyenv in 4.0

t21rjumdkqr2x5d (centos6-64-2) 13:02:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121751'
Notice: in production.pp
Notice: /Stage[main]/Main/Notify[in production.pp]/message: defined 'message' as 'in production.pp'
Notice: amod from production environment
Notice: /Stage[main]/Amod/Notify[amod from production environment]/message: defined 'message' as 'amod from production environment'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.22 seconds
Exited: 2

  * CASE 3a: if environment is specified

t21rjumdkqr2x5d (centos6-64-2) 13:02:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0 --environment production  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121751'
Notice: in production.pp
Notice: /Stage[main]/Main/Notify[in production.pp]/message: defined 'message' as 'in production.pp'
Notice: amod from production environment
Notice: /Stage[main]/Amod/Notify[amod from production environment]/message: defined 'message' as 'amod from production environment'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.83 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:02:41$  if [ -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' ]; then cat '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:41$  cat `puppet master --configprint pidfile`  
8573
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.68 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:42$  kill 8573  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:42$  kill -0 8573  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:43$  kill -0 8573  
bash: line 0: kill: (8573) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

  * CASE 4: puppet master with default manifest, modulepath, environment, environmentpath and an existing '/tmp/cmdline_and_environment.vXmFTZ/environments/production' directory environment that has not been set

n6vo88vhlunm0j0 (centos6-64-1) 13:02:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master --configprint ssldir  
/var/lib/puppet/ssl

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.76 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:43$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:43$  cp /etc/puppet/puppet.conf /tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:43$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-kfj1dl centos6-64-1:/tmp/cmdline_and_environment.vXmFTZ/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:44$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  --confdir=/tmp/cmdline_and_environment.vXmFTZ --ssldir=/var/lib/puppet/ssl

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.35 seconds
Waiting for the puppet master to start
The puppet master has started

  * CASE 4: /tmp/cmdline_and_environment.vXmFTZ/environments/production directory environment does not take precedence because default environmentpath is ''

n6vo88vhlunm0j0 (centos6-64-1) 13:02:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121768'
Notice: in site.pp
Notice: /Stage[main]/Main/Notify[in site.pp]/message: defined 'message' as 'in site.pp'
Notice: amod from modulepath
Notice: /Stage[main]/Amod/Notify[amod from modulepath]/message: defined 'message' as 'amod from modulepath'
Notice: Finished catalog run in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.82 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:02:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0 --environment production  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121768'
Notice: in site.pp
Notice: /Stage[main]/Main/Notify[in site.pp]/message: defined 'message' as 'in site.pp'
Notice: amod from modulepath
Notice: /Stage[main]/Amod/Notify[amod from modulepath]/message: defined 'message' as 'amod from modulepath'
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.97 seconds
Exited: 2

  * CASE 4: /tmp/cmdline_and_environment.vXmFTZ/environments/production directory environment does not take precedence because default environmentpath is ''

t21rjumdkqr2x5d (centos6-64-2) 13:02:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121768'
Notice: in site.pp
Notice: /Stage[main]/Main/Notify[in site.pp]/message: defined 'message' as 'in site.pp'
Notice: amod from modulepath
Notice: /Stage[main]/Amod/Notify[amod from modulepath]/message: defined 'message' as 'amod from modulepath'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.92 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:02:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0 --environment production  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121768'
Notice: in site.pp
Notice: /Stage[main]/Main/Notify[in site.pp]/message: defined 'message' as 'in site.pp'
Notice: amod from modulepath
Notice: /Stage[main]/Amod/Notify[amod from modulepath]/message: defined 'message' as 'amod from modulepath'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.72 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:02:57$  if [ -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' ]; then cat '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:57$  cat `puppet master --configprint pidfile`  
8884
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.68 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:58$  kill 8884  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:58$  kill -0 8884  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:02:59$  kill -0 8884  
bash: line 0: kill: (8884) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

  * CASE 5: puppet master with explicit dynamic environment settings and empty environmentpath

  * CASE 5: Prepare an additional modulepath module

n6vo88vhlunm0j0 (centos6-64-1) 13:02:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ZuA9qc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-h2a4qe centos6-64-1:/tmp/apply_manifest.pp.ZuA9qc {}

n6vo88vhlunm0j0 (centos6-64-1) 13:02:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --detailed-exitcodes /tmp/apply_manifest.pp.ZuA9qc
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.22 seconds
Info: Applying configuration version '1403121780'
Info: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/environments/production/manifests/production.pp]: Filebucketed /tmp/cmdline_and_environment.vXmFTZ/environments/production/manifests/production.pp to puppet with sum c1135bc11e3692d430352b43b52bbd58
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/environments/production/manifests/production.pp]/content: content changed '{md5}c1135bc11e3692d430352b43b52bbd58' to '{md5}bca6bc087b96a9014e9ca37a42d2fda3'
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/some_other_modulepath/bmod/]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/some_other_modulepath/bmod/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/cmdline_and_environment.vXmFTZ/some_other_modulepath/bmod/manifests/init.pp]/ensure: defined content as '{md5}3a7d3fcdc925585186a46cc588b53c28'
Notice: Finished catalog run in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.43 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:03:01$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:01$  cp /etc/puppet/puppet.conf /tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:01$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-13tol06 centos6-64-1:/tmp/cmdline_and_environment.vXmFTZ/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:01$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
manifest = /tmp/cmdline_and_environment.vXmFTZ/environments/$environment/manifests
modulepath = /tmp/cmdline_and_environment.vXmFTZ/environments/$environment/modules:/tmp/cmdline_and_environment.vXmFTZ/some_other_modulepath

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.59 seconds
Waiting for the puppet master to start
The puppet master has started

  * CASE 5: pulls in the production environment based on $environment default

n6vo88vhlunm0j0 (centos6-64-1) 13:03:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121786'
Notice: in production.pp
Notice: /Stage[main]/Main/Notify[in production.pp]/message: defined 'message' as 'in production.pp'
Notice: bmod from other modulepath
Notice: /Stage[main]/Bmod/Notify[bmod from other modulepath]/message: defined 'message' as 'bmod from other modulepath'
Notice: amod from production environment
Notice: /Stage[main]/Amod/Notify[amod from production environment]/message: defined 'message' as 'amod from production environment'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.30 seconds
Exited: 2

  * CASE 5: and sees modules located in later elements of the modulepath (which would not be seen by a directory env (PUP-2158)

  * CASE 5a: pulls in the production environment when explicitly set

n6vo88vhlunm0j0 (centos6-64-1) 13:03:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0 --environment production  
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121786'
Notice: in production.pp
Notice: /Stage[main]/Main/Notify[in production.pp]/message: defined 'message' as 'in production.pp'
Notice: bmod from other modulepath
Notice: /Stage[main]/Bmod/Notify[bmod from other modulepath]/message: defined 'message' as 'bmod from other modulepath'
Notice: amod from production environment
Notice: /Stage[main]/Amod/Notify[amod from production environment]/message: defined 'message' as 'amod from production environment'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.15 seconds
Exited: 2

  * CASE 5a: and sees modules located in later elements of the modulepath (which would not be seen by a directory env (PUP-2158)

  * CASE 5: pulls in the production environment based on $environment default

t21rjumdkqr2x5d (centos6-64-2) 13:03:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121786'
Notice: in production.pp
Notice: /Stage[main]/Main/Notify[in production.pp]/message: defined 'message' as 'in production.pp'
Notice: bmod from other modulepath
Notice: /Stage[main]/Bmod/Notify[bmod from other modulepath]/message: defined 'message' as 'bmod from other modulepath'
Notice: amod from production environment
Notice: /Stage[main]/Amod/Notify[amod from production environment]/message: defined 'message' as 'amod from production environment'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.31 seconds
Exited: 2

  * CASE 5: and sees modules located in later elements of the modulepath (which would not be seen by a directory env (PUP-2158)

  * CASE 5a: pulls in the production environment when explicitly set

t21rjumdkqr2x5d (centos6-64-2) 13:03:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0 --environment production  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121786'
Notice: in production.pp
Notice: /Stage[main]/Main/Notify[in production.pp]/message: defined 'message' as 'in production.pp'
Notice: bmod from other modulepath
Notice: /Stage[main]/Bmod/Notify[bmod from other modulepath]/message: defined 'message' as 'bmod from other modulepath'
Notice: amod from production environment
Notice: /Stage[main]/Amod/Notify[amod from production environment]/message: defined 'message' as 'amod from production environment'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.24 seconds
Exited: 2

  * CASE 5a: and sees modules located in later elements of the modulepath (which would not be seen by a directory env (PUP-2158)

n6vo88vhlunm0j0 (centos6-64-1) 13:03:16$  if [ -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' ]; then cat '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cmdline_and_environment.vXmFTZ/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:16$  cat `puppet master --configprint pidfile`  
9305
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.80 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:17$  kill 9305  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:17$  kill -0 9305  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:18$  kill -0 9305  
bash: line 0: kill: (9305) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/environment" name="directory_environment_with_environment_conf.rb" time="12.583531"><system-out><![CDATA[
Use a directory environment from environmentpath with an environment.conf

n6vo88vhlunm0j0 (centos6-64-1) 13:03:18$  mktemp -dt use-environment-conf.XXXXXX  
/tmp/use-environment-conf.BEt7JG

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:18$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XErBnU

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-nsk9kk centos6-64-1:/tmp/apply_manifest.pp.XErBnU {}

n6vo88vhlunm0j0 (centos6-64-1) 13:03:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --detailed-exitcodes /tmp/apply_manifest.pp.XErBnU
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.19 seconds
Info: Applying configuration version '1403121799'
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG]/group: group changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG]/mode: mode changed '0700' to '0750'
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/absolute-modules]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/manifests/site.pp]/ensure: defined content as '{md5}3eca6ea338212be97d74b00b877dadba'
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/global-modules]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/global-modules/globalmod]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/global-modules/globalmod/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/global-modules/globalmod/manifests/init.pp]/ensure: defined content as '{md5}a1e3976fe0af5e8a073d17598eb0c495'
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/absolute-modules/absmod]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/absolute-modules/absmod/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/absolute-modules/absmod/manifests/init.pp]/ensure: defined content as '{md5}5d2be15737202f3eb02ea8131bc6cdc5'
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/environments]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/environments/direnv]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/environments/direnv/relative-modules]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/environments/direnv/relative-modules/relmod]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/environments/direnv/relative-modules/relmod/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/environments/direnv/relative-modules/relmod/manifests/init.pp]/ensure: defined content as '{md5}eaafeecace8dfd71ee855c439571bef5'
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/environments/direnv/environment.conf]/ensure: defined content as '{md5}1fb7f7d8730bcee871d105d6e1feeb76'
Notice: /Stage[main]/Main/File[/tmp/use-environment-conf.BEt7JG/environments/direnv/version_script.sh]/ensure: defined content as '{md5}84581cd9e26dda678e303741f113eb3e'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.26 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:03:20$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:20$  cp /etc/puppet/puppet.conf /tmp/use-environment-conf.BEt7JG/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:20$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-sqtjkj centos6-64-1:/tmp/use-environment-conf.BEt7JG/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:21$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
environmentpath = /tmp/use-environment-conf.BEt7JG/environments
basemodulepath = /tmp/use-environment-conf.BEt7JG/global-modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.50 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:03:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0 --environment direnv
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version 'ver123'
Notice: included relmod
Notice: /Stage[main]/Relmod/Notify[included relmod]/message: defined 'message' as 'included relmod'
Notice: direnv site.pp
Notice: /Stage[main]/Main/Notify[direnv site.pp]/message: defined 'message' as 'direnv site.pp'
Notice: included globalmod
Notice: /Stage[main]/Globalmod/Notify[included globalmod]/message: defined 'message' as 'included globalmod'
Notice: included absmod
Notice: /Stage[main]/Absmod/Notify[included absmod]/message: defined 'message' as 'included absmod'
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.72 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:03:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0 --environment direnv
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version 'ver123'
Notice: included relmod
Notice: /Stage[main]/Relmod/Notify[included relmod]/message: defined 'message' as 'included relmod'
Notice: direnv site.pp
Notice: /Stage[main]/Main/Notify[direnv site.pp]/message: defined 'message' as 'direnv site.pp'
Notice: included globalmod
Notice: /Stage[main]/Globalmod/Notify[included globalmod]/message: defined 'message' as 'included globalmod'
Notice: included absmod
Notice: /Stage[main]/Absmod/Notify[included absmod]/message: defined 'message' as 'included absmod'
Notice: Finished catalog run in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.01 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:03:29$  if [ -f '/tmp/use-environment-conf.BEt7JG/puppet.conf.bak' ]; then cat '/tmp/use-environment-conf.BEt7JG/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/use-environment-conf.BEt7JG/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:29$  cat `puppet master --configprint pidfile`  
9729
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.67 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:29$  kill 9729  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:30$  kill -0 9729  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:31$  kill -0 9729  
bash: line 0: kill: (9729) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/environment" name="dynamic_environments.rb" time="37.861034"><system-out><![CDATA[
Dynamic Environments

n6vo88vhlunm0j0 (centos6-64-1) 13:03:31$  mktemp -dt dynamic-environment.XXXXXX  
/tmp/dynamic-environment.j6ugPm

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Prepare manifests and modules

n6vo88vhlunm0j0 (centos6-64-1) 13:03:31$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.fTjTRa

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-16e50m6 centos6-64-1:/tmp/apply_manifest.pp.fTjTRa {}

n6vo88vhlunm0j0 (centos6-64-1) 13:03:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --detailed-exitcodes /tmp/apply_manifest.pp.fTjTRa
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.22 seconds
Info: Applying configuration version '1403121812'
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm]/group: group changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm]/mode: mode changed '0700' to '0750'
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/hiera.yaml]/ensure: defined content as '{md5}189e9490870c3c7d5ae702921bf00667'
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/testing]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/testing/hiera]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/testing/hiera/testing.yaml]/ensure: defined content as '{md5}9595bf6bb411dcac6c90ef9ec7c93a1f'
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/testing/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/production]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/production/hiera]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/production/hiera/common.yaml]/ensure: defined content as '{md5}c17d0f4db5c9a2cb66c975856a64220e'
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/testing/hiera/common.yaml]/ensure: defined content as '{md5}c17d0f4db5c9a2cb66c975856a64220e'
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/production/modules]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/production/modules/amod]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/production/modules/amod/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/production/modules/amod/manifests/init.pp]/ensure: defined content as '{md5}0c8c3387214a51ac865f64451ce6ca65'
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/production/hiera/production.yaml]/ensure: defined content as '{md5}a35ab1a80d1d0ad512db34bd2ecb5868'
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/testing/modules]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/testing/modules/amod]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/testing/modules/amod/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/testing/modules/amod/manifests/init.pp]/ensure: defined content as '{md5}35868f186c6d3e5a50687bbd26417281'
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/testing/manifests/site.pp]/ensure: defined content as '{md5}4abe9d1d19e603b34675020367087f97'
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/production/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/dynamic-environment.j6ugPm/environments/production/manifests/site.pp]/ensure: defined content as '{md5}fd6652bf2f6c565afaf95204297bca84'
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.61 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:03:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master --configprint ssldir  
/var/lib/puppet/ssl

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.65 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:34$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:34$  cp /etc/puppet/puppet.conf /tmp/dynamic-environment.j6ugPm/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:34$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-qe130m centos6-64-1:/tmp/dynamic-environment.j6ugPm/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:34$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
manifest = /tmp/dynamic-environment.j6ugPm/environments/$environment/manifests/site.pp
modulepath = /tmp/dynamic-environment.j6ugPm/environments/$environment/modules
hiera_config = /tmp/dynamic-environment.j6ugPm/hiera.yaml

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.47 seconds
Waiting for the puppet master to start
The puppet master has started

  * Agent run with default environment

n6vo88vhlunm0j0 (centos6-64-1) 13:03:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121819'
Notice: production-site.pp
Notice: /Stage[main]/Main/Notify[production-site.pp]/message: defined 'message' as 'production-site.pp'
Notice: foo-production
Notice: /Stage[main]/Main/Notify[hiera]/message: defined 'message' as 'foo-production'
Notice: production-amod
Notice: /Stage[main]/Amod/Notify[production-amod]/message: defined 'message' as 'production-amod'
Notice: Finished catalog run in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.38 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:03:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121819'
Notice: production-site.pp
Notice: /Stage[main]/Main/Notify[production-site.pp]/message: defined 'message' as 'production-site.pp'
Notice: foo-production
Notice: /Stage[main]/Main/Notify[hiera]/message: defined 'message' as 'foo-production'
Notice: production-amod
Notice: /Stage[main]/Amod/Notify[production-amod]/message: defined 'message' as 'production-amod'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.11 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:03:42$  if [ -f '/tmp/dynamic-environment.j6ugPm/puppet.conf.bak' ]; then cat '/tmp/dynamic-environment.j6ugPm/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/dynamic-environment.j6ugPm/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:42$  cat `puppet master --configprint pidfile`  
10041
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.65 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:43$  kill 10041  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:43$  kill -0 10041  
bash: line 0: kill: (10041) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:03:43$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:43$  cp /etc/puppet/puppet.conf /tmp/dynamic-environment.j6ugPm/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:43$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-16lxn7d centos6-64-1:/tmp/dynamic-environment.j6ugPm/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:43$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
manifest = /tmp/dynamic-environment.j6ugPm/environments/$environment/manifests/site.pp
modulepath = /tmp/dynamic-environment.j6ugPm/environments/$environment/modules
hiera_config = /tmp/dynamic-environment.j6ugPm/hiera.yaml

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.52 seconds
Waiting for the puppet master to start
The puppet master has started

  * Agent run with testing environment

n6vo88vhlunm0j0 (centos6-64-1) 13:03:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  --environment testing
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121827'
Notice: testing-site.pp
Notice: /Stage[main]/Main/Notify[testing-site.pp]/message: defined 'message' as 'testing-site.pp'
Notice: foo-testing
Notice: /Stage[main]/Main/Notify[hiera]/message: defined 'message' as 'foo-testing'
Notice: testing-amod
Notice: /Stage[main]/Amod/Notify[testing-amod]/message: defined 'message' as 'testing-amod'
Notice: Finished catalog run in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.97 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:03:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  --environment testing
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121827'
Notice: testing-site.pp
Notice: /Stage[main]/Main/Notify[testing-site.pp]/message: defined 'message' as 'testing-site.pp'
Notice: foo-testing
Notice: /Stage[main]/Main/Notify[hiera]/message: defined 'message' as 'foo-testing'
Notice: testing-amod
Notice: /Stage[main]/Amod/Notify[testing-amod]/message: defined 'message' as 'testing-amod'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.96 seconds
Exited: 2

  * And then agent run with another environment but the same master process

n6vo88vhlunm0j0 (centos6-64-1) 13:03:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  --environment production
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121833'
Notice: production-site.pp
Notice: /Stage[main]/Main/Notify[production-site.pp]/message: defined 'message' as 'production-site.pp'
Notice: foo-production
Notice: /Stage[main]/Main/Notify[hiera]/message: defined 'message' as 'foo-production'
Notice: production-amod
Notice: /Stage[main]/Amod/Notify[production-amod]/message: defined 'message' as 'production-amod'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.08 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:03:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  --environment production
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121833'
Notice: production-site.pp
Notice: /Stage[main]/Main/Notify[production-site.pp]/message: defined 'message' as 'production-site.pp'
Notice: foo-production
Notice: /Stage[main]/Main/Notify[hiera]/message: defined 'message' as 'foo-production'
Notice: production-amod
Notice: /Stage[main]/Amod/Notify[production-amod]/message: defined 'message' as 'production-amod'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.90 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:03:57$  if [ -f '/tmp/dynamic-environment.j6ugPm/puppet.conf.bak' ]; then cat '/tmp/dynamic-environment.j6ugPm/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/dynamic-environment.j6ugPm/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:57$  cat `puppet master --configprint pidfile`  
10218
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.94 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:58$  kill 10218  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:58$  kill -0 10218  
bash: line 0: kill: (10218) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:03:58$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:58$  cp /etc/puppet/puppet.conf /tmp/dynamic-environment.j6ugPm/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:58$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10k608b centos6-64-1:/tmp/dynamic-environment.j6ugPm/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:58$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
manifestdir = /tmp/dynamic-environment.j6ugPm/environments/$environment/manifests
modulepath = /tmp/dynamic-environment.j6ugPm/environments/$environment/modules
hiera_config = /tmp/dynamic-environment.j6ugPm/hiera.yaml

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:03:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.59 seconds
Waiting for the puppet master to start
The puppet master has started

  * Agent run with testing environment and manifestdir set instead of manifest

n6vo88vhlunm0j0 (centos6-64-1) 13:04:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  --environment testing
Warning: Setting manifestdir is deprecated. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121843'
Notice: testing-site.pp
Notice: /Stage[main]/Main/Notify[testing-site.pp]/message: defined 'message' as 'testing-site.pp'
Notice: foo-testing
Notice: /Stage[main]/Main/Notify[hiera]/message: defined 'message' as 'foo-testing'
Notice: testing-amod
Notice: /Stage[main]/Amod/Notify[testing-amod]/message: defined 'message' as 'testing-amod'
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.05 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:04:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent -t --server n6vo88vhlunm0j0  --environment testing
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121843'
Notice: testing-site.pp
Notice: /Stage[main]/Main/Notify[testing-site.pp]/message: defined 'message' as 'testing-site.pp'
Notice: foo-testing
Notice: /Stage[main]/Main/Notify[hiera]/message: defined 'message' as 'foo-testing'
Notice: testing-amod
Notice: /Stage[main]/Amod/Notify[testing-amod]/message: defined 'message' as 'testing-amod'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.36 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:04:07$  if [ -f '/tmp/dynamic-environment.j6ugPm/puppet.conf.bak' ]; then cat '/tmp/dynamic-environment.j6ugPm/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/dynamic-environment.j6ugPm/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:07$  cat `puppet master --configprint pidfile`  
10518
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.83 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:07$  kill 10518  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:07$  kill -0 10518  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:08$  kill -0 10518  
bash: line 0: kill: (10518) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/environment" name="use_agent_environment_when_enc_doesnt_specify.rb" time="10.577772"><system-out><![CDATA[
Agent should use agent environment if there is an enc that does not specify the environment

n6vo88vhlunm0j0 (centos6-64-1) 13:04:08$  mktemp -dt use_agent_env.XXXXXX  
/tmp/use_agent_env.8sm2Ex

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1818f38 centos6-64-1:/tmp/use_agent_env.8sm2Ex/enc.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:04:09$  chmod 755 /tmp/use_agent_env.8sm2Ex/enc.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-u94e0z centos6-64-1:/tmp/use_agent_env.8sm2Ex/different.pp {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-s0vzb4 centos6-64-1:/tmp/use_agent_env.8sm2Ex/more_different.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:04:09$  chown -R root:puppet /tmp/use_agent_env.8sm2Ex  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:09$  chmod -R g+rwX /tmp/use_agent_env.8sm2Ex  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:09$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:09$  cp /etc/puppet/puppet.conf /tmp/use_agent_env.8sm2Ex/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:09$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1px1thk centos6-64-1:/tmp/use_agent_env.8sm2Ex/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:09$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl
node_terminus = exec
external_nodes = /tmp/use_agent_env.8sm2Ex/enc.rb
manifest = /tmp/use_agent_env.8sm2Ex/site.pp

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[production]
manifest = /tmp/use_agent_env.8sm2Ex/different.pp

[more_different]
manifest = /tmp/use_agent_env.8sm2Ex/more_different.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.63 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:04:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --server n6vo88vhlunm0j0 --verbose --environment more_different
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0750' to '0755'
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121854'
Notice: more_different_string
Notice: /Stage[main]/Main/Notify[more_different_string]/message: defined 'message' as 'more_different_string'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.56 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:04:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --server n6vo88vhlunm0j0 --verbose --environment more_different
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0750' to '0755'
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121854'
Notice: more_different_string
Notice: /Stage[main]/Main/Notify[more_different_string]/message: defined 'message' as 'more_different_string'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:17$  if [ -f '/tmp/use_agent_env.8sm2Ex/puppet.conf.bak' ]; then cat '/tmp/use_agent_env.8sm2Ex/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/use_agent_env.8sm2Ex/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:17$  cat `puppet master --configprint pidfile`  
10719
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.56 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:18$  kill 10719  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:18$  kill -0 10719  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:19$  kill -0 10719  
bash: line 0: kill: (10719) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/environment" name="use_agent_environment_when_no_enc.rb" time="9.145111"><system-out><![CDATA[
Agent should use agent environment if there is no enc-specified environment

n6vo88vhlunm0j0 (centos6-64-1) 13:04:19$  mktemp -dt use_agent_env.XXXXXX  
/tmp/use_agent_env.crUuqr

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-13tzcx9 centos6-64-1:/tmp/use_agent_env.crUuqr/different.pp {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-5jiyfq centos6-64-1:/tmp/use_agent_env.crUuqr/more_different.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:04:19$  chown -R root:puppet /tmp/use_agent_env.crUuqr  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:19$  chmod -R g+rwX /tmp/use_agent_env.crUuqr  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:19$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:19$  cp /etc/puppet/puppet.conf /tmp/use_agent_env.crUuqr/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:19$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-wr94ut centos6-64-1:/tmp/use_agent_env.crUuqr/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:20$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl
manifest = /tmp/use_agent_env.crUuqr/site.pp

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[production]
manifest = /tmp/use_agent_env.crUuqr/different.pp

[more_different]
manifest = /tmp/use_agent_env.crUuqr/more_different.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.38 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:04:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --server n6vo88vhlunm0j0 --verbose --environment more_different
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121864'
Notice: more_different_string
Notice: /Stage[main]/Main/Notify[more_different_string]/message: defined 'message' as 'more_different_string'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.14 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:04:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --server n6vo88vhlunm0j0 --verbose --environment more_different
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121864'
Notice: more_different_string
Notice: /Stage[main]/Main/Notify[more_different_string]/message: defined 'message' as 'more_different_string'
Notice: Finished catalog run in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:27$  if [ -f '/tmp/use_agent_env.crUuqr/puppet.conf.bak' ]; then cat '/tmp/use_agent_env.crUuqr/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/use_agent_env.crUuqr/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:27$  cat `puppet master --configprint pidfile`  
11025
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.68 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:28$  kill 11025  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:28$  kill -0 11025  
bash: line 0: kill: (11025) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/environment" name="use_enc_environment.rb" time="11.112681"><system-out><![CDATA[
Agent should environment given by ENC

n6vo88vhlunm0j0 (centos6-64-1) 13:04:28$  mktemp -dt use_enc_env.XXXXXX  
/tmp/use_enc_env.02i4nk

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-gfnd9p centos6-64-1:/tmp/use_enc_env.02i4nk/enc.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:04:28$  chmod 755 /tmp/use_enc_env.02i4nk/enc.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ewmezg centos6-64-1:/tmp/use_enc_env.02i4nk/different.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:04:28$  chown -R root:puppet /tmp/use_enc_env.02i4nk  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:29$  chmod -R g+rwX /tmp/use_enc_env.02i4nk  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:29$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:29$  cp /etc/puppet/puppet.conf /tmp/use_enc_env.02i4nk/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:29$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-r6f6z2 centos6-64-1:/tmp/use_enc_env.02i4nk/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:29$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
node_terminus = exec
external_nodes = /tmp/use_enc_env.02i4nk/enc.rb
manifest = /tmp/use_enc_env.02i4nk/site.pp

[special]
manifest = /tmp/use_enc_env.02i4nk/different.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.62 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:04:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --server n6vo88vhlunm0j0 --verbose
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Local environment: "production" doesn't match server specified node environment "special", switching agent to "special".
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121873'
Notice: expected_string
Notice: /Stage[main]/Main/Notify[expected_string]/message: defined 'message' as 'expected_string'
Notice: Finished catalog run in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.42 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:04:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --server n6vo88vhlunm0j0 --verbose
Warning: Local environment: "production" doesn't match server specified node environment "special", switching agent to "special".
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121873'
Notice: expected_string
Notice: /Stage[main]/Main/Notify[expected_string]/message: defined 'message' as 'expected_string'
Notice: Finished catalog run in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.40 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:37$  if [ -f '/tmp/use_enc_env.02i4nk/puppet.conf.bak' ]; then cat '/tmp/use_enc_env.02i4nk/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/use_enc_env.02i4nk/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:37$  cat `puppet master --configprint pidfile`  
11220
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.82 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:38$  kill 11220  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:38$  kill -0 11220  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:39$  kill -0 11220  
bash: line 0: kill: (11220) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[Warning: Local environment: "production" doesn't match server specified node environment "special", switching agent to "special".
]]></system-err></testcase><testcase classname="tests/environment" name="use_enc_environment_for_files.rb" time="15.815032"><system-out><![CDATA[
Agent should use environment given by ENC for fetching remote files

n6vo88vhlunm0j0 (centos6-64-1) 13:04:39$  mktemp -dt respect_enc_test.XXXXXX  
/tmp/respect_enc_test.rfvIPU

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-16xra5m centos6-64-1:/tmp/respect_enc_test.rfvIPU/enc.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:04:39$  chmod 755 /tmp/respect_enc_test.rfvIPU/enc.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:39$  mkdir -p /tmp/respect_enc_test.rfvIPU/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:39$  mkdir -p /tmp/respect_enc_test.rfvIPU/special/amod/files  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-mmqg8t centos6-64-1:/tmp/respect_enc_test.rfvIPU/special/amod/files/testy {}

n6vo88vhlunm0j0 (centos6-64-1) 13:04:40$  chown -R root:puppet /tmp/respect_enc_test.rfvIPU  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:40$  chmod -R g+rwX /tmp/respect_enc_test.rfvIPU  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:40$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:40$  cp /etc/puppet/puppet.conf /tmp/respect_enc_test.rfvIPU/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:40$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1qdwofx centos6-64-1:/tmp/respect_enc_test.rfvIPU/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:40$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
node_terminus = exec
external_nodes = /tmp/respect_enc_test.rfvIPU/enc.rb
filetimeout = 1

[special]
modulepath = /tmp/respect_enc_test.rfvIPU/special
manifest = /tmp/respect_enc_test.rfvIPU/different.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.05 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:04:42$  mktemp -dt respect_enc_test.XXXXXX  
/tmp/respect_enc_test.cm06n1

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
agent: n6vo88vhlunm0j0 	agent.tmpdir => /tmp/respect_enc_test.cm06n1
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10mdlpe centos6-64-1:/tmp/respect_enc_test.rfvIPU/different.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:04:42$  chmod 644 /tmp/respect_enc_test.rfvIPU/different.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --server n6vo88vhlunm0j0 --verbose --trace
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect'; /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `unique_sections_in'; /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:23:in `parse_file'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:535:in `parse_config'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:597:in `parse_config_files'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:247:in `initialize_global_settings'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:150:in `do_initialize_settings_for_run_mode'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:136:in `initialize_settings'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:86:in `execute'; /usr/lib/ruby/site_ruby/1.8/puppet/util.rb:479:in `exit_on_fail'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:85:in `execute'; /usr/bin/puppet:8)
Warning: Local environment: "production" doesn't match server specified node environment "special", switching agent to "special".
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0755' to '0775'
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121887'
Notice: /Stage[main]/Main/File[/tmp/respect_enc_test.cm06n1/special_testy]/ensure: defined content as '{md5}b34f042e17390fcf845a8733d8bd8645'
Notice: mytemp is 
Notice: /Stage[main]/Main/Notify[mytemp is ]/message: defined 'message' as 'mytemp is '
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.52 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:48$  cat /tmp/respect_enc_test.cm06n1/special_testy  
special_environment

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:48$  rm -rf /tmp/respect_enc_test.cm06n1  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:04:48$  mktemp -dt respect_enc_test.XXXXXX  
/tmp/respect_enc_test.lsPgjx

t21rjumdkqr2x5d (centos6-64-2) executed in 0.08 seconds
agent: t21rjumdkqr2x5d 	agent.tmpdir => /tmp/respect_enc_test.lsPgjx
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-7l542 centos6-64-1:/tmp/respect_enc_test.rfvIPU/different.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:04:48$  chmod 644 /tmp/respect_enc_test.rfvIPU/different.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:04:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --server n6vo88vhlunm0j0 --verbose --trace
Warning: Local environment: "production" doesn't match server specified node environment "special", switching agent to "special".
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0755' to '0775'
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121893'
Notice: /Stage[main]/Main/File[/tmp/respect_enc_test.lsPgjx/special_testy]/ensure: defined content as '{md5}b34f042e17390fcf845a8733d8bd8645'
Notice: mytemp is 
Notice: /Stage[main]/Main/Notify[mytemp is ]/message: defined 'message' as 'mytemp is '
Notice: Finished catalog run in 0.17 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.16 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:04:53$  cat /tmp/respect_enc_test.lsPgjx/special_testy  
special_environment

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:04:53$  rm -rf /tmp/respect_enc_test.lsPgjx  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:53$  if [ -f '/tmp/respect_enc_test.rfvIPU/puppet.conf.bak' ]; then cat '/tmp/respect_enc_test.rfvIPU/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/respect_enc_test.rfvIPU/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:53$  cat `puppet master --configprint pidfile`  
11436
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.58 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:54$  kill 11436  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:54$  kill -0 11436  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:55$  kill -0 11436  
bash: line 0: kill: (11436) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/environment" name="use_enc_environment_for_pluginsync.rb" time="11.023028"><system-out><![CDATA[
Agent should use environment given by ENC for pluginsync

n6vo88vhlunm0j0 (centos6-64-1) 13:04:55$  mktemp -dt respect_enc_test.XXXXXX  
/tmp/respect_enc_test.lu0bKq

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-jr0cnl centos6-64-1:/tmp/respect_enc_test.lu0bKq/enc.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:04:55$  chmod 755 /tmp/respect_enc_test.lu0bKq/enc.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:55$  mkdir -p /tmp/respect_enc_test.lu0bKq/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:55$  mkdir -p /tmp/respect_enc_test.lu0bKq/special/amod/lib/puppet  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-n8fpzm centos6-64-1:/tmp/respect_enc_test.lu0bKq/special/amod/lib/puppet/foo.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:04:55$  chown -R root:puppet /tmp/respect_enc_test.lu0bKq  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:55$  chmod -R g+rwX /tmp/respect_enc_test.lu0bKq  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:56$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:56$  cp /etc/puppet/puppet.conf /tmp/respect_enc_test.lu0bKq/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:56$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1kxjasa centos6-64-1:/tmp/respect_enc_test.lu0bKq/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:56$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
node_terminus = exec
external_nodes = /tmp/respect_enc_test.lu0bKq/enc.rb

[special]
modulepath = /tmp/respect_enc_test.lu0bKq/special

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:04:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.50 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:04:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --server n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.34 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:01$  cat /var/lib/puppet/lib/puppet/foo.rb  
#special_version

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:01$  rm -rf /var/lib/puppet/lib  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:05:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --server n6vo88vhlunm0j0

t21rjumdkqr2x5d (centos6-64-2) executed in 3.48 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:05:04$  cat /var/lib/puppet/lib/puppet/foo.rb  
#special_version

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:05:04$  rm -rf /var/lib/puppet/lib  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:04$  if [ -f '/tmp/respect_enc_test.lu0bKq/puppet.conf.bak' ]; then cat '/tmp/respect_enc_test.lu0bKq/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/respect_enc_test.lu0bKq/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:04$  cat `puppet master --configprint pidfile`  
11679
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:05$  kill 11679  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:05$  kill -0 11679  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:06$  kill -0 11679  
bash: line 0: kill: (11679) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/environment" name="use_environment_from_environmentpath.rb" time="28.544183"><system-out><![CDATA[
Use environments from the environmentpath

n6vo88vhlunm0j0 (centos6-64-1) 13:05:06$  mktemp -dt use_environmentpath.XXXXXX  
/tmp/use_environmentpath.alEGp7

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:06$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.E50LrA

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-8u25w6 centos6-64-1:/tmp/apply_manifest.pp.E50LrA {}

n6vo88vhlunm0j0 (centos6-64-1) 13:05:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --detailed-exitcodes /tmp/apply_manifest.pp.E50LrA
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.26 seconds
Info: Applying configuration version '1403121908'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7]/group: group changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7]/mode: mode changed '0700' to '0750'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/modules]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/modules/globalmod]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/modules/globalmod/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/modules/globalmod/lib]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/modules/globalmod/templates]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/modules/globalmod/templates/our_template.erb]/ensure: defined content as '{md5}0d73ffd519031430208f83dd54ade882'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/modules/globalmod/files]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/modules/globalmod/lib/facter]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/modules/globalmod/lib/facter/environment_fact_globalmod.rb]/ensure: defined content as '{md5}db961fc238c0911f008d808ec4f4846b'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/modules/globalmod/manifests/init.pp]/ensure: defined content as '{md5}d8f8051464295c54dba252e01fe4257e'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/modules/globalmod/files/data]/ensure: defined content as '{md5}807976c7e6395bc1c3a6ee087e7b94bc'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/manifests/site.pp]/ensure: defined content as '{md5}f09b654efbde57ee47859b4c2f889ddb'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/modules]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/modules/atmp]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/modules/atmp/templates]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/modules/atmp/templates/our_template.erb]/ensure: defined content as '{md5}b0aba3952d3b2b74a44ad41a14090f01'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/modules/atmp/lib]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/modules/atmp/lib/facter]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/modules/atmp/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/modules/atmp/files]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/modules/atmp/files/data]/ensure: defined content as '{md5}8e6c5d2dbf57edb1349762c34090a312'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/modules/atmp/manifests/init.pp]/ensure: defined content as '{md5}d5dccbb58ac2a9ba60d1d2f8889bb80d'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/manifests/site.pp]/ensure: defined content as '{md5}f09b654efbde57ee47859b4c2f889ddb'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/modules]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/modules/atmp]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/modules/atmp/templates]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/modules/atmp/lib]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/modules/atmp/files]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/modules/atmp/files/data]/ensure: defined content as '{md5}8e6c5d2dbf57edb1349762c34090a312'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/modules/atmp/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/modules/atmp/manifests/init.pp]/ensure: defined content as '{md5}d5dccbb58ac2a9ba60d1d2f8889bb80d'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/modules/atmp/lib/facter]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/modules/atmp/lib/facter/environment_fact_atmp.rb]/ensure: defined content as '{md5}f8d77cd78c791ba2e80fed9e456bffe1'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/additional/shadowed/modules/atmp/lib/facter/environment_fact_atmp.rb]/ensure: defined content as '{md5}f8d77cd78c791ba2e80fed9e456bffe1'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/manifests/site.pp]/ensure: defined content as '{md5}f09b654efbde57ee47859b4c2f889ddb'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/modules]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/modules/atmp]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/modules/atmp/templates]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/modules/atmp/templates/our_template.erb]/ensure: defined content as '{md5}b0aba3952d3b2b74a44ad41a14090f01'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/modules/atmp/files]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/modules/atmp/files/data]/ensure: defined content as '{md5}8474c28b711795787d8264a6be7c87da'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/modules/atmp/lib]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/modules/atmp/lib/facter]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/modules/atmp/lib/facter/environment_fact_atmp.rb]/ensure: defined content as '{md5}091ffad53ef0d6539d8e1c8a37360250'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/shadowed/modules/atmp/templates/our_template.erb]/ensure: defined content as '{md5}b0aba3952d3b2b74a44ad41a14090f01'
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/modules/atmp/manifests]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/use_environmentpath.alEGp7/base/onlybase/modules/atmp/manifests/init.pp]/ensure: defined content as '{md5}9169129252e187924fa3371791cba657'
Notice: Finished catalog run in 0.35 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.30 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:05:10$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:10$  cp /etc/puppet/puppet.conf /tmp/use_environmentpath.alEGp7/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:10$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1gz6no8 centos6-64-1:/tmp/use_environmentpath.alEGp7/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:10$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
environmentpath = /tmp/use_environmentpath.alEGp7/additional:/tmp/use_environmentpath.alEGp7/base
basemodulepath = /tmp/use_environmentpath.alEGp7/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.46 seconds
Waiting for the puppet master to start
The puppet master has started

  * running an agent in environment 'shadowed'

n6vo88vhlunm0j0 (centos6-64-1) 13:05:12$  mktemp -dt use_environmentpath_shadowed.XXXXXX  
/tmp/use_environmentpath_shadowed.gzDDkw

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:12$ env FACTER_agent_file_location="/tmp/use_environmentpath_shadowed.gzDDkw" PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0 --environment shadowed
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0775' to '0750'
Info: Retrieving plugin
Notice: /File[/var/lib/puppet/lib/facter]/ensure: created
Notice: /File[/var/lib/puppet/lib/facter/environment_fact_atmp.rb]/ensure: defined content as '{md5}f8d77cd78c791ba2e80fed9e456bffe1'
Notice: /File[/var/lib/puppet/lib/facter/environment_fact_globalmod.rb]/ensure: defined content as '{md5}db961fc238c0911f008d808ec4f4846b'
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_atmp.rb
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_globalmod.rb
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121914'
Notice: environment fact from module-atmp-from-shadowed
Notice: /Stage[main]/Atmp/Notify[template-atmp]/message: defined 'message' as 'environment fact from module-atmp-from-shadowed'
Notice: /Stage[main]/Globalmod/File[/tmp/use_environmentpath_shadowed.gzDDkw/file-module-globalmod]/ensure: defined content as '{md5}807976c7e6395bc1c3a6ee087e7b94bc'
Notice: environment fact from module-globalmod
Notice: /Stage[main]/Globalmod/Notify[template-globalmod]/message: defined 'message' as 'environment fact from module-globalmod'
Notice: /Stage[main]/Atmp/File[/tmp/use_environmentpath_shadowed.gzDDkw/file-module-atmp-from-shadowed]/ensure: defined content as '{md5}8e6c5d2dbf57edb1349762c34090a312'
Notice: Finished catalog run in 0.43 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.50 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:05:15$  cat /tmp/use_environmentpath_shadowed.gzDDkw/file-module-atmp-from-shadowed  
data file from module-atmp-from-shadowed
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:15$  cat /tmp/use_environmentpath_shadowed.gzDDkw/file-module-globalmod  
data file from module-globalmod
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:15$  rm -rf /tmp/use_environmentpath_shadowed.gzDDkw  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.16 seconds

  * running an agent in environment 'onlybase'

n6vo88vhlunm0j0 (centos6-64-1) 13:05:16$  mktemp -dt use_environmentpath_onlybase.XXXXXX  
/tmp/use_environmentpath_onlybase.gNoxya

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:16$ env FACTER_agent_file_location="/tmp/use_environmentpath_onlybase.gNoxya" PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0 --environment onlybase
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/var/lib/puppet/lib/facter/environment_fact_atmp.rb]/content: 
--- /var/lib/puppet/lib/facter/environment_fact_atmp.rb	2014-06-18 13:05:13.981167607 -0700
+++ /tmp/puppet-file20140618-12156-5waioz-0	2014-06-18 13:05:17.884118107 -0700
@@ -1 +1 @@
-Facter.add(:environment_fact_atmp) { setcode { 'environment fact from module-atmp-from-shadowed' } }
\ No newline at end of file
+Facter.add(:environment_fact_atmp) { setcode { 'environment fact from module-atmp-from-onlybase' } }
\ No newline at end of file

Notice: /File[/var/lib/puppet/lib/facter/environment_fact_atmp.rb]/content: content changed '{md5}f8d77cd78c791ba2e80fed9e456bffe1' to '{md5}091ffad53ef0d6539d8e1c8a37360250'
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_atmp.rb
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_globalmod.rb
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121918'
Notice: environment fact from module-atmp-from-onlybase
Notice: /Stage[main]/Atmp/Notify[template-atmp]/message: defined 'message' as 'environment fact from module-atmp-from-onlybase'
Notice: /Stage[main]/Atmp/File[/tmp/use_environmentpath_onlybase.gNoxya/file-module-atmp-from-onlybase]/ensure: defined content as '{md5}8474c28b711795787d8264a6be7c87da'
Notice: environment fact from module-globalmod
Notice: /Stage[main]/Globalmod/Notify[template-globalmod]/message: defined 'message' as 'environment fact from module-globalmod'
Notice: /Stage[main]/Globalmod/File[/tmp/use_environmentpath_onlybase.gNoxya/file-module-globalmod]/ensure: defined content as '{md5}807976c7e6395bc1c3a6ee087e7b94bc'
Notice: Finished catalog run in 0.45 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.65 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:05:19$  cat /tmp/use_environmentpath_onlybase.gNoxya/file-module-atmp-from-onlybase  
data file from module-atmp-from-onlybase
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:19$  cat /tmp/use_environmentpath_onlybase.gNoxya/file-module-globalmod  
data file from module-globalmod
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:19$  rm -rf /tmp/use_environmentpath_onlybase.gNoxya  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * running an agent in environment ''

n6vo88vhlunm0j0 (centos6-64-1) 13:05:19$  mktemp -dt use_environmentpath_.XXXXXX  
/tmp/use_environmentpath_.ExIo1o

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:19$ env FACTER_agent_file_location="/tmp/use_environmentpath_.ExIo1o" PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Error: /File[/var/lib/puppet/facts.d]: Could not evaluate: Could not retrieve information from environment production source(s) puppet://n6vo88vhlunm0j0/pluginfacts
Info: Retrieving plugin
Error: /File[/var/lib/puppet/lib]: Could not evaluate: Could not retrieve information from environment production source(s) puppet://n6vo88vhlunm0j0/plugins
Notice: /File[/var/lib/puppet/lib/facter]: Dependency File[/var/lib/puppet/lib] has failures: true
Warning: /File[/var/lib/puppet/lib/facter]: Skipping because of failed dependencies
Notice: /File[/var/lib/puppet/lib/facter/environment_fact_atmp.rb]: Dependency File[/var/lib/puppet/lib] has failures: true
Warning: /File[/var/lib/puppet/lib/facter/environment_fact_atmp.rb]: Skipping because of failed dependencies
Notice: /File[/var/lib/puppet/lib/facter/environment_fact_globalmod.rb]: Dependency File[/var/lib/puppet/lib] has failures: true
Warning: /File[/var/lib/puppet/lib/facter/environment_fact_globalmod.rb]: Skipping because of failed dependencies
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_atmp.rb
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_globalmod.rb
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403121922'
Notice: Finished catalog run in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:22$  rm -rf /tmp/use_environmentpath_.ExIo1o  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * running an agent in environment 'shadowed'

t21rjumdkqr2x5d (centos6-64-2) 13:05:22$  mktemp -dt use_environmentpath_shadowed.XXXXXX  
/tmp/use_environmentpath_shadowed.BiTKL3

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:05:23$ env FACTER_agent_file_location="/tmp/use_environmentpath_shadowed.BiTKL3" PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0 --environment shadowed
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0775' to '0750'
Info: Retrieving plugin
Notice: /File[/var/lib/puppet/lib/facter]/ensure: created
Notice: /File[/var/lib/puppet/lib/facter/environment_fact_atmp.rb]/ensure: defined content as '{md5}f8d77cd78c791ba2e80fed9e456bffe1'
Notice: /File[/var/lib/puppet/lib/facter/environment_fact_globalmod.rb]/ensure: defined content as '{md5}db961fc238c0911f008d808ec4f4846b'
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_atmp.rb
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_globalmod.rb
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121914'
Notice: environment fact from module-atmp-from-shadowed
Notice: /Stage[main]/Atmp/Notify[template-atmp]/message: defined 'message' as 'environment fact from module-atmp-from-shadowed'
Notice: environment fact from module-globalmod
Notice: /Stage[main]/Globalmod/Notify[template-globalmod]/message: defined 'message' as 'environment fact from module-globalmod'
Notice: /Stage[main]/Globalmod/File[/tmp/use_environmentpath_shadowed.BiTKL3/file-module-globalmod]/ensure: defined content as '{md5}807976c7e6395bc1c3a6ee087e7b94bc'
Notice: /Stage[main]/Atmp/File[/tmp/use_environmentpath_shadowed.BiTKL3/file-module-atmp-from-shadowed]/ensure: defined content as '{md5}8e6c5d2dbf57edb1349762c34090a312'
Notice: Finished catalog run in 0.42 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.28 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:05:26$  cat /tmp/use_environmentpath_shadowed.BiTKL3/file-module-atmp-from-shadowed  
data file from module-atmp-from-shadowed
t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:05:26$  cat /tmp/use_environmentpath_shadowed.BiTKL3/file-module-globalmod  
data file from module-globalmod
t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:05:26$  rm -rf /tmp/use_environmentpath_shadowed.BiTKL3  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * running an agent in environment 'onlybase'

t21rjumdkqr2x5d (centos6-64-2) 13:05:26$  mktemp -dt use_environmentpath_onlybase.XXXXXX  
/tmp/use_environmentpath_onlybase.N4amh6

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:05:26$ env FACTER_agent_file_location="/tmp/use_environmentpath_onlybase.N4amh6" PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0 --environment onlybase
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/var/lib/puppet/lib/facter/environment_fact_atmp.rb]/content: 
--- /var/lib/puppet/lib/facter/environment_fact_atmp.rb	2014-06-18 13:05:24.904493309 -0700
+++ /tmp/puppet-file20140618-9512-1k07loh-0	2014-06-18 13:05:28.407493304 -0700
@@ -1 +1 @@
-Facter.add(:environment_fact_atmp) { setcode { 'environment fact from module-atmp-from-shadowed' } }
\ No newline at end of file
+Facter.add(:environment_fact_atmp) { setcode { 'environment fact from module-atmp-from-onlybase' } }
\ No newline at end of file

Notice: /File[/var/lib/puppet/lib/facter/environment_fact_atmp.rb]/content: content changed '{md5}f8d77cd78c791ba2e80fed9e456bffe1' to '{md5}091ffad53ef0d6539d8e1c8a37360250'
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_atmp.rb
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_globalmod.rb
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121918'
Notice: environment fact from module-atmp-from-onlybase
Notice: /Stage[main]/Atmp/Notify[template-atmp]/message: defined 'message' as 'environment fact from module-atmp-from-onlybase'
Notice: /Stage[main]/Atmp/File[/tmp/use_environmentpath_onlybase.N4amh6/file-module-atmp-from-onlybase]/ensure: defined content as '{md5}8474c28b711795787d8264a6be7c87da'
Notice: environment fact from module-globalmod
Notice: /Stage[main]/Globalmod/Notify[template-globalmod]/message: defined 'message' as 'environment fact from module-globalmod'
Notice: /Stage[main]/Globalmod/File[/tmp/use_environmentpath_onlybase.N4amh6/file-module-globalmod]/ensure: defined content as '{md5}807976c7e6395bc1c3a6ee087e7b94bc'
Notice: Finished catalog run in 0.43 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.49 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:05:29$  cat /tmp/use_environmentpath_onlybase.N4amh6/file-module-atmp-from-onlybase  
data file from module-atmp-from-onlybase
t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:05:29$  cat /tmp/use_environmentpath_onlybase.N4amh6/file-module-globalmod  
data file from module-globalmod
t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:05:29$  rm -rf /tmp/use_environmentpath_onlybase.N4amh6  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * running an agent in environment ''

t21rjumdkqr2x5d (centos6-64-2) 13:05:29$  mktemp -dt use_environmentpath_.XXXXXX  
/tmp/use_environmentpath_.aq7sDj

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:05:29$ env FACTER_agent_file_location="/tmp/use_environmentpath_.aq7sDj" PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Error: /File[/var/lib/puppet/facts.d]: Could not evaluate: Could not retrieve information from environment production source(s) puppet://n6vo88vhlunm0j0/pluginfacts
Info: Retrieving plugin
Error: /File[/var/lib/puppet/lib]: Could not evaluate: Could not retrieve information from environment production source(s) puppet://n6vo88vhlunm0j0/plugins
Notice: /File[/var/lib/puppet/lib/facter]: Dependency File[/var/lib/puppet/lib] has failures: true
Warning: /File[/var/lib/puppet/lib/facter]: Skipping because of failed dependencies
Notice: /File[/var/lib/puppet/lib/facter/environment_fact_atmp.rb]: Dependency File[/var/lib/puppet/lib] has failures: true
Warning: /File[/var/lib/puppet/lib/facter/environment_fact_atmp.rb]: Skipping because of failed dependencies
Notice: /File[/var/lib/puppet/lib/facter/environment_fact_globalmod.rb]: Dependency File[/var/lib/puppet/lib] has failures: true
Warning: /File[/var/lib/puppet/lib/facter/environment_fact_globalmod.rb]: Skipping because of failed dependencies
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_atmp.rb
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_globalmod.rb
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403121922'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.46 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:05:33$  rm -rf /tmp/use_environmentpath_.aq7sDj  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:33$  if [ -f '/tmp/use_environmentpath.alEGp7/puppet.conf.bak' ]; then cat '/tmp/use_environmentpath.alEGp7/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/use_environmentpath.alEGp7/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:33$  cat `puppet master --configprint pidfile`  
11998
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.52 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:34$  kill 11998  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:34$  kill -0 11998  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:35$  kill -0 11998  
bash: line 0: kill: (11998) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/external_ca_support" name="apache_external_root_ca.rb" time="92.422928"><system-out><![CDATA[
Puppet agent works with Apache, both configured with externally issued certificates from independent intermediate CA's

  * Copy certificates and configuration files to the master...

n6vo88vhlunm0j0 (centos6-64-1) 13:05:35$  mktemp -dt apache_external_root_ca.XXXXXX  
/tmp/apache_external_root_ca.y6ykW7

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-uyx38n centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/ca_root.crt {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1eyy4em centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/ca_agent.crt {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-14zlzhg centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/ca_master.crt {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zejek4 centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/ca_master.crl {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1apgs9w centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/ca_master_bundle.crt {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-11iy12l centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/ca_agent_bundle.crt {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1cv9mbv centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/agent.crt {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1dip8nf centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/agent.key {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1qawgi6 centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/agent_email.crt {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-jdn9m5 centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/agent_email.key {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-624obq centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/master.crt {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1aha1ql centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/master.key {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1kih5nk centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/master_rogue.crt {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zuqxin centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/master_rogue.key {}

n6vo88vhlunm0j0 (centos6-64-1) 13:05:36$  mkdir -p /tmp/apache_external_root_ca.y6ykW7/etc/{master/{public,modules/empty/lib},agent}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:36$  cp -p /etc/hosts '/tmp/apache_external_root_ca.y6ykW7/hosts'  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:36$  grep -q -x '127.0.0.3 master1.example.org master1 puppet
' /etc/hosts || echo '127.0.0.3 master1.example.org master1 puppet
' >> /etc/hosts  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1d0kfge centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/etc/agent/puppet.conf {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-nk7bqz centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/etc/agent/puppet.conf.crl {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-k3p8yg centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/etc/agent/puppet.conf.email {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-30t8r5 centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/etc/master/puppet.conf {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-104w35w centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/etc/master/auth.conf {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-7azz64 centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/etc/master/config.ru {}

  * Set filesystem permissions and ownership for the master

n6vo88vhlunm0j0 (centos6-64-1) 13:05:36$  chown -R puppet:puppet /tmp/apache_external_root_ca.y6ykW7/etc/master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:36$  chmod -R a+rX /tmp/apache_external_root_ca.y6ykW7  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Configure EPEL

n6vo88vhlunm0j0 (centos6-64-1) 13:05:36$  rpm -q epel-release || (yum -y install http://mirror.us.leaseweb.net/epel/6/i386/epel-release-6-8.noarch.rpm && yum -y upgrade epel-release)  
epel-release-6-8.noarch

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * Configure Apache and Passenger

n6vo88vhlunm0j0 (centos6-64-1) 13:05:37$  rpm -q httpd || (yum -y install httpd)  
package httpd is not installed
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package httpd.x86_64 0:2.2.15-30.el6.centos will be installed
--> Processing Dependency: httpd-tools = 2.2.15-30.el6.centos for package: httpd-2.2.15-30.el6.centos.x86_64
--> Processing Dependency: /etc/mime.types for package: httpd-2.2.15-30.el6.centos.x86_64
--> Processing Dependency: apr-util-ldap for package: httpd-2.2.15-30.el6.centos.x86_64
--> Processing Dependency: libaprutil-1.so.0()(64bit) for package: httpd-2.2.15-30.el6.centos.x86_64
--> Processing Dependency: libapr-1.so.0()(64bit) for package: httpd-2.2.15-30.el6.centos.x86_64
--> Running transaction check
---> Package apr.x86_64 0:1.3.9-5.el6_2 will be installed
---> Package apr-util.x86_64 0:1.3.9-3.el6_0.1 will be installed
---> Package apr-util-ldap.x86_64 0:1.3.9-3.el6_0.1 will be installed
---> Package httpd-tools.x86_64 0:2.2.15-30.el6.centos will be installed
---> Package mailcap.noarch 0:2.1.31-2.el6 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package            Arch        Version                      Repository    Size
================================================================================
Installing:
 httpd              x86_64      2.2.15-30.el6.centos         updates      821 k
Installing for dependencies:
 apr                x86_64      1.3.9-5.el6_2                base         123 k
 apr-util           x86_64      1.3.9-3.el6_0.1              base          87 k
 apr-util-ldap      x86_64      1.3.9-3.el6_0.1              base          15 k
 httpd-tools        x86_64      2.2.15-30.el6.centos         updates       73 k
 mailcap            noarch      2.1.31-2.el6                 base          27 k

Transaction Summary
================================================================================
Install       6 Package(s)

Total download size: 1.1 M
Installed size: 3.6 M
Downloading Packages:
--------------------------------------------------------------------------------
Total                                            10 MB/s | 1.1 MB     00:00     
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing : apr-1.3.9-5.el6_2.x86_64                                     1/6 
  Installing : apr-util-1.3.9-3.el6_0.1.x86_64                              2/6 
  Installing : apr-util-ldap-1.3.9-3.el6_0.1.x86_64                         3/6 
  Installing : httpd-tools-2.2.15-30.el6.centos.x86_64                      4/6 
  Installing : mailcap-2.1.31-2.el6.noarch                                  5/6 
  Installing : httpd-2.2.15-30.el6.centos.x86_64                            6/6 
  Verifying  : httpd-2.2.15-30.el6.centos.x86_64                            1/6 
  Verifying  : apr-util-ldap-1.3.9-3.el6_0.1.x86_64                         2/6 
  Verifying  : apr-1.3.9-5.el6_2.x86_64                                     3/6 
  Verifying  : mailcap-2.1.31-2.el6.noarch                                  4/6 
  Verifying  : httpd-tools-2.2.15-30.el6.centos.x86_64                      5/6 
  Verifying  : apr-util-1.3.9-3.el6_0.1.x86_64                              6/6 

Installed:
  httpd.x86_64 0:2.2.15-30.el6.centos                                           

Dependency Installed:
  apr.x86_64 0:1.3.9-5.el6_2                                                    
  apr-util.x86_64 0:1.3.9-3.el6_0.1                                             
  apr-util-ldap.x86_64 0:1.3.9-3.el6_0.1                                        
  httpd-tools.x86_64 0:2.2.15-30.el6.centos                                     
  mailcap.noarch 0:2.1.31-2.el6                                                 

Complete!

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:41$  rpm -q mod_ssl || (yum -y install mod_ssl)  
package mod_ssl is not installed
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package mod_ssl.x86_64 1:2.2.15-30.el6.centos will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package       Arch         Version                         Repository     Size
================================================================================
Installing:
 mod_ssl       x86_64       1:2.2.15-30.el6.centos          updates        91 k

Transaction Summary
================================================================================
Install       1 Package(s)

Total download size: 91 k
Installed size: 183 k
Downloading Packages:
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing : 1:mod_ssl-2.2.15-30.el6.centos.x86_64                        1/1 
  Verifying  : 1:mod_ssl-2.2.15-30.el6.centos.x86_64                        1/1 

Installed:
  mod_ssl.x86_64 1:2.2.15-30.el6.centos                                         

Complete!

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.84 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:42$  rpm -q mod_passenger || (yum -y install mod_passenger)  
package mod_passenger is not installed
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package mod_passenger.x86_64 0:3.0.21-11.el6 will be installed
--> Processing Dependency: rubygem(passenger) = 3.0.21-11.el6 for package: mod_passenger-3.0.21-11.el6.x86_64
--> Processing Dependency: rubygem-passenger-native(x86-64) = 3.0.21-11.el6 for package: mod_passenger-3.0.21-11.el6.x86_64
--> Running transaction check
---> Package rubygem-passenger.x86_64 0:3.0.21-11.el6 will be installed
--> Processing Dependency: rubygem(daemon_controller) >= 1.0.0 for package: rubygem-passenger-3.0.21-11.el6.x86_64
--> Processing Dependency: rubygem(fastthread) >= 1.0.1 for package: rubygem-passenger-3.0.21-11.el6.x86_64
--> Processing Dependency: rubygem(rack) for package: rubygem-passenger-3.0.21-11.el6.x86_64
--> Processing Dependency: rubygem(rake) for package: rubygem-passenger-3.0.21-11.el6.x86_64
---> Package rubygem-passenger-native.x86_64 0:3.0.21-11.el6 will be installed
--> Processing Dependency: rubygem-passenger-native-libs(x86-64) = 3.0.21-11.el6 for package: rubygem-passenger-native-3.0.21-11.el6.x86_64
--> Processing Dependency: libev.so.4()(64bit) for package: rubygem-passenger-native-3.0.21-11.el6.x86_64
--> Running transaction check
---> Package libev.x86_64 0:4.03-3.el6 will be installed
---> Package rubygem-daemon_controller.noarch 0:1.1.5-1.el6 will be installed
---> Package rubygem-fastthread.x86_64 0:1.0.7-2.el6 will be installed
---> Package rubygem-passenger-native-libs.x86_64 0:3.0.21-11.el6 will be installed
---> Package rubygem-rack.noarch 1:1.1.0-2.el6 will be installed
---> Package rubygem-rake.noarch 0:0.8.7-2.1.el6 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                           Arch       Version            Repository
                                                                           Size
================================================================================
Installing:
 mod_passenger                     x86_64     3.0.21-11.el6      epel     216 k
Installing for dependencies:
 libev                             x86_64     4.03-3.el6         epel     113 k
 rubygem-daemon_controller         noarch     1.1.5-1.el6        epel      46 k
 rubygem-fastthread                x86_64     1.0.7-2.el6        epel      59 k
 rubygem-passenger                 x86_64     3.0.21-11.el6      epel     152 k
 rubygem-passenger-native          x86_64     3.0.21-11.el6      epel     497 k
 rubygem-passenger-native-libs     x86_64     3.0.21-11.el6      epel      13 k
 rubygem-rack                      noarch     1:1.1.0-2.el6      epel     446 k
 rubygem-rake                      noarch     0.8.7-2.1.el6      base     404 k

Transaction Summary
================================================================================
Install       9 Package(s)

Total download size: 1.9 M
Installed size: 6.4 M
Downloading Packages:
--------------------------------------------------------------------------------
Total                                           8.6 MB/s | 1.9 MB     00:00     
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing : 1:rubygem-rack-1.1.0-2.el6.noarch                            1/9 
  Installing : rubygem-fastthread-1.0.7-2.el6.x86_64                        2/9 
  Installing : rubygem-rake-0.8.7-2.1.el6.noarch                            3/9 
  Installing : libev-4.03-3.el6.x86_64                                      4/9 
  Installing : rubygem-daemon_controller-1.1.5-1.el6.noarch                 5/9 
  Installing : rubygem-passenger-3.0.21-11.el6.x86_64                       6/9 
  Installing : rubygem-passenger-native-libs-3.0.21-11.el6.x86_64           7/9 
  Installing : rubygem-passenger-native-3.0.21-11.el6.x86_64                8/9 
  Installing : mod_passenger-3.0.21-11.el6.x86_64                           9/9 
  Verifying  : rubygem-passenger-native-libs-3.0.21-11.el6.x86_64           1/9 
  Verifying  : rubygem-passenger-3.0.21-11.el6.x86_64                       2/9 
  Verifying  : rubygem-daemon_controller-1.1.5-1.el6.noarch                 3/9 
  Verifying  : libev-4.03-3.el6.x86_64                                      4/9 
  Verifying  : rubygem-rake-0.8.7-2.1.el6.noarch                            5/9 
  Verifying  : rubygem-fastthread-1.0.7-2.el6.x86_64                        6/9 
  Verifying  : rubygem-passenger-native-3.0.21-11.el6.x86_64                7/9 
  Verifying  : mod_passenger-3.0.21-11.el6.x86_64                           8/9 
  Verifying  : 1:rubygem-rack-1.1.0-2.el6.noarch                            9/9 

Installed:
  mod_passenger.x86_64 0:3.0.21-11.el6                                          

Dependency Installed:
  libev.x86_64 0:4.03-3.el6                                                     
  rubygem-daemon_controller.noarch 0:1.1.5-1.el6                                
  rubygem-fastthread.x86_64 0:1.0.7-2.el6                                       
  rubygem-passenger.x86_64 0:3.0.21-11.el6                                      
  rubygem-passenger-native.x86_64 0:3.0.21-11.el6                               
  rubygem-passenger-native-libs.x86_64 0:3.0.21-11.el6                          
  rubygem-rack.noarch 1:1.1.0-2.el6                                             
  rubygem-rake.noarch 0:0.8.7-2.1.el6                                           

Complete!

n6vo88vhlunm0j0 (centos6-64-1) executed in 5.65 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:48$  rpm -q rubygem-passenger || (yum -y install rubygem-passenger)  
rubygem-passenger-3.0.21-11.el6.x86_64

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:05:48$  rpm -q policycoreutils-python || (yum -y install policycoreutils-python)  
package policycoreutils-python is not installed
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package policycoreutils-python.x86_64 0:2.0.83-19.39.el6 will be installed
--> Processing Dependency: libsemanage-python >= 2.0.43-4 for package: policycoreutils-python-2.0.83-19.39.el6.x86_64
--> Processing Dependency: audit-libs-python >= 1.4.2-1 for package: policycoreutils-python-2.0.83-19.39.el6.x86_64
--> Processing Dependency: libcgroup for package: policycoreutils-python-2.0.83-19.39.el6.x86_64
--> Processing Dependency: libselinux-python for package: policycoreutils-python-2.0.83-19.39.el6.x86_64
--> Processing Dependency: setools-libs-python for package: policycoreutils-python-2.0.83-19.39.el6.x86_64
--> Running transaction check
---> Package audit-libs-python.x86_64 0:2.2-4.el6_5 will be installed
--> Processing Dependency: audit-libs = 2.2-4.el6_5 for package: audit-libs-python-2.2-4.el6_5.x86_64
---> Package libcgroup.x86_64 0:0.40.rc1-5.el6_5.1 will be installed
---> Package libselinux-python.x86_64 0:2.0.94-5.3.el6_4.1 will be installed
---> Package libsemanage-python.x86_64 0:2.0.43-4.2.el6 will be installed
---> Package setools-libs-python.x86_64 0:3.3.7-4.el6 will be installed
--> Processing Dependency: setools-libs = 3.3.7-4.el6 for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libpoldiff.so.1(VERS_1.3)(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libqpol.so.1(VERS_1.2)(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libseaudit.so.4(VERS_4.2)(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libqpol.so.1(VERS_1.4)(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libsefs.so.4(VERS_4.0)(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libseaudit.so.4(VERS_4.1)(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libqpol.so.1(VERS_1.3)(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libapol.so.4(VERS_4.1)(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libapol.so.4(VERS_4.0)(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libpoldiff.so.1(VERS_1.2)(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libapol.so.4()(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libpoldiff.so.1()(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libqpol.so.1()(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libseaudit.so.4()(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Processing Dependency: libsefs.so.4()(64bit) for package: setools-libs-python-3.3.7-4.el6.x86_64
--> Running transaction check
---> Package audit-libs.x86_64 0:2.2-2.el6 will be updated
--> Processing Dependency: audit-libs = 2.2-2.el6 for package: audit-2.2-2.el6.x86_64
---> Package audit-libs.x86_64 0:2.2-4.el6_5 will be an update
---> Package setools-libs.x86_64 0:3.3.7-4.el6 will be installed
--> Running transaction check
---> Package audit.x86_64 0:2.2-2.el6 will be updated
---> Package audit.x86_64 0:2.2-4.el6_5 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                    Arch       Version                Repository   Size
================================================================================
Installing:
 policycoreutils-python     x86_64     2.0.83-19.39.el6       base        343 k
Installing for dependencies:
 audit-libs-python          x86_64     2.2-4.el6_5            updates      59 k
 libcgroup                  x86_64     0.40.rc1-5.el6_5.1     updates     125 k
 libselinux-python          x86_64     2.0.94-5.3.el6_4.1     base        202 k
 libsemanage-python         x86_64     2.0.43-4.2.el6         base         81 k
 setools-libs               x86_64     3.3.7-4.el6            base        400 k
 setools-libs-python        x86_64     3.3.7-4.el6            base        222 k
Updating for dependencies:
 audit                      x86_64     2.2-4.el6_5            updates     225 k
 audit-libs                 x86_64     2.2-4.el6_5            updates      60 k

Transaction Summary
================================================================================
Install       7 Package(s)
Upgrade       2 Package(s)

Total download size: 1.7 M
Downloading Packages:
--------------------------------------------------------------------------------
Total                                           8.1 MB/s | 1.7 MB     00:00     
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Updating   : audit-libs-2.2-4.el6_5.x86_64                               1/11 
  Installing : audit-libs-python-2.2-4.el6_5.x86_64                        2/11 
  Installing : libselinux-python-2.0.94-5.3.el6_4.1.x86_64                 3/11 
  Installing : setools-libs-3.3.7-4.el6.x86_64                             4/11 
  Installing : setools-libs-python-3.3.7-4.el6.x86_64                      5/11 
  Installing : libsemanage-python-2.0.43-4.2.el6.x86_64                    6/11 
  Installing : libcgroup-0.40.rc1-5.el6_5.1.x86_64                         7/11 
  Installing : policycoreutils-python-2.0.83-19.39.el6.x86_64              8/11 
  Updating   : audit-2.2-4.el6_5.x86_64                                    9/11 
  Cleanup    : audit-2.2-2.el6.x86_64                                     10/11 
  Cleanup    : audit-libs-2.2-2.el6.x86_64                                11/11 
  Verifying  : audit-libs-python-2.2-4.el6_5.x86_64                        1/11 
  Verifying  : setools-libs-python-3.3.7-4.el6.x86_64                      2/11 
  Verifying  : libcgroup-0.40.rc1-5.el6_5.1.x86_64                         3/11 
  Verifying  : audit-libs-2.2-4.el6_5.x86_64                               4/11 
  Verifying  : libsemanage-python-2.0.43-4.2.el6.x86_64                    5/11 
  Verifying  : policycoreutils-python-2.0.83-19.39.el6.x86_64              6/11 
  Verifying  : audit-2.2-4.el6_5.x86_64                                    7/11 
  Verifying  : setools-libs-3.3.7-4.el6.x86_64                             8/11 
  Verifying  : libselinux-python-2.0.94-5.3.el6_4.1.x86_64                 9/11 
  Verifying  : audit-libs-2.2-2.el6.x86_64                                10/11 
  Verifying  : audit-2.2-2.el6.x86_64                                     11/11 

Installed:
  policycoreutils-python.x86_64 0:2.0.83-19.39.el6                              

Dependency Installed:
  audit-libs-python.x86_64 0:2.2-4.el6_5                                        
  libcgroup.x86_64 0:0.40.rc1-5.el6_5.1                                         
  libselinux-python.x86_64 0:2.0.94-5.3.el6_4.1                                 
  libsemanage-python.x86_64 0:2.0.43-4.2.el6                                    
  setools-libs.x86_64 0:3.3.7-4.el6                                             
  setools-libs-python.x86_64 0:3.3.7-4.el6                                      

Dependency Updated:
  audit.x86_64 0:2.2-4.el6_5           audit-libs.x86_64 0:2.2-4.el6_5          

Complete!

n6vo88vhlunm0j0 (centos6-64-1) executed in 57.25 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-176sg2q centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/etc/httpd.conf {}

n6vo88vhlunm0j0 (centos6-64-1) 13:06:45$  test -f /etc/httpd/conf/httpd.conf.orig || cp -p /etc/httpd/conf/httpd.conf{,.orig}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:06:46$  cat /tmp/apache_external_root_ca.y6ykW7/etc/httpd.conf > /etc/httpd/conf/httpd.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Make SELinux and Apache play nicely together...

n6vo88vhlunm0j0 (centos6-64-1) 13:06:46$  sestatus  
SELinux status:                 enabled
SELinuxfs mount:                /selinux
Current mode:                   enforcing
Mode from config file:          enforcing
Policy version:                 24
Policy from config file:        targeted

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:06:46$  setenforce 0  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

  * Start the Apache httpd service...

n6vo88vhlunm0j0 (centos6-64-1) 13:06:46$  service httpd restart  
Stopping httpd: [FAILED]
Starting httpd: [  OK  ]

n6vo88vhlunm0j0 (centos6-64-1) executed in 7.94 seconds

  * Configure the agent with the externally issued certificates

n6vo88vhlunm0j0 (centos6-64-1) 13:06:54$  mkdir -p /tmp/apache_external_root_ca.y6ykW7/etc/agent/ssl/{public_keys,certs,certificate_requests,private_keys,private}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ijj9b7 centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/etc/agent/ssl/certs/agent1.example.org.pem {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xe97vv centos6-64-1:/tmp/apache_external_root_ca.y6ykW7/etc/agent/ssl/private_keys/agent1.example.org.pem {}

  * Successfully run the puppet agent on the master

n6vo88vhlunm0j0 (centos6-64-1) 13:06:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --confdir /tmp/apache_external_root_ca.y6ykW7/etc/agent --vardir /tmp/apache_external_root_ca.y6ykW7/etc/agent/var --test
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for agent1.example.org
Info: Applying configuration version '1403122018'
Info: Creating state file /tmp/apache_external_root_ca.y6ykW7/etc/agent/var/state/state.yaml
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 5.01 seconds

  * Agent refuses to connect to a rogue master

n6vo88vhlunm0j0 (centos6-64-1) 13:06:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --confdir /tmp/apache_external_root_ca.y6ykW7/etc/agent --vardir /tmp/apache_external_root_ca.y6ykW7/etc/agent/var --ssl_client_ca_auth=/tmp/apache_external_root_ca.y6ykW7/ca_master.crt --masterport=8141 --test
Warning: Unable to fetch my node definition, but the agent run will continue:
Warning: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [The server presented a SSL certificate chain which does not include a CA listed in the ssl_client_ca_auth file.  Authorized Issuers: /CN=Intermediate CA (master-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations  Peer Chain: /CN=master1.example.org => /CN=Intermediate CA (agent-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations => /CN=Root CA/OU=Server Operations/O=Example Org, LLC]
Info: Retrieving pluginfacts
Error: /File[/tmp/apache_external_root_ca.y6ykW7/etc/agent/var/facts.d]: Failed to generate additional resources using 'eval_generate': SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [The server presented a SSL certificate chain which does not include a CA listed in the ssl_client_ca_auth file.  Authorized Issuers: /CN=Intermediate CA (master-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations  Peer Chain: /CN=master1.example.org => /CN=Intermediate CA (agent-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations => /CN=Root CA/OU=Server Operations/O=Example Org, LLC]
Error: /File[/tmp/apache_external_root_ca.y6ykW7/etc/agent/var/facts.d]: Could not evaluate: Could not retrieve file metadata for puppet://master1.example.org/pluginfacts: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [The server presented a SSL certificate chain which does not include a CA listed in the ssl_client_ca_auth file.  Authorized Issuers: /CN=Intermediate CA (master-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations  Peer Chain: /CN=master1.example.org => /CN=Intermediate CA (agent-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations => /CN=Root CA/OU=Server Operations/O=Example Org, LLC]
Wrapped exception:
SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [The server presented a SSL certificate chain which does not include a CA listed in the ssl_client_ca_auth file.  Authorized Issuers: /CN=Intermediate CA (master-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations  Peer Chain: /CN=master1.example.org => /CN=Intermediate CA (agent-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations => /CN=Root CA/OU=Server Operations/O=Example Org, LLC]
Info: Retrieving plugin
Error: /File[/tmp/apache_external_root_ca.y6ykW7/etc/agent/var/lib]: Failed to generate additional resources using 'eval_generate': SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [The server presented a SSL certificate chain which does not include a CA listed in the ssl_client_ca_auth file.  Authorized Issuers: /CN=Intermediate CA (master-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations  Peer Chain: /CN=master1.example.org => /CN=Intermediate CA (agent-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations => /CN=Root CA/OU=Server Operations/O=Example Org, LLC]
Error: /File[/tmp/apache_external_root_ca.y6ykW7/etc/agent/var/lib]: Could not evaluate: Could not retrieve file metadata for puppet://master1.example.org/plugins: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [The server presented a SSL certificate chain which does not include a CA listed in the ssl_client_ca_auth file.  Authorized Issuers: /CN=Intermediate CA (master-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations  Peer Chain: /CN=master1.example.org => /CN=Intermediate CA (agent-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations => /CN=Root CA/OU=Server Operations/O=Example Org, LLC]
Wrapped exception:
SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [The server presented a SSL certificate chain which does not include a CA listed in the ssl_client_ca_auth file.  Authorized Issuers: /CN=Intermediate CA (master-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations  Peer Chain: /CN=master1.example.org => /CN=Intermediate CA (agent-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations => /CN=Root CA/OU=Server Operations/O=Example Org, LLC]
Error: Could not retrieve catalog from remote server: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [The server presented a SSL certificate chain which does not include a CA listed in the ssl_client_ca_auth file.  Authorized Issuers: /CN=Intermediate CA (master-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations  Peer Chain: /CN=master1.example.org => /CN=Intermediate CA (agent-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations => /CN=Root CA/OU=Server Operations/O=Example Org, LLC]
Warning: Not using cache on failed catalog
Error: Could not retrieve catalog; skipping run
Error: Could not send report: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [The server presented a SSL certificate chain which does not include a CA listed in the ssl_client_ca_auth file.  Authorized Issuers: /CN=Intermediate CA (master-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations  Peer Chain: /CN=master1.example.org => /CN=Intermediate CA (agent-ca)/emailAddress=test@example.org/O=Example Org, LLC/OU=Server Operations => /CN=Root CA/OU=Server Operations/O=Example Org, LLC]

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.66 seconds
Exited: 1

  * Master accepts client cert with email address in subject

n6vo88vhlunm0j0 (centos6-64-1) 13:07:01$  cp /tmp/apache_external_root_ca.y6ykW7/etc/agent/puppet.conf{,.no_email}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:02$  cp /tmp/apache_external_root_ca.y6ykW7/etc/agent/puppet.conf{.email,}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --confdir /tmp/apache_external_root_ca.y6ykW7/etc/agent --vardir /tmp/apache_external_root_ca.y6ykW7/etc/agent/var --test
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for agent1.example.org
Info: Applying configuration version '1403122018'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.73 seconds

  * Agent refuses to connect to revoked master

n6vo88vhlunm0j0 (centos6-64-1) 13:07:04$  cp /tmp/apache_external_root_ca.y6ykW7/etc/agent/puppet.conf{,.no_crl}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:04$  cp /tmp/apache_external_root_ca.y6ykW7/etc/agent/puppet.conf{.crl,}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --confdir /tmp/apache_external_root_ca.y6ykW7/etc/agent --vardir /tmp/apache_external_root_ca.y6ykW7/etc/agent/var --hostcrl /tmp/apache_external_root_ca.y6ykW7/ca_master.crl --test
Warning: Unable to fetch my node definition, but the agent run will continue:
Warning: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [certificate revoked for /CN=master1.example.org]
Info: Retrieving pluginfacts
Error: /File[/tmp/apache_external_root_ca.y6ykW7/etc/agent/var/facts.d]: Failed to generate additional resources using 'eval_generate': SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [certificate revoked for /CN=master1.example.org]
Error: /File[/tmp/apache_external_root_ca.y6ykW7/etc/agent/var/facts.d]: Could not evaluate: Could not retrieve file metadata for puppet://master1.example.org/pluginfacts: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [certificate revoked for /CN=master1.example.org]
Wrapped exception:
SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [certificate revoked for /CN=master1.example.org]
Info: Retrieving plugin
Error: /File[/tmp/apache_external_root_ca.y6ykW7/etc/agent/var/lib]: Failed to generate additional resources using 'eval_generate': SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [certificate revoked for /CN=master1.example.org]
Error: /File[/tmp/apache_external_root_ca.y6ykW7/etc/agent/var/lib]: Could not evaluate: Could not retrieve file metadata for puppet://master1.example.org/plugins: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [certificate revoked for /CN=master1.example.org]
Wrapped exception:
SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [certificate revoked for /CN=master1.example.org]
Error: Could not retrieve catalog from remote server: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [certificate revoked for /CN=master1.example.org]
Warning: Not using cache on failed catalog
Error: Could not retrieve catalog; skipping run
Error: Could not send report: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed: [certificate revoked for /CN=master1.example.org]

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.39 seconds
Exited: 1

  * Finished testing External Certificates

  * Cleanup Apache (httpd) and /etc/hosts

n6vo88vhlunm0j0 (centos6-64-1) 13:07:07$  cp -p '/tmp/apache_external_root_ca.y6ykW7/hosts' /etc/hosts  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:07$  /etc/init.d/httpd stop  
Stopping httpd: [  OK  ]

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:07$  mv --force /etc/httpd/conf/httpd.conf{,.external_ca_test}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:07$  mv --force /etc/httpd/conf/httpd.conf{.orig,}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Restore the original state of SELinux

n6vo88vhlunm0j0 (centos6-64-1) 13:07:07$  setenforce 1  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/face" name="loadable_from_modules.rb" time="15.752900"><system-out><![CDATA[
Exercise loading a face from a module

n6vo88vhlunm0j0 (centos6-64-1) 13:07:07$  mktemp -dt loadable_from_modules.XXXXXX  
/tmp/loadable_from_modules.lAMi2p

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:07$  chmod 755 /tmp/loadable_from_modules.lAMi2p  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:07$  mktemp -dt loadable_from_modules.XXXXXX  
/tmp/loadable_from_modules.38Urxv

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:07$  chmod 755 /tmp/loadable_from_modules.38Urxv  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set environment dev --section user --config /tmp/loadable_from_modules.lAMi2p/puppet.conf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.78 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set modulepath /tmp/loadable_from_modules.lAMi2p/user/modules --section user --config /tmp/loadable_from_modules.lAMi2p/puppet.conf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.75 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set modulepath /tmp/loadable_from_modules.lAMi2p/dev/modules --section user --config /tmp/loadable_from_modules.lAMi2p/puppet.conf
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.66 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:09$  rm -rf puppetlabs-helloworld  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module  generate puppetlabs-helloworld --skip-interview

Notice: Generating module at /root/puppetlabs-helloworld...
Notice: Populating ERB templates...
Finished; module generated in puppetlabs-helloworld.
puppetlabs-helloworld/tests
puppetlabs-helloworld/tests/init.pp
puppetlabs-helloworld/README.md
puppetlabs-helloworld/metadata.json
puppetlabs-helloworld/Rakefile
puppetlabs-helloworld/manifests
puppetlabs-helloworld/manifests/init.pp
puppetlabs-helloworld/spec
puppetlabs-helloworld/spec/spec_helper.rb
puppetlabs-helloworld/spec/classes
puppetlabs-helloworld/spec/classes/init_spec.rb

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.86 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:10$  mkdir -p puppetlabs-helloworld/lib/puppet/application  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:10$  mkdir -p puppetlabs-helloworld/lib/puppet/face  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-rjusd centos6-64-1:puppetlabs-helloworld/lib/puppet/application/helloworld.rb {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1e0qhrw centos6-64-1:puppetlabs-helloworld/lib/puppet/face/helloworld.rb {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-15yp2xp centos6-64-1:puppetlabs-helloworld/lib/puppet/helloworld.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:07:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module  build puppetlabs-helloworld
Notice: Building /root/puppetlabs-helloworld for release
Module built: /root/puppetlabs-helloworld/pkg/puppetlabs-helloworld-0.1.0.tar.gz

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.78 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module  install --ignore-dependencies --target-dir /tmp/loadable_from_modules.lAMi2p/dev/modules puppetlabs-helloworld/pkg/puppetlabs-helloworld-0.1.0.tar.gz
Notice: Preparing to install into /tmp/loadable_from_modules.lAMi2p/dev/modules ...
Notice: Created target directory /tmp/loadable_from_modules.lAMi2p/dev/modules
Notice: Installing -- do not interrupt ...
/tmp/loadable_from_modules.lAMi2p/dev/modules
└── puppetlabs-helloworld (v0.1.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.99 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet help  --config /tmp/loadable_from_modules.lAMi2p/puppet.conf
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')

Usage: puppet <subcommand> [options] <action> [options]

Available subcommands:
    
  agent             The puppet agent daemon
  apply             Apply Puppet manifests locally
  ca                Local Puppet Certificate Authority management.
  catalog           Compile, save, view, and convert catalogs.
  cert              Manage certificates and requests
  certificate       Provide access to the CA for certificate management.
  certificate_request  Manage certificate requests.
  certificate_revocation_list  Manage the list of revoked certificates.
  config            Interact with Puppet's settings.
  describe          Display help about resource types
  device            Manage remote network devices
  doc               Generate Puppet documentation and references
  facts             Retrieve and store facts.
  file              Retrieve and store files in a filebucket
  filebucket        Store and retrieve files in a filebucket
  helloworld        Hello world face
  help              Display Puppet help.
  inspect           Send an inspection report
  instrumentation_data  Manage instrumentation listener accumulated data.
  instrumentation_listener  Manage instrumentation listeners.
  instrumentation_probe  Manage instrumentation probes.
  key               Create, save, and remove certificate keys.
  kick              Remotely control puppet agent
  man               Display Puppet manual pages.
  master            The puppet master daemon
  module            Creates, installs and searches for modules on the Puppet Forge.
  node              View and manage node definitions.
  parser            Interact directly with the parser.
  plugin            Interact with the Puppet plugin system.
  queue             Deprecated queuing daemon for asynchronous storeconfigs
  report            Create, display, and submit reports.
  resource          The resource abstraction layer shell
  resource_type     View classes, defined resource types, and nodes from all manifests.
  secret_agent      Mimics puppet agent.
  status            View puppet server status.

See 'puppet help <subcommand> <action>' for help on a specific subcommand action.
See 'puppet help <subcommand>' for help on a specific subcommand.
Puppet v3.6.2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.87 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet help  helloworld --config /tmp/loadable_from_modules.lAMi2p/puppet.conf
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')

USAGE: puppet helloworld <action> 

This is the hello world face

OPTIONS:
  --render-as FORMAT             - The rendering format to use.
  --verbose                      - Whether to log verbosely.
  --debug                        - Whether to log debug information.

ACTIONS:
  actionprint    Prints hello world from an action
  moduleprint    Prints hello world from a required module

See 'puppet man helloworld' or 'man puppet-helloworld' for full help.

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.63 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet helloworld  actionprint --config /tmp/loadable_from_modules.lAMi2p/puppet.conf
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Hello world from an action

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.60 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet helloworld  moduleprint --config /tmp/loadable_from_modules.lAMi2p/puppet.conf
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Hello world from a required module

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.86 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set environment dev --section user --config /tmp/loadable_from_modules.38Urxv/puppet.conf

t21rjumdkqr2x5d (centos6-64-2) executed in 0.68 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set modulepath /tmp/loadable_from_modules.38Urxv/user/modules --section user --config /tmp/loadable_from_modules.38Urxv/puppet.conf

t21rjumdkqr2x5d (centos6-64-2) executed in 0.61 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set modulepath /tmp/loadable_from_modules.38Urxv/dev/modules --section user --config /tmp/loadable_from_modules.38Urxv/puppet.conf
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')

t21rjumdkqr2x5d (centos6-64-2) executed in 0.65 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:17$  rm -rf puppetlabs-helloworld  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module  generate puppetlabs-helloworld --skip-interview

Notice: Generating module at /root/puppetlabs-helloworld...
Notice: Populating ERB templates...
Finished; module generated in puppetlabs-helloworld.
puppetlabs-helloworld/tests
puppetlabs-helloworld/tests/init.pp
puppetlabs-helloworld/README.md
puppetlabs-helloworld/metadata.json
puppetlabs-helloworld/Rakefile
puppetlabs-helloworld/manifests
puppetlabs-helloworld/manifests/init.pp
puppetlabs-helloworld/spec
puppetlabs-helloworld/spec/spec_helper.rb
puppetlabs-helloworld/spec/classes
puppetlabs-helloworld/spec/classes/init_spec.rb

t21rjumdkqr2x5d (centos6-64-2) executed in 0.78 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:18$  mkdir -p puppetlabs-helloworld/lib/puppet/application  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:18$  mkdir -p puppetlabs-helloworld/lib/puppet/face  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1pz7qc1 centos6-64-2:puppetlabs-helloworld/lib/puppet/application/helloworld.rb {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-bqzb0l centos6-64-2:puppetlabs-helloworld/lib/puppet/face/helloworld.rb {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1wr9yva centos6-64-2:puppetlabs-helloworld/lib/puppet/helloworld.rb {}

t21rjumdkqr2x5d (centos6-64-2) 13:07:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module  build puppetlabs-helloworld
Notice: Building /root/puppetlabs-helloworld for release
Module built: /root/puppetlabs-helloworld/pkg/puppetlabs-helloworld-0.1.0.tar.gz

t21rjumdkqr2x5d (centos6-64-2) executed in 0.78 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module  install --ignore-dependencies --target-dir /tmp/loadable_from_modules.38Urxv/dev/modules puppetlabs-helloworld/pkg/puppetlabs-helloworld-0.1.0.tar.gz
Notice: Preparing to install into /tmp/loadable_from_modules.38Urxv/dev/modules ...
Notice: Created target directory /tmp/loadable_from_modules.38Urxv/dev/modules
Notice: Installing -- do not interrupt ...
/tmp/loadable_from_modules.38Urxv/dev/modules
└── puppetlabs-helloworld (v0.1.0)

t21rjumdkqr2x5d (centos6-64-2) executed in 0.89 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet help  --config /tmp/loadable_from_modules.38Urxv/puppet.conf
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')

Usage: puppet <subcommand> [options] <action> [options]

Available subcommands:
    
  agent             The puppet agent daemon
  apply             Apply Puppet manifests locally
  ca                Local Puppet Certificate Authority management.
  catalog           Compile, save, view, and convert catalogs.
  cert              Manage certificates and requests
  certificate       Provide access to the CA for certificate management.
  certificate_request  Manage certificate requests.
  certificate_revocation_list  Manage the list of revoked certificates.
  config            Interact with Puppet's settings.
  describe          Display help about resource types
  device            Manage remote network devices
  doc               Generate Puppet documentation and references
  facts             Retrieve and store facts.
  file              Retrieve and store files in a filebucket
  filebucket        Store and retrieve files in a filebucket
  helloworld        Hello world face
  help              Display Puppet help.
  inspect           Send an inspection report
  instrumentation_data  Manage instrumentation listener accumulated data.
  instrumentation_listener  Manage instrumentation listeners.
  instrumentation_probe  Manage instrumentation probes.
  key               Create, save, and remove certificate keys.
  kick              Remotely control puppet agent
  man               Display Puppet manual pages.
  master            The puppet master daemon
  module            Creates, installs and searches for modules on the Puppet Forge.
  node              View and manage node definitions.
  parser            Interact directly with the parser.
  plugin            Interact with the Puppet plugin system.
  queue             Deprecated queuing daemon for asynchronous storeconfigs
  report            Create, display, and submit reports.
  resource          The resource abstraction layer shell
  resource_type     View classes, defined resource types, and nodes from all manifests.
  secret_agent      Mimics puppet agent.
  status            View puppet server status.

See 'puppet help <subcommand> <action>' for help on a specific subcommand action.
See 'puppet help <subcommand>' for help on a specific subcommand.
Puppet v3.6.2

t21rjumdkqr2x5d (centos6-64-2) executed in 0.87 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet help  helloworld --config /tmp/loadable_from_modules.38Urxv/puppet.conf
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')

USAGE: puppet helloworld <action> 

This is the hello world face

OPTIONS:
  --render-as FORMAT             - The rendering format to use.
  --verbose                      - Whether to log verbosely.
  --debug                        - Whether to log debug information.

ACTIONS:
  actionprint    Prints hello world from an action
  moduleprint    Prints hello world from a required module

See 'puppet man helloworld' or 'man puppet-helloworld' for full help.

t21rjumdkqr2x5d (centos6-64-2) executed in 0.65 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet helloworld  actionprint --config /tmp/loadable_from_modules.38Urxv/puppet.conf
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Hello world from an action

t21rjumdkqr2x5d (centos6-64-2) executed in 0.58 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet helloworld  moduleprint --config /tmp/loadable_from_modules.38Urxv/puppet.conf
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Hello world from a required module

t21rjumdkqr2x5d (centos6-64-2) executed in 0.68 seconds
]]></system-out><system-err><![CDATA[Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
]]></system-err></testcase><testcase classname="tests" name="file_hello_world.rb" time="4.503913"><system-out><![CDATA[
The challenging 'Hello, World' manifest

n6vo88vhlunm0j0 (centos6-64-1) 13:07:23$  mktemp -t hello-world.txt.XXXXXX  
/tmp/hello-world.txt.UG3BqS

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * ensure we are clean before testing...

n6vo88vhlunm0j0 (centos6-64-1) 13:07:23$  rm -f /tmp/hello-world.txt.UG3BqS  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * run the manifest itself

n6vo88vhlunm0j0 (centos6-64-1) 13:07:23$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.6U7Z1w

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1dq4a21 centos6-64-1:/tmp/apply_manifest.pp.6U7Z1w {}

n6vo88vhlunm0j0 (centos6-64-1) 13:07:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6U7Z1w
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_atmp.rb
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_globalmod.rb
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403122044'
Notice: /Stage[main]/Main/File[/tmp/hello-world.txt.UG3BqS]/ensure: defined content as '{md5}82bb413746aee42f89dea2b59614f9ef'
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.95 seconds

  * verify the content of the generated files.

n6vo88vhlunm0j0 (centos6-64-1) 13:07:25$  grep 'Hello, World' /tmp/hello-world.txt.UG3BqS  
Hello, World

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * clean up after our test run.

n6vo88vhlunm0j0 (centos6-64-1) 13:07:25$  rm -f /tmp/hello-world.txt.UG3BqS  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:25$  mktemp -t hello-world.txt.XXXXXX  
/tmp/hello-world.txt.24usPv

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * ensure we are clean before testing...

t21rjumdkqr2x5d (centos6-64-2) 13:07:25$  rm -f /tmp/hello-world.txt.24usPv  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * run the manifest itself

t21rjumdkqr2x5d (centos6-64-2) 13:07:25$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.KmlPTw

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-b09ckv centos6-64-2:/tmp/apply_manifest.pp.KmlPTw {}

t21rjumdkqr2x5d (centos6-64-2) 13:07:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.KmlPTw
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_atmp.rb
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_globalmod.rb
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403122046'
Notice: /Stage[main]/Main/File[/tmp/hello-world.txt.24usPv]/ensure: defined content as '{md5}82bb413746aee42f89dea2b59614f9ef'
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.03 seconds

  * verify the content of the generated files.

t21rjumdkqr2x5d (centos6-64-2) 13:07:27$  grep 'Hello, World' /tmp/hello-world.txt.24usPv  
Hello, World

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * clean up after our test run.

t21rjumdkqr2x5d (centos6-64-2) 13:07:27$  rm -f /tmp/hello-world.txt.24usPv  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="helpful_error_message_when_hostname_not_match_server_certificate.rb" time="10.650367"><system-out><![CDATA[
generate a helpful error message when hostname doesn't match server certificate

n6vo88vhlunm0j0 (centos6-64-1) 13:07:27$  mktemp -dt helpful_error_message_when_hostname_not_match_server_certificate.rb.XXXXXX  
/tmp/helpful_error_message_when_hostname_not_match_server_certificate.rb.ELCUGK

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:27$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:27$  cp /etc/puppet/puppet.conf /tmp/helpful_error_message_when_hostname_not_match_server_certificate.rb.ELCUGK/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:27$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-11w4qb2 centos6-64-1:/tmp/helpful_error_message_when_hostname_not_match_server_certificate.rb.ELCUGK/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:28$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
certname = foobar_not_my_hostname
dns_alt_names = one_cert,two_cert,red_cert,blue_cert

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.19 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:07:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Warning: Unable to fetch my node definition, but the agent run will continue:
Warning: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Info: Retrieving pluginfacts
Error: /File[/var/lib/puppet/facts.d]: Failed to generate additional resources using 'eval_generate': Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Error: /File[/var/lib/puppet/facts.d]: Could not evaluate: Could not retrieve file metadata for puppet://n6vo88vhlunm0j0/pluginfacts: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Wrapped exception:
Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Info: Retrieving plugin
Error: /File[/var/lib/puppet/lib]: Failed to generate additional resources using 'eval_generate': Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Error: /File[/var/lib/puppet/lib]: Could not evaluate: Could not retrieve file metadata for puppet://n6vo88vhlunm0j0/plugins: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Wrapped exception:
Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_atmp.rb
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_globalmod.rb
Error: Could not retrieve catalog from remote server: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Warning: Not using cache on failed catalog
Error: Could not retrieve catalog; skipping run
Error: Could not send report: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.05 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:07:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Warning: Unable to fetch my node definition, but the agent run will continue:
Warning: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Info: Retrieving pluginfacts
Error: /File[/var/lib/puppet/facts.d]: Failed to generate additional resources using 'eval_generate': Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Error: /File[/var/lib/puppet/facts.d]: Could not evaluate: Could not retrieve file metadata for puppet://n6vo88vhlunm0j0/pluginfacts: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Wrapped exception:
Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Info: Retrieving plugin
Error: /File[/var/lib/puppet/lib]: Failed to generate additional resources using 'eval_generate': Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Error: /File[/var/lib/puppet/lib]: Could not evaluate: Could not retrieve file metadata for puppet://n6vo88vhlunm0j0/plugins: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Wrapped exception:
Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_atmp.rb
Info: Loading facts in /var/lib/puppet/lib/facter/environment_fact_globalmod.rb
Error: Could not retrieve catalog from remote server: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Warning: Not using cache on failed catalog
Error: Could not retrieve catalog; skipping run
Error: Could not send report: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert

t21rjumdkqr2x5d (centos6-64-2) executed in 3.01 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:07:36$  if [ -f '/tmp/helpful_error_message_when_hostname_not_match_server_certificate.rb.ELCUGK/puppet.conf.bak' ]; then cat '/tmp/helpful_error_message_when_hostname_not_match_server_certificate.rb.ELCUGK/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/helpful_error_message_when_hostname_not_match_server_certificate.rb.ELCUGK/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:36$  cat `puppet master --configprint pidfile`  
13575
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.60 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:37$  kill 13575  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:37$  kill -0 13575  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:38$  kill -0 13575  
bash: line 0: kill: (13575) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[Warning: Unable to fetch my node definition, but the agent run will continue:
Warning: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Error: /File[/var/lib/puppet/facts.d]: Failed to generate additional resources using 'eval_generate': Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Error: /File[/var/lib/puppet/facts.d]: Could not evaluate: Could not retrieve file metadata for puppet://n6vo88vhlunm0j0/pluginfacts: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Wrapped exception:
Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Error: /File[/var/lib/puppet/lib]: Failed to generate additional resources using 'eval_generate': Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Error: /File[/var/lib/puppet/lib]: Could not evaluate: Could not retrieve file metadata for puppet://n6vo88vhlunm0j0/plugins: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Wrapped exception:
Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Error: Could not retrieve catalog from remote server: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
Warning: Not using cache on failed catalog
Error: Could not retrieve catalog; skipping run
Error: Could not send report: Server hostname 'n6vo88vhlunm0j0' did not match server certificate; expected one of foobar_not_my_hostname, DNS:blue_cert, DNS:foobar_not_my_hostname, DNS:one_cert, DNS:red_cert, DNS:two_cert
]]></system-err></testcase><testcase classname="tests/language" name="node_overrides_topscope_when_using_enc.rb" time="9.475833"><system-out><![CDATA[
ENC still allows a node to override a topscope var

n6vo88vhlunm0j0 (centos6-64-1) 13:07:38$  mktemp -dt scoping_deprecation.XXXXXX  
/tmp/scoping_deprecation.Ysuq7D

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:38$  mkdir -p /tmp/scoping_deprecation.Ysuq7D/modules/a/manifests  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1t9zjom centos6-64-1:/tmp/scoping_deprecation.Ysuq7D/enc {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-14pu5q4 centos6-64-1:/tmp/scoping_deprecation.Ysuq7D/site.pp {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ccliyq centos6-64-1:/tmp/scoping_deprecation.Ysuq7D/modules/a/manifests/init.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:07:38$  chown -R root:puppet /tmp/scoping_deprecation.Ysuq7D  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:38$  chmod -R g+rwX /tmp/scoping_deprecation.Ysuq7D  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:38$  chmod -R a+x /tmp/scoping_deprecation.Ysuq7D/enc  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:38$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:38$  cp /etc/puppet/puppet.conf /tmp/scoping_deprecation.Ysuq7D/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:39$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1cd8nap centos6-64-1:/tmp/scoping_deprecation.Ysuq7D/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:39$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
node_terminus = exec
external_nodes = /tmp/scoping_deprecation.Ysuq7D/enc
manifest = /tmp/scoping_deprecation.Ysuq7D/site.pp
modulepath = /tmp/scoping_deprecation.Ysuq7D/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.43 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:07:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --verbose --server n6vo88vhlunm0j0
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0750' to '0775'
Info: Retrieving plugin
Notice: /File[/var/lib/puppet/lib/facter]/ensure: removed
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403122063'
Notice: ENC overridden in default node.
Notice: /Stage[main]/A/Notify[from enc]/message: defined 'message' as 'ENC overridden in default node.'
Notice: top_scope overridden in agent node.
Notice: /Stage[main]/A/Notify[from site.pp]/message: defined 'message' as 'top_scope overridden in agent node.'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.21 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --verbose --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0750' to '0775'
Info: Retrieving plugin
Notice: /File[/var/lib/puppet/lib/facter]/ensure: removed
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403122063'
Notice: ENC overridden in default node.
Notice: /Stage[main]/A/Notify[from enc]/message: defined 'message' as 'ENC overridden in default node.'
Notice: top_scope overridden in agent node.
Notice: /Stage[main]/A/Notify[from site.pp]/message: defined 'message' as 'top_scope overridden in agent node.'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:47$  if [ -f '/tmp/scoping_deprecation.Ysuq7D/puppet.conf.bak' ]; then cat '/tmp/scoping_deprecation.Ysuq7D/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/scoping_deprecation.Ysuq7D/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:47$  cat `puppet master --configprint pidfile`  
13772
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.80 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:47$  kill 13772  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:47$  kill -0 13772  
bash: line 0: kill: (13772) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/language" name="resource_refs_with_nested_arrays.rb" time="5.324397"><system-out><![CDATA[
#7681: Allow using array variables in resource references

n6vo88vhlunm0j0 (centos6-64-1) 13:07:47$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.t67k7X

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.14 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-150m7nu centos6-64-1:/tmp/apply_manifest.pp.t67k7X {}

n6vo88vhlunm0j0 (centos6-64-1) 13:07:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.t67k7X
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403122069'
Notice: /Stage[main]/Main/Exec[first]/returns: the first command
Notice: /Stage[main]/Main/Exec[first]/returns: executed successfully
Notice: /Stage[main]/Main/Exec[second]/returns: the second command
Notice: /Stage[main]/Main/Exec[second]/returns: executed successfully
Notice: /Stage[main]/Main/Exec[third]/returns: the final command
Notice: /Stage[main]/Main/Exec[third]/returns: executed successfully
Notice: Finished catalog run in 0.31 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.60 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Ug2za4

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-on6o1l centos6-64-2:/tmp/apply_manifest.pp.Ug2za4 {}

t21rjumdkqr2x5d (centos6-64-2) 13:07:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Ug2za4
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403122072'
Notice: /Stage[main]/Main/Exec[first]/returns: the first command
Notice: /Stage[main]/Main/Exec[first]/returns: executed successfully
Notice: /Stage[main]/Main/Exec[second]/returns: the second command
Notice: /Stage[main]/Main/Exec[second]/returns: executed successfully
Notice: /Stage[main]/Main/Exec[third]/returns: the final command
Notice: /Stage[main]/Main/Exec[third]/returns: executed successfully
Notice: Finished catalog run in 0.28 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.26 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/build" name="build_agent.rb" time="2.927991"><system-out><![CDATA[
puppet module build (agent)

  * generate

n6vo88vhlunm0j0 (centos6-64-1) 13:07:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module generate foo-bar --skip-interview  

Notice: Generating module at /root/foo-bar...
Notice: Populating ERB templates...
Finished; module generated in foo-bar.
foo-bar/tests
foo-bar/tests/init.pp
foo-bar/README.md
foo-bar/metadata.json
foo-bar/Rakefile
foo-bar/manifests
foo-bar/manifests/init.pp
foo-bar/spec
foo-bar/spec/spec_helper.rb
foo-bar/spec/classes
foo-bar/spec/classes/init_spec.rb

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.69 seconds

  * build

n6vo88vhlunm0j0 (centos6-64-1) 13:07:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module build foo-bar  
Notice: Building /root/foo-bar for release
Module built: /root/foo-bar/pkg/foo-bar-0.1.0.tar.gz

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

  * generate

t21rjumdkqr2x5d (centos6-64-2) 13:07:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module generate foo-bar --skip-interview  

Notice: Generating module at /root/foo-bar...
Notice: Populating ERB templates...
Finished; module generated in foo-bar.
foo-bar/tests
foo-bar/tests/init.pp
foo-bar/README.md
foo-bar/metadata.json
foo-bar/Rakefile
foo-bar/manifests
foo-bar/manifests/init.pp
foo-bar/spec
foo-bar/spec/spec_helper.rb
foo-bar/spec/classes
foo-bar/spec/classes/init_spec.rb

t21rjumdkqr2x5d (centos6-64-2) executed in 0.82 seconds

  * build

t21rjumdkqr2x5d (centos6-64-2) 13:07:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module build foo-bar  
Notice: Building /root/foo-bar for release
Module built: /root/foo-bar/pkg/foo-bar-0.1.0.tar.gz

t21rjumdkqr2x5d (centos6-64-2) executed in 0.65 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:56$  rm -rf foo-bar  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:07:56$  rm -rf foo-bar  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/build" name="build_basic.rb" time="6.381962"><system-out><![CDATA[
puppet module build (basic)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:07:56$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:56$  mkdir -p /usr/share/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:56$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.IjAORz

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-qhwdy0 centos6-64-1:/tmp/apply_manifest.pp.IjAORz {}

n6vo88vhlunm0j0 (centos6-64-1) 13:07:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.IjAORz
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403122077'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/nginx]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/nginx/Modulefile]/ensure: defined content as '{md5}1dcd778f39fb4ed12c757395d4b840de'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.32 seconds

  * Try to build a module with an absolute path

n6vo88vhlunm0j0 (centos6-64-1) 13:07:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module build /etc/puppet/modules/nginx  
Warning: Modulefile is deprecated. Building metadata.json from Modulefile.
Notice: Building /etc/puppet/modules/nginx for release
Module built: /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1.tar.gz

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.87 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:59$  [ -d /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1 ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:07:59$  [ -f /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1.tar.gz ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Try to build a module without providing a path

n6vo88vhlunm0j0 (centos6-64-1) 13:07:59$  cd /etc/puppet/modules/nginx && puppet module build  
Warning: Modulefile is deprecated. Building metadata.json from Modulefile.
Notice: Building /etc/puppet/modules/nginx for release
Module built: /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1.tar.gz

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.77 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:00$  [ -d /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1 ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:00$  [ -f /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1.tar.gz ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Teardown

n6vo88vhlunm0j0 (centos6-64-1) 13:08:00$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.EGVh8a

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-e2ic4o centos6-64-1:/tmp/apply_manifest.pp.EGVh8a {}

n6vo88vhlunm0j0 (centos6-64-1) 13:08:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.EGVh8a
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403122081'
Info: /Stage[main]/Main/File[/etc/puppet/modules/nginx]: Recursively backing up to filebucket
Info: /Stage[main]/Main/File[/etc/puppet/modules/nginx]: Filebucketed /etc/puppet/modules/nginx/Modulefile to puppet with sum 1dcd778f39fb4ed12c757395d4b840de
Info: /Stage[main]/Main/File[/etc/puppet/modules/nginx]: Filebucketed /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1.tar.gz to puppet with sum ec3f370d6019debf07956c12bcedfd8f
Info: /Stage[main]/Main/File[/etc/puppet/modules/nginx]: Filebucketed /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1/metadata.json to puppet with sum a1b43bf7d223bf803e9610e6170d761c
Info: FileBucket got a duplicate file {md5}1dcd778f39fb4ed12c757395d4b840de
Info: /Stage[main]/Main/File[/etc/puppet/modules/nginx]: Filebucketed /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1/Modulefile to puppet with sum 1dcd778f39fb4ed12c757395d4b840de
Info: /Stage[main]/Main/File[/etc/puppet/modules/nginx]: Filebucketed /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1/checksums.json to puppet with sum 38c1e6a9c9273d20348a42ed392cf4b0
Notice: /Stage[main]/Main/File[/etc/puppet/modules/nginx]/ensure: removed
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.99 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/build" name="build_no_modulefile.rb" time="5.117340"><system-out><![CDATA[
puppet module build (bad modulefiles)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:08:02$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.TGk0tx

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-sxtg1y centos6-64-1:/tmp/apply_manifest.pp.TGk0tx {}

n6vo88vhlunm0j0 (centos6-64-1) 13:08:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.TGk0tx
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403122083'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/nginx]/ensure: created
Notice: Finished catalog run in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.98 seconds

  * Try to build a module with no modulefile

n6vo88vhlunm0j0 (centos6-64-1) 13:08:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module build /etc/puppet/modules/nginx  
Error: Unable to find module root at /etc/puppet/modules/nginx
Error: Try 'puppet help module build' for usage

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:08:05$  [ ! -d /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1 ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:05$  [ ! -f /etc/puppet/modules/nginx/pkg/puppetlabs-nginx-0.0.1.tar.gz ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Teardown

n6vo88vhlunm0j0 (centos6-64-1) 13:08:05$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.qi3Wqp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1irq6rp centos6-64-1:/tmp/apply_manifest.pp.qi3Wqp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:08:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.qi3Wqp
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403122086'
Info: /Stage[main]/Main/File[/etc/puppet/modules/nginx]: Recursively backing up to filebucket
Notice: /Stage[main]/Main/File[/etc/puppet/modules/nginx]/ensure: removed
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.15 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/changes" name="invalid_module_install_path.rb" time="4.851196"><system-out><![CDATA[
puppet module changes (on an invalid module install path)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.14 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:09$  mktemp -dt module_changes_with_invalid_path.XXXXXX  
/tmp/module_changes_with_invalid_path.PYCAyw

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Run module changes on an invalid module install path

n6vo88vhlunm0j0 (centos6-64-1) 13:08:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module changes /tmp/module_changes_with_invalid_path.PYCAyw/nginx  
Error: Could not find a valid module at "/tmp/module_changes_with_invalid_path.PYCAyw/nginx"
Error: Try 'puppet help module changes' for usage

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds
Exited: 1
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.91 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/changes" name="missing_metadata_json.rb" time="7.600384"><system-out><![CDATA[
puppet module changes (on a module which is missing metadata.json)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.18 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:14$  mktemp -dt module_changes_on_invalid_metadata.XXXXXX  
/tmp/module_changes_on_invalid_metadata.tZLaTc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.FSvf5H

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-mn3nrd centos6-64-1:/tmp/apply_manifest.pp.FSvf5H {}

n6vo88vhlunm0j0 (centos6-64-1) 13:08:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.FSvf5H
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403122096'
Notice: /Stage[main]/Main/File[/tmp/module_changes_on_invalid_metadata.tZLaTc/nginx]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/module_changes_on_invalid_metadata.tZLaTc/nginx/Modulefile]/ensure: created
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.43 seconds

  * Run module changes on a module witch is missing metadata.json

n6vo88vhlunm0j0 (centos6-64-1) 13:08:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module changes /tmp/module_changes_on_invalid_metadata.tZLaTc/nginx  
Error: No file containing checksums found.
Error: Try 'puppet help module changes' for usage

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.89 seconds
Exited: 1
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.93 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/changes" name="module_with_modified_file.rb" time="6.444794"><system-out><![CDATA[
puppet module changes (on a module with a modified file)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.93 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.24 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:22$  mktemp -dt module_changes_with_modified_file.XXXXXX  
/tmp/module_changes_with_modified_file.ogFnf8

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --modulepath /tmp/module_changes_with_modified_file.ogFnf8  
Notice: Preparing to install into /tmp/module_changes_with_modified_file.ogFnf8 ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/tmp/module_changes_with_modified_file.ogFnf8
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.41 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:23$  echo >> /tmp/module_changes_with_modified_file.ogFnf8/nginx/README  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Run module changes to check a module with a modified file

n6vo88vhlunm0j0 (centos6-64-1) 13:08:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module changes /tmp/module_changes_with_modified_file.ogFnf8/nginx  
Warning: 1 files modified
README

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.73 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.99 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.07 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/changes" name="module_with_removed_file.rb" time="6.849353"><system-out><![CDATA[
puppet module changes (on a module with a removed file)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.14 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.30 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:29$  mktemp -dt module_changes_with_removed_file.XXXXXX  
/tmp/module_changes_with_removed_file.5bhNiY

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --modulepath /tmp/module_changes_with_removed_file.5bhNiY  
Notice: Preparing to install into /tmp/module_changes_with_removed_file.5bhNiY ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/tmp/module_changes_with_removed_file.5bhNiY
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.41 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:30$  rm -rf /tmp/module_changes_with_removed_file.5bhNiY/nginx/README  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Run module changes to check a module with a removed file

n6vo88vhlunm0j0 (centos6-64-1) 13:08:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module changes /tmp/module_changes_with_removed_file.5bhNiY/nginx  
Warning: 1 files modified
README

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.75 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.17 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.99 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/changes" name="unmodified_module.rb" time="6.825640"><system-out><![CDATA[
puppet module changes (on an unmodified module)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.04 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.95 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:35$  mktemp -dt module_changes_with_unmodified.XXXXXX  
/tmp/module_changes_with_unmodified.gheKpj

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --modulepath /tmp/module_changes_with_unmodified.gheKpj  
Notice: Preparing to install into /tmp/module_changes_with_unmodified.gheKpj ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/tmp/module_changes_with_unmodified.gheKpj
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.49 seconds

  * Run module changes to check an unmodified module

n6vo88vhlunm0j0 (centos6-64-1) 13:08:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module changes /tmp/module_changes_with_unmodified.gheKpj/nginx  
Notice: No modified files


n6vo88vhlunm0j0 (centos6-64-1) executed in 0.92 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.35 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.04 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/generate" name="basic_generate.rb" time="4.369510"><system-out><![CDATA[
puppet module generate (agent)

n6vo88vhlunm0j0 (centos6-64-1) 13:08:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.66 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:08:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.62 seconds

  * Generate pmtacceptance-nginx module

n6vo88vhlunm0j0 (centos6-64-1) 13:08:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module generate pmtacceptance-nginx --skip-interview  

Notice: Generating module at /root/pmtacceptance-nginx...
Notice: Populating ERB templates...
Finished; module generated in pmtacceptance-nginx.
pmtacceptance-nginx/tests
pmtacceptance-nginx/tests/init.pp
pmtacceptance-nginx/README.md
pmtacceptance-nginx/metadata.json
pmtacceptance-nginx/Rakefile
pmtacceptance-nginx/manifests
pmtacceptance-nginx/manifests/init.pp
pmtacceptance-nginx/spec
pmtacceptance-nginx/spec/spec_helper.rb
pmtacceptance-nginx/spec/classes
pmtacceptance-nginx/spec/classes/init_spec.rb

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.79 seconds

  * Check for pmtacceptance-nginx scaffolding

n6vo88vhlunm0j0 (centos6-64-1) 13:08:42$  test -f pmtacceptance-nginx/manifests/init.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Clean up

n6vo88vhlunm0j0 (centos6-64-1) 13:08:42$  rm -fr pmtacceptance-nginx  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Generate pmtacceptance-nginx module

t21rjumdkqr2x5d (centos6-64-2) 13:08:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module generate pmtacceptance-nginx --skip-interview  

Notice: Generating module at /root/pmtacceptance-nginx...
Notice: Populating ERB templates...
Finished; module generated in pmtacceptance-nginx.
pmtacceptance-nginx/tests
pmtacceptance-nginx/tests/init.pp
pmtacceptance-nginx/README.md
pmtacceptance-nginx/metadata.json
pmtacceptance-nginx/Rakefile
pmtacceptance-nginx/manifests
pmtacceptance-nginx/manifests/init.pp
pmtacceptance-nginx/spec
pmtacceptance-nginx/spec/spec_helper.rb
pmtacceptance-nginx/spec/classes
pmtacceptance-nginx/spec/classes/init_spec.rb

t21rjumdkqr2x5d (centos6-64-2) executed in 0.68 seconds

  * Check for pmtacceptance-nginx scaffolding

t21rjumdkqr2x5d (centos6-64-2) 13:08:43$  test -f pmtacceptance-nginx/manifests/init.pp  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * Clean up

t21rjumdkqr2x5d (centos6-64-2) 13:08:43$  rm -fr pmtacceptance-nginx  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.81 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:08:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.68 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="already_installed.rb" time="12.310353"><system-out><![CDATA[
puppet module install (already installed)

n6vo88vhlunm0j0 (centos6-64-1) 13:08:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:08:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.92 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.14 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.22 seconds

  * Check that module is not installed

n6vo88vhlunm0j0 (centos6-64-1) 13:08:48$  [ ! -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Install module

n6vo88vhlunm0j0 (centos6-64-1) 13:08:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.61 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:50$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:50$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:08 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:50$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:08 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Try to install a module that is already installed

n6vo88vhlunm0j0 (centos6-64-1) 13:08:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Module pmtacceptance-nginx 0.0.1 is already installed.

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.76 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:51$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:51$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:08 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:51$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:08 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Try to install a specific version of a module that is already installed

n6vo88vhlunm0j0 (centos6-64-1) 13:08:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --version 1.x  
Notice: Preparing to install into /etc/puppet/modules ...
Error: Could not install module 'pmtacceptance-nginx' (v1.x)
  Module 'pmtacceptance-nginx' (v0.0.1) is already installed
    Use `puppet module upgrade` to install a different version
    Use `puppet module install --force` to re-install only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.73 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:08:51$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:51$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:08 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:52$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:08 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Install a module that is already installed (with --force)

n6vo88vhlunm0j0 (centos6-64-1) 13:08:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --force  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.41 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:53$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:53$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:08 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:53$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:08 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:08 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":["Module nginx(/etc/puppet/modules/nginx)"]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:08:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:08:54$  rm -rf /etc/puppet/modules/nginx  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.95 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.97 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="already_installed_elsewhere.rb" time="13.789249"><system-out><![CDATA[
puppet module install (already installed elsewhere)

n6vo88vhlunm0j0 (centos6-64-1) 13:08:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.89 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:08:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.61 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.97 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:08:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.92 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:00$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.hL6DwL

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1owscgj centos6-64-1:/tmp/apply_manifest.pp.hL6DwL {}

n6vo88vhlunm0j0 (centos6-64-1) 13:09:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hL6DwL
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403122141'
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/nginx]/ensure: created
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/nginx/metadata.json]/ensure: defined content as '{md5}25f7ff8ccbfe7cf4eeca8012de33828e'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.07 seconds

  * Try to install a module that is already installed

n6vo88vhlunm0j0 (centos6-64-1) 13:09:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Module pmtacceptance-nginx 0.0.1 is already installed.

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:03$  [ ! -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Try to install a specific version of a module that is already installed

n6vo88vhlunm0j0 (centos6-64-1) 13:09:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --version 1.x  
Notice: Preparing to install into /etc/puppet/modules ...
Error: Could not install module 'pmtacceptance-nginx' (v1.x)
  Module 'pmtacceptance-nginx' (v0.0.1) is already installed
    Use `puppet module upgrade` to install a different version
    Use `puppet module install --force` to re-install only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:09:04$  [ ! -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Install a specifc module version that is already installed (with --force)

n6vo88vhlunm0j0 (centos6-64-1) 13:09:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --force --version 0.0.1  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.41 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:05$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:05$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:05$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Install a module that is already installed (with --force)

n6vo88vhlunm0j0 (centos6-64-1) 13:09:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --force  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.55 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:07$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:07$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:07$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":["Module nginx(/usr/share/puppet/modules/nginx)"],"/etc/puppet/modules":["Module nginx(/etc/puppet/modules/nginx)"]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.85 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.60 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:08$  rm -rf /usr/share/puppet/modules/nginx  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:08$  rm -rf /etc/puppet/modules/nginx  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.04 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.99 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="already_installed_with_local_changes.rb" time="10.955571"><system-out><![CDATA[
puppet module install (already installed with local changes)

n6vo88vhlunm0j0 (centos6-64-1) 13:09:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.84 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.98 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.03 seconds

  * Check that module is not installed

n6vo88vhlunm0j0 (centos6-64-1) 13:09:14$  [ ! -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Install module

n6vo88vhlunm0j0 (centos6-64-1) 13:09:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.35 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:15$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:15$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:15$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Make local changes in installed module

n6vo88vhlunm0j0 (centos6-64-1) 13:09:15$  echo 'changed' >> /etc/puppet/modules/nginx/README  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

  * Try to install a specific version of a module that is already installed

n6vo88vhlunm0j0 (centos6-64-1) 13:09:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --version 1.x  
Notice: Preparing to install into /etc/puppet/modules ...
Error: Could not install module 'pmtacceptance-nginx' (v1.x)
  Module 'pmtacceptance-nginx' (v0.0.1) is already installed
    Installed module has had changes made locally
    Use `puppet module upgrade` to install a different version
    Use `puppet module install --force` to re-install only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:09:16$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:16$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:16$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   41 Jun 18 13:09 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Install a module that is already installed (with --force)

n6vo88vhlunm0j0 (centos6-64-1) 13:09:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --force  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.31 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:17$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:18$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:18$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":["Module nginx(/etc/puppet/modules/nginx)"],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.68 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.67 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:19$  rm -rf /etc/puppet/modules/nginx  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.08 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.15 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="basic_install.rb" time="15.378738"><system-out><![CDATA[
puppet module install (agent)

n6vo88vhlunm0j0 (centos6-64-1) 13:09:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.76 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.71 seconds

  * setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.16 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint confdir
/etc/puppet

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds

  * install module 'pmtacceptance-nginx'

n6vo88vhlunm0j0 (centos6-64-1) 13:09:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.53 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:27$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:27$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:27$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

  * setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine t21rjumdkqr2x5d

t21rjumdkqr2x5d (centos6-64-2) 13:09:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.83 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine t21rjumdkqr2x5d

t21rjumdkqr2x5d (centos6-64-2) 13:09:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.01 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint confdir
/etc/puppet

t21rjumdkqr2x5d (centos6-64-2) executed in 0.53 seconds

  * install module 'pmtacceptance-nginx'

t21rjumdkqr2x5d (centos6-64-2) 13:09:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-nginx (v0.0.1)

t21rjumdkqr2x5d (centos6-64-2) executed in 1.43 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:31$  [ -d "/etc/puppet/modules/nginx" ]  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:31$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 /etc/puppet/modules

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:31$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":["Module nginx(/etc/puppet/modules/nginx)"],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":["Module nginx(/etc/puppet/modules/nginx)"]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.67 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:33$  rm -rf /etc/puppet/modules/nginx  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:33$  rm -rf /etc/puppet/modules/nginx  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.02 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.94 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine t21rjumdkqr2x5d

t21rjumdkqr2x5d (centos6-64-2) 13:09:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.97 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine t21rjumdkqr2x5d

t21rjumdkqr2x5d (centos6-64-2) 13:09:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.83 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="force_ignores_dependencies.rb" time="10.834416"><system-out><![CDATA[
puppet module install (force ignores dependencies)

n6vo88vhlunm0j0 (centos6-64-1) 13:09:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.11 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.73 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.33 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.09 seconds

  * Try to install an unsatisfiable module

n6vo88vhlunm0j0 (centos6-64-1) 13:09:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-git  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not install module 'pmtacceptance-git' (???)
  No version of 'pmtacceptance-git' can satisfy all dependencies
    Use `puppet module install --ignore-dependencies` to install only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.26 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:09:42$  [ ! -d "/etc/puppet/modules/git" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:42$  [ ! -d "/etc/puppet/modules/apache" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Install an unsatisfiable module with force

n6vo88vhlunm0j0 (centos6-64-1) 13:09:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-git --force  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-git (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.44 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:44$  [ -d "/etc/puppet/modules/git" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:44$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:44$  ls -alR "/etc/puppet/modules/git"  
/etc/puppet/modules/git:
total 32
drwxr-xr-x. 5 root root 4096 Jan 26 15:12 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 manifests
-r--r--r--. 1 root root  769 Jan 26 15:12 metadata.json
-r--r--r--. 1 root root  271 Jan 26 15:12 Modulefile
-r--r--r--. 1 root root   29 Jan 26 15:12 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 spec
drwxr-xr-x. 2 root root 4096 Jan 26 15:12 tests

/etc/puppet/modules/git/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:12 ..
-r--r--r--. 1 root root  187 Jan 26 15:12 init.pp

/etc/puppet/modules/git/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:12 ..
-r--r--r--. 1 root root  426 Jan 26 15:12 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 26 15:12 spec.opts

/etc/puppet/modules/git/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 26 15:12 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:12 ..
-r--r--r--. 1 root root   12 Jan 26 15:12 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:44$  [ ! -d "/etc/puppet/modules/apache" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":["Module git(/etc/puppet/modules/git)"]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.82 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.71 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:45$  rm -rf /etc/puppet/modules/git  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.18 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.94 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="ignoring_dependencies.rb" time="9.542757"><system-out><![CDATA[
puppet module install (ignoring dependencies)

n6vo88vhlunm0j0 (centos6-64-1) 13:09:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.64 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.84 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.26 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.23 seconds

  * Install a module, but ignore dependencies

n6vo88vhlunm0j0 (centos6-64-1) 13:09:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --ignore-dependencies  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-java (v1.7.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.35 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:53$  [ -d "/etc/puppet/modules/java" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:53$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:53$  ls -alR "/etc/puppet/modules/java"  
/etc/puppet/modules/java:
total 32
drwxr-xr-x. 5 root root 4096 Jan 26 15:25 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:09 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 manifests
-r--r--r--. 1 root root  768 Jan 26 15:25 metadata.json
-r--r--r--. 1 root root  270 Jan 26 15:25 Modulefile
-r--r--r--. 1 root root   31 Jan 26 15:25 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 spec
drwxr-xr-x. 2 root root 4096 Jan 26 15:25 tests

/etc/puppet/modules/java/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:25 ..
-r--r--r--. 1 root root  190 Jan 26 15:25 init.pp

/etc/puppet/modules/java/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:09 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:25 ..
-r--r--r--. 1 root root  426 Jan 26 15:25 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 26 15:25 spec.opts

/etc/puppet/modules/java/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 26 15:25 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:25 ..
-r--r--r--. 1 root root   13 Jan 26 15:25 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:53$  [ ! -d "/etc/puppet/modules/stdlub" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":["Module java(/etc/puppet/modules/java)"],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.79 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.75 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:09:55$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.36 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.01 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="nonexistent_directory.rb" time="12.335867"><system-out><![CDATA[
puppet module install (nonexistent directory)

n6vo88vhlunm0j0 (centos6-64-1) 13:09:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.81 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:09:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.67 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:09:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.07 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.CjO4Im

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1oxngac centos6-64-1:/tmp/apply_manifest.pp.CjO4Im {}

n6vo88vhlunm0j0 (centos6-64-1) 13:10:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.CjO4Im
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403122202'
Notice: Finished catalog run in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.13 seconds

  * Try to install a module to a non-existent directory

n6vo88vhlunm0j0 (centos6-64-1) 13:10:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --target-dir /tmp/modules  
Notice: Preparing to install into /tmp/modules ...
Notice: Created target directory /tmp/modules
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/tmp/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.45 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:04$  [ -d "/tmp/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:04$  ls -ld "/tmp/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:10 /tmp/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:04$  ls -alR "/tmp/modules/nginx"  
/tmp/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:10 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/tmp/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/tmp/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/tmp/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Try to install a module to a non-existent implicit directory

n6vo88vhlunm0j0 (centos6-64-1) 13:10:04$  mv /etc/puppet/modules /etc/puppet/modules-bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Created target directory /etc/puppet/modules
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.35 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:06$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:06$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:10 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:06$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:10 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:06$  mv /etc/puppet/modules-bak /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":["Module modules-bak(/etc/puppet/modules/modules-bak)","Module nginx(/etc/puppet/modules/nginx)"],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.76 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:10:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.64 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:07$  rm -rf /etc/puppet/modules/modules-bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:07$  rm -rf /etc/puppet/modules/nginx  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.97 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.06 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="nonexistent_module.rb" time="9.675079"><system-out><![CDATA[
puppet module install (nonexistent module)

n6vo88vhlunm0j0 (centos6-64-1) 13:10:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.87 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:10:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.82 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.06 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.19 seconds

  * Try to install a non-existent module

n6vo88vhlunm0j0 (centos6-64-1) 13:10:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nonexistent  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not install 'pmtacceptance-nonexistent' (latest)
  No releases are available from https://forgeapi.puppetlabs.com
    Does 'pmtacceptance-nonexistent' have at least one published release?

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.98 seconds
Exited: 1

  * Try to install a non-existent module (JSON rendering)

n6vo88vhlunm0j0 (centos6-64-1) 13:10:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module --render-as json install pmtacceptance-nonexistent  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
{"module_version":">= 0.0.0","install_dir":"/etc/puppet/modules","module_name":"pmtacceptance-nonexistent","action":"install","result":"failure","error":{"oneline":"Could not install 'pmtacceptance-nonexistent'; no releases are available from https://forgeapi.puppetlabs.com","multiline":"Could not install 'pmtacceptance-nonexistent' (latest)\n  No releases are available from https://forgeapi.puppetlabs.com\n    Does 'pmtacceptance-nonexistent' have at least one published release?"}}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:10:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.63 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.07 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.27 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="with_cycles.rb" time="10.238343"><system-out><![CDATA[
puppet module install (with cycles)

n6vo88vhlunm0j0 (centos6-64-1) 13:10:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.81 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:10:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.92 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.97 seconds

  * Install a module with cycles

n6vo88vhlunm0j0 (centos6-64-1) 13:10:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-php --version 0.0.1  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-php (v0.0.1)
  └── pmtacceptance-apache (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.36 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── pmtacceptance-apache (v0.0.1)
└── pmtacceptance-php (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.78 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":["Module apache(/etc/puppet/modules/apache)","Module php(/etc/puppet/modules/php)"],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:10:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:27$  rm -rf /etc/puppet/modules/apache  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:27$  rm -rf /etc/puppet/modules/php  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.16 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.11 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="with_debug.rb" time="9.983635"><system-out><![CDATA[
puppet module install (with debug)

n6vo88vhlunm0j0 (centos6-64-1) 13:10:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.78 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:10:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.86 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.13 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.04 seconds

  * Install a module with debug output

n6vo88vhlunm0j0 (centos6-64-1) 13:10:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --debug  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Debug: HTTP GET https://forgeapi.puppetlabs.com/v3/releases?module=pmtacceptance-java
Debug: HTTP GET https://forgeapi.puppetlabs.com/v3/releases?module=pmtacceptance-stdlub
Info: Resolving dependencies ...
Info: Preparing to install ...
Debug: HTTP GET https://forgeapi.puppetlabs.com/v3/files/pmtacceptance-java-1.7.1.tar.gz
Debug: Executing 'gzip -dc /var/lib/puppet/puppet-module/cache/pmtacceptance-java20140618-16815-76w1ia-0 | tar xof -'
Debug: Executing 'find . -type d -exec chmod 755 {} +'
Debug: Executing 'find . -type f -exec chmod a-wst {} +'
Debug: Executing 'chown -R 0:0 .'
Debug: HTTP GET https://forgeapi.puppetlabs.com/v3/files/pmtacceptance-stdlub-1.0.0.tar.gz
Debug: Executing 'gzip -dc /var/lib/puppet/puppet-module/cache/pmtacceptance-stdlub20140618-16815-1ldwl9z-0 | tar xof -'
Debug: Executing 'find . -type d -exec chmod 755 {} +'
Debug: Executing 'find . -type f -exec chmod a-wst {} +'
Debug: Executing 'chown -R 0:0 .'
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.7.1)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":["Module java(/etc/puppet/modules/java)","Module stdlub(/etc/puppet/modules/stdlub)"],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.79 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:10:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.76 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:37$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:37$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.36 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.09 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="with_dependencies.rb" time="9.477636"><system-out><![CDATA[
puppet module install (with dependencies)

n6vo88vhlunm0j0 (centos6-64-1) 13:10:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.77 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:10:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.05 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.04 seconds

  * Install a module with dependencies

n6vo88vhlunm0j0 (centos6-64-1) 13:10:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.7.1)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:45$  [ -d "/etc/puppet/modules/java" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:45$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 4 root root 4096 Jun 18 13:10 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:45$  ls -alR "/etc/puppet/modules/java"  
/etc/puppet/modules/java:
total 32
drwxr-xr-x. 5 root root 4096 Jan 26 15:25 .
drwxr-xr-x. 4 root root 4096 Jun 18 13:10 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 manifests
-r--r--r--. 1 root root  768 Jan 26 15:25 metadata.json
-r--r--r--. 1 root root  270 Jan 26 15:25 Modulefile
-r--r--r--. 1 root root   31 Jan 26 15:25 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 spec
drwxr-xr-x. 2 root root 4096 Jan 26 15:25 tests

/etc/puppet/modules/java/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:25 ..
-r--r--r--. 1 root root  190 Jan 26 15:25 init.pp

/etc/puppet/modules/java/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:25 ..
-r--r--r--. 1 root root  426 Jan 26 15:25 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 26 15:25 spec.opts

/etc/puppet/modules/java/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 26 15:25 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:25 ..
-r--r--r--. 1 root root   13 Jan 26 15:25 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:45$  [ -d "/etc/puppet/modules/stdlub" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:45$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 4 root root 4096 Jun 18 13:10 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:45$  ls -alR "/etc/puppet/modules/stdlub"  
/etc/puppet/modules/stdlub:
total 32
drwxr-xr-x. 5 root root 4096 Jan 26 15:26 .
drwxr-xr-x. 4 root root 4096 Jun 18 13:10 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 manifests
-r--r--r--. 1 root root  686 Jan 26 15:26 metadata.json
-r--r--r--. 1 root root  230 Jan 26 15:26 Modulefile
-r--r--r--. 1 root root   35 Jan 26 15:26 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 spec
drwxr-xr-x. 2 root root 4096 Jan 26 15:26 tests

/etc/puppet/modules/stdlub/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:26 ..
-r--r--r--. 1 root root  196 Jan 26 15:26 init.pp

/etc/puppet/modules/stdlub/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:26 ..
-r--r--r--. 1 root root  426 Jan 26 15:26 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 26 15:26 spec.opts

/etc/puppet/modules/stdlub/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 26 15:26 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:26 ..
-r--r--r--. 1 root root   15 Jan 26 15:26 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":["Module java(/etc/puppet/modules/java)","Module stdlub(/etc/puppet/modules/stdlub)"],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:10:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.68 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:46$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:46$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.10 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.10 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="with_environment.rb" time="20.322007"><system-out><![CDATA[
puppet module install (with environment)

n6vo88vhlunm0j0 (centos6-64-1) 13:10:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:10:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.66 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:10:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.94 seconds

  * ensure we don't have left over bad state from another, possibly failed run

n6vo88vhlunm0j0 (centos6-64-1) 13:10:52$  rm -rf /etc/puppet/legacyenv /etc/puppet/environments /etc/puppet/puppet2.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * Configure a non-default legacy and directory environment

n6vo88vhlunm0j0 (centos6-64-1) 13:10:52$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.BFuNyt

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1mzvj7q centos6-64-1:/tmp/apply_manifest.pp.BFuNyt {}

n6vo88vhlunm0j0 (centos6-64-1) 13:10:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BFuNyt
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403122254'
Notice: /Stage[main]/Main/File[/etc/puppet/puppet2.conf]/ensure: defined content as '{md5}58e2f9765e2994db8e8ab19a3513356e'
Notice: /Stage[main]/Main/File[/etc/puppet/environments]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/environments/direnv]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/legacyenv]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/legacyenv/modules]/ensure: created
Notice: Finished catalog run in 0.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.44 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set modulepath /etc/puppet/legacyenv/modules --section legacyenv --config /etc/puppet/puppet2.conf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.63 seconds

  * Install a module into a non default legacy environment

n6vo88vhlunm0j0 (centos6-64-1) 13:10:55$  puppet module install pmtacceptance-nginx --config=/etc/puppet/puppet2.conf --environment=legacyenv  
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to install into /etc/puppet/legacyenv/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/legacyenv/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:57$  [ -d "/etc/puppet/legacyenv/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:57$  ls -ld "/etc/puppet/legacyenv/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:10 /etc/puppet/legacyenv/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:57$  ls -alR "/etc/puppet/legacyenv/modules/nginx"  
/etc/puppet/legacyenv/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:10 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/legacyenv/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/legacyenv/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/legacyenv/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Enable directory environments

n6vo88vhlunm0j0 (centos6-64-1) 13:10:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set environmentpath /etc/puppet/environments --section main --config /etc/puppet/puppet2.conf
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.56 seconds

  * Install a module into a non default directory environment

n6vo88vhlunm0j0 (centos6-64-1) 13:10:58$  puppet module install pmtacceptance-nginx --config=/etc/puppet/puppet2.conf --environment=direnv  
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to install into /etc/puppet/environments/direnv/modules ...
Notice: Created target directory /etc/puppet/environments/direnv/modules
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/environments/direnv/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.31 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:59$  [ -d "/etc/puppet/environments/direnv/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:59$  ls -ld "/etc/puppet/environments/direnv/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:10 /etc/puppet/environments/direnv/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:59$  ls -alR "/etc/puppet/environments/direnv/modules/nginx"  
/etc/puppet/environments/direnv/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:10 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/environments/direnv/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/environments/direnv/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:10 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/environments/direnv/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Prepare a separate modulepath

n6vo88vhlunm0j0 (centos6-64-1) 13:10:59$  mktemp -dt modulepath.XXXXXX  
/tmp/modulepath.mMfEyc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:10:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.RtWlDB

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-s7sl3u centos6-64-1:/tmp/apply_manifest.pp.RtWlDB {}

n6vo88vhlunm0j0 (centos6-64-1) 13:10:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --detailed-exitcodes /tmp/apply_manifest.pp.RtWlDB
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403122261'
Notice: /Stage[main]/Main/File[/etc/puppet/environments/production]/ensure: created
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.36 seconds
Exited: 2

  * Install a module into --modulepath /tmp/modulepath.mMfEyc despite the implicit production directory env existing

n6vo88vhlunm0j0 (centos6-64-1) 13:11:01$  puppet module install pmtacceptance-nginx --config=/etc/puppet/puppet2.conf --modulepath=/tmp/modulepath.mMfEyc  
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to install into /tmp/modulepath.mMfEyc ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/tmp/modulepath.mMfEyc
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.43 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:03$  [ -d "/tmp/modulepath.mMfEyc/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:03$  ls -ld "/tmp/modulepath.mMfEyc"  
drwx------. 3 root root 4096 Jun 18 13:11 /tmp/modulepath.mMfEyc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:03$  ls -alR "/tmp/modulepath.mMfEyc/nginx"  
/tmp/modulepath.mMfEyc/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwx------. 3 root root 4096 Jun 18 13:11 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/tmp/modulepath.mMfEyc/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/tmp/modulepath.mMfEyc/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/tmp/modulepath.mMfEyc/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Uninstall so we can try a different scenario

n6vo88vhlunm0j0 (centos6-64-1) 13:11:03$  puppet module uninstall pmtacceptance-nginx --config=/etc/puppet/puppet2.conf --modulepath=/tmp/modulepath.mMfEyc  
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to uninstall 'pmtacceptance-nginx' ...
Removed 'pmtacceptance-nginx' (v0.0.1) from /tmp/modulepath.mMfEyc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.76 seconds

  * Install a module into --modulepath /tmp/modulepath.mMfEyc with a directory env specified

n6vo88vhlunm0j0 (centos6-64-1) 13:11:04$  puppet module install pmtacceptance-nginx --config=/etc/puppet/puppet2.conf --modulepath=/tmp/modulepath.mMfEyc --environment=direnv  
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to install into /tmp/modulepath.mMfEyc ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/tmp/modulepath.mMfEyc
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.47 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:05$  [ -d "/tmp/modulepath.mMfEyc/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:05$  ls -ld "/tmp/modulepath.mMfEyc"  
drwx------. 3 root root 4096 Jun 18 13:11 /tmp/modulepath.mMfEyc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:05$  ls -alR "/tmp/modulepath.mMfEyc/nginx"  
/tmp/modulepath.mMfEyc/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwx------. 3 root root 4096 Jun 18 13:11 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/tmp/modulepath.mMfEyc/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/tmp/modulepath.mMfEyc/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/tmp/modulepath.mMfEyc/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.82 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:11:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.04 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.01 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:09$  rm -rf /etc/puppet/legacyenv /etc/puppet/environments /etc/puppet/puppet2.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="with_existing_module_directory.rb" time="17.449570"><system-out><![CDATA[
puppet module install (with existing module directory)

n6vo88vhlunm0j0 (centos6-64-1) 13:11:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.67 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:11:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.71 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.25 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.33 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:13$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ta1Yrd

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xlsevv centos6-64-1:/tmp/apply_manifest.pp.ta1Yrd {}

n6vo88vhlunm0j0 (centos6-64-1) 13:11:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ta1Yrd
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403122275'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/apache]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/apache/extra.json]/ensure: defined content as '{md5}d41d8cd98f00b204e9800998ecf8427e'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/nginx]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/nginx/metadata.json]/ensure: defined content as '{md5}6f70b0be4558feeaf3fd5ef5ad867988'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/nginx/extra.json]/ensure: defined content as '{md5}d41d8cd98f00b204e9800998ecf8427e'
Notice: Finished catalog run in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.50 seconds

  * Try to install a module with a name collision

n6vo88vhlunm0j0 (centos6-64-1) 13:11:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not install module 'pmtacceptance-nginx' (latest)
  Installation would overwrite /etc/puppet/modules/nginx
    Currently, 'notpmtacceptance/nginx' (v0.0.3) is installed to that directory
    Use `puppet module install --force` to install this module anyway

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.08 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:11:17$  [ -f /etc/puppet/modules/nginx/extra.json ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Try to install a module with a path collision

n6vo88vhlunm0j0 (centos6-64-1) 13:11:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-apache  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not install module 'pmtacceptance-apache' (latest)
  Installation would overwrite /etc/puppet/modules/apache
    Use `puppet module install --force` to install this module anyway

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.60 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:11:18$  [ -f /etc/puppet/modules/apache/extra.json ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Try to install a module with a dependency that has collides

n6vo88vhlunm0j0 (centos6-64-1) 13:11:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-php --version 0.0.1  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not install module 'pmtacceptance-php' (v0.0.1)
  Dependency 'pmtacceptance-apache' (v0.0.1) would overwrite /etc/puppet/modules/apache
    Use `puppet module install --ignore-dependencies` to install only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.81 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:11:20$  [ -f /etc/puppet/modules/apache/extra.json ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Install a module with a name collision by using --force

n6vo88vhlunm0j0 (centos6-64-1) 13:11:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --force  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.30 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:21$  [ ! -f /etc/puppet/modules/nginx/extra.json ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * Install an module with a name collision by using --force

n6vo88vhlunm0j0 (centos6-64-1) 13:11:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-apache --force  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-apache (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.42 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:23$  [ ! -f /etc/puppet/modules/apache/extra.json ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":["Module apache(/etc/puppet/modules/apache)","Module nginx(/etc/puppet/modules/nginx)"],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.73 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:11:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.64 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:24$  rm -rf /etc/puppet/modules/apache  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:24$  rm -rf /etc/puppet/modules/nginx  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.05 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="with_modulepath.rb" time="11.298540"><system-out><![CDATA[
puppet module install (with modulepath)

n6vo88vhlunm0j0 (centos6-64-1) 13:11:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:11:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.71 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.16 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:30$  mkdir -p /etc/puppet/modules2  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Install a module with relative modulepath

n6vo88vhlunm0j0 (centos6-64-1) 13:11:30$  cd /etc/puppet/modules2 && puppet module install pmtacceptance-nginx --modulepath=.  
Notice: Preparing to install into /etc/puppet/modules2 ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules2
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.37 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:32$  [ -d "/etc/puppet/modules2/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:32$  ls -ld "/etc/puppet/modules2"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:11 /etc/puppet/modules2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:32$  ls -alR "/etc/puppet/modules2/nginx"  
/etc/puppet/modules2/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:11 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules2/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules2/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules2/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Install a module with absolute modulepath

n6vo88vhlunm0j0 (centos6-64-1) 13:11:32$  test -d /etc/puppet/modules2/nginx && rm -rf /etc/puppet/modules2/nginx  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx --modulepath=/etc/puppet/modules2  
Notice: Preparing to install into /etc/puppet/modules2 ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules2
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.44 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:33$  [ -d "/etc/puppet/modules2/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:33$  ls -ld "/etc/puppet/modules2"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:11 /etc/puppet/modules2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:33$  ls -alR "/etc/puppet/modules2/nginx"  
/etc/puppet/modules2/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:11 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules2/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules2/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules2/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:11:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:35$  rm -rf /etc/puppet/modules2  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.17 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.49 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="with_necessary_upgrade.rb" time="13.192418"><system-out><![CDATA[
puppet module install (with necessary dependency upgrade)

n6vo88vhlunm0j0 (centos6-64-1) 13:11:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:11:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.68 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.16 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.99 seconds

  * Install an older module version

n6vo88vhlunm0j0 (centos6-64-1) 13:11:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.6.0  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:44$  grep "version '1.6.0'" /etc/puppet/modules/java/Modulefile  
version '1.6.0'

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Install a module that requires the older module dependency be upgraded

n6vo88vhlunm0j0 (centos6-64-1) 13:11:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-apollo  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-apollo (v0.0.1)
  ├── pmtacceptance-java (v1.6.0 -> v1.7.1)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.51 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── pmtacceptance-apollo (v0.0.1)
├── pmtacceptance-java (v1.7.1)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.89 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":["Module apollo(/etc/puppet/modules/apollo)","Module java(/etc/puppet/modules/java)","Module stdlub(/etc/puppet/modules/stdlub)"]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.69 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:11:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:48$  rm -rf /etc/puppet/modules/apollo  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:48$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:49$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.20 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.17 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="with_no_dependencies.rb" time="8.900891"><system-out><![CDATA[
puppet module install (with no dependencies)

n6vo88vhlunm0j0 (centos6-64-1) 13:11:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:11:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.75 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.26 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.96 seconds

  * Install a module with no dependencies

n6vo88vhlunm0j0 (centos6-64-1) 13:11:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-nginx  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.45 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:56$  [ -d "/etc/puppet/modules/nginx" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:56$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 3 root root 4096 Jun 18 13:11 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:56$  ls -alR "/etc/puppet/modules/nginx"  
/etc/puppet/modules/nginx:
total 32
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 3 root root 4096 Jun 18 13:11 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 manifests
-r--r--r--. 1 root root  623 Jan 27 11:47 metadata.json
-r--r--r--. 1 root root  238 Jan 27 11:47 Modulefile
-r--r--r--. 1 root root   33 Jan 27 11:47 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 spec
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 tests

/etc/puppet/modules/nginx/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  193 Jan 27 11:47 init.pp

/etc/puppet/modules/nginx/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:11 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root  426 Jan 27 11:47 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 27 11:47 spec.opts

/etc/puppet/modules/nginx/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 27 11:47 .
drwxr-xr-x. 5 root root 4096 Jan 27 11:47 ..
-r--r--r--. 1 root root   14 Jan 27 11:47 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":["Module nginx(/etc/puppet/modules/nginx)"]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.79 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:11:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.73 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:11:58$  rm -rf /etc/puppet/modules/nginx  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.10 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:11:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="with_unnecessary_upgrade.rb" time="12.426188"><system-out><![CDATA[
puppet module install (with unnecessary dependency upgrade)

n6vo88vhlunm0j0 (centos6-64-1) 13:12:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.10 seconds

  * Install an older module version

n6vo88vhlunm0j0 (centos6-64-1) 13:12:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.7.0  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.7.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:06$  grep "version '1.7.0'" /etc/puppet/modules/java/Modulefile  
version '1.7.0'

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Install a module that depends on a dependency that could be upgraded, but already satisfies constraints

n6vo88vhlunm0j0 (centos6-64-1) 13:12:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-apollo  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-apollo (v0.0.1)
  ├── pmtacceptance-java (v1.7.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.98 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── pmtacceptance-apollo (v0.0.1)
├── pmtacceptance-java (v1.7.0)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":["Module apollo(/etc/puppet/modules/apollo)","Module java(/etc/puppet/modules/java)","Module stdlub(/etc/puppet/modules/stdlub)"]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.73 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.82 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:10$  rm -rf /etc/puppet/modules/apollo  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:10$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:10$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.13 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.26 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="with_unsatisfied_constraints.rb" time="15.866142"><system-out><![CDATA[
puppet module install (with unsatisfied constraints)

n6vo88vhlunm0j0 (centos6-64-1) 13:12:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.86 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.64 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.14 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.94 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.wL8eoG

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-yp6cz3 centos6-64-1:/tmp/apply_manifest.pp.wL8eoG {}

n6vo88vhlunm0j0 (centos6-64-1) 13:12:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wL8eoG
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403122338'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn/metadata.json]/ensure: defined content as '{md5}eef5314c703ce206840a37c3a03db798'
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.39 seconds

  * Try to install a module that has an unsatisfiable dependency

n6vo88vhlunm0j0 (centos6-64-1) 13:12:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-git  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not install module 'pmtacceptance-git' (???)
  No version of 'pmtacceptance-git' can satisfy all dependencies
    Use `puppet module install --ignore-dependencies` to install only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.37 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:12:20$  [ ! -d /etc/puppet/modules/git ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Install the module with an unsatisfiable dependency

n6vo88vhlunm0j0 (centos6-64-1) 13:12:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-git --ignore-dependencies  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-git (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.32 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:21$  [ -d /etc/puppet/modules/git ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Try to install a specific version of the unsatisfiable dependency

n6vo88vhlunm0j0 (centos6-64-1) 13:12:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-stdlub --version 1.x  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not install module 'pmtacceptance-stdlub' (???)
  No version of 'pmtacceptance-stdlub' can satisfy all dependencies
    Use `puppet module install --ignore-dependencies` to install only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.02 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:12:22$  [ ! -d /etc/puppet/modules/stdlub ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Try to install any version of the unsatisfiable dependency

n6vo88vhlunm0j0 (centos6-64-1) 13:12:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-stdlub  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not install module 'pmtacceptance-stdlub' (???)
  No version of 'pmtacceptance-stdlub' can satisfy all dependencies
    Use `puppet module install --ignore-dependencies` to install only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.10 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:12:23$  [ ! -d /etc/puppet/modules/stdlub ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Install the unsatisfiable dependency with --force

n6vo88vhlunm0j0 (centos6-64-1) 13:12:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-stdlub --force  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.48 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:25$  [ -d /etc/puppet/modules/stdlub ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":["Module crakorn(/etc/puppet/modules/crakorn)","Module git(/etc/puppet/modules/git)","Module stdlub(/etc/puppet/modules/stdlub)"]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.73 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.61 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:26$  rm -rf /etc/puppet/modules/crakorn  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:26$  rm -rf /etc/puppet/modules/git  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:26$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.05 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.91 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/install" name="with_version.rb" time="16.515301"><system-out><![CDATA[
puppet module install (with version)

n6vo88vhlunm0j0 (centos6-64-1) 13:12:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds

  * setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.15 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint confdir
/etc/puppet

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.65 seconds

  *   install module 'pmtacceptance-java'

n6vo88vhlunm0j0 (centos6-64-1) 13:12:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install --version "<1.7.0" pmtacceptance-java  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:35$  [ -d "/etc/puppet/modules/java" ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:35$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 4 root root 4096 Jun 18 13:12 /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:35$  ls -alR "/etc/puppet/modules/java"  
/etc/puppet/modules/java:
total 32
drwxr-xr-x. 5 root root 4096 Jan 26 15:24 .
drwxr-xr-x. 4 root root 4096 Jun 18 13:12 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:12 manifests
-r--r--r--. 1 root root  771 Jan 26 15:24 metadata.json
-r--r--r--. 1 root root  273 Jan 26 15:24 Modulefile
-r--r--r--. 1 root root   31 Jan 26 15:24 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:12 spec
drwxr-xr-x. 2 root root 4096 Jan 26 15:24 tests

/etc/puppet/modules/java/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:12 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:24 ..
-r--r--r--. 1 root root  190 Jan 26 15:24 init.pp

/etc/puppet/modules/java/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:12 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:24 ..
-r--r--r--. 1 root root  426 Jan 26 15:24 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 26 15:24 spec.opts

/etc/puppet/modules/java/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 26 15:24 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:24 ..
-r--r--r--. 1 root root   13 Jan 26 15:24 init.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine t21rjumdkqr2x5d

t21rjumdkqr2x5d (centos6-64-2) 13:12:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.89 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine t21rjumdkqr2x5d

t21rjumdkqr2x5d (centos6-64-2) 13:12:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.87 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint confdir
/etc/puppet

t21rjumdkqr2x5d (centos6-64-2) executed in 0.65 seconds

  *   install module 'pmtacceptance-java'

t21rjumdkqr2x5d (centos6-64-2) 13:12:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install --version "<1.7.0" pmtacceptance-java  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

t21rjumdkqr2x5d (centos6-64-2) executed in 1.89 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:39$  [ -d "/etc/puppet/modules/java" ]  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:39$  ls -ld "/etc/puppet/modules"  
drwxr-xr-x. 4 root root 4096 Jun 18 13:12 /etc/puppet/modules

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:39$  ls -alR "/etc/puppet/modules/java"  
/etc/puppet/modules/java:
total 32
drwxr-xr-x. 5 root root 4096 Jan 26 15:24 .
drwxr-xr-x. 4 root root 4096 Jun 18 13:12 ..
drwxr-xr-x. 2 root root 4096 Jun 18 13:12 manifests
-r--r--r--. 1 root root  771 Jan 26 15:24 metadata.json
-r--r--r--. 1 root root  273 Jan 26 15:24 Modulefile
-r--r--r--. 1 root root   31 Jan 26 15:24 README
drwxr-xr-x. 2 root root 4096 Jun 18 13:12 spec
drwxr-xr-x. 2 root root 4096 Jan 26 15:24 tests

/etc/puppet/modules/java/manifests:
total 12
drwxr-xr-x. 2 root root 4096 Jun 18 13:12 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:24 ..
-r--r--r--. 1 root root  190 Jan 26 15:24 init.pp

/etc/puppet/modules/java/spec:
total 16
drwxr-xr-x. 2 root root 4096 Jun 18 13:12 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:24 ..
-r--r--r--. 1 root root  426 Jan 26 15:24 spec_helper.rb
-r--r--r--. 1 root root   47 Jan 26 15:24 spec.opts

/etc/puppet/modules/java/tests:
total 12
drwxr-xr-x. 2 root root 4096 Jan 26 15:24 .
drwxr-xr-x. 5 root root 4096 Jan 26 15:24 ..
-r--r--r--. 1 root root   13 Jan 26 15:24 init.pp

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":["Module java(/etc/puppet/modules/java)","Module stdlub(/etc/puppet/modules/stdlub)"],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.83 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":["Module java(/etc/puppet/modules/java)","Module stdlub(/etc/puppet/modules/stdlub)"]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.61 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:41$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:41$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:41$  rm -rf /etc/puppet/modules/java  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:12:41$  rm -rf /etc/puppet/modules/stdlub  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.16 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine t21rjumdkqr2x5d

t21rjumdkqr2x5d (centos6-64-2) 13:12:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.90 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine t21rjumdkqr2x5d

t21rjumdkqr2x5d (centos6-64-2) 13:12:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.88 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/list" name="with_circular_dependencies.rb" time="4.187844"><system-out><![CDATA[
puppet module list (with circular dependencies)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:12:45$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:45$  mkdir -p /usr/share/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:45$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.X7xAX2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1aha776 centos6-64-1:/tmp/apply_manifest.pp.X7xAX2 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:12:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.X7xAX2
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122366'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed/metadata.json]/ensure: defined content as '{md5}7c3dd46bb7fb01c9f686c2c26b714eaf'
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crakorn/metadata.json]/ensure: defined content as '{md5}d91dc60b2c0fa0aee688051f7f8b4960'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.39 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:47$  [ -d /etc/puppet/modules/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:47$  [ -d /usr/share/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * List the installed modules

n6vo88vhlunm0j0 (centos6-64-1) 13:12:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list  
/etc/puppet/modules
└── jimmy-appleseed (v1.1.0)
/usr/share/puppet/modules
└── jimmy-crakorn (v0.4.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds

  * List the installed modules as a dependency tree

n6vo88vhlunm0j0 (centos6-64-1) 13:12:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --tree  
/etc/puppet/modules
└─┬ jimmy-appleseed (v1.1.0)
  └── jimmy-crakorn (v0.4.0) [/usr/share/puppet/modules]
/usr/share/puppet/modules
└─┬ jimmy-crakorn (v0.4.0)
  └── jimmy-appleseed (v1.1.0) [/etc/puppet/modules]

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.82 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:49$  rm -rf /etc/puppet/modules/appleseed  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:49$  rm -rf /usr/share/puppet/modules/crakorn  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/list" name="with_environment.rb" time="12.512631"><system-out><![CDATA[
puppet module list (with environment)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.21 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.15 seconds

  * ensure we don't have left over bad state from another, possibly failed run

n6vo88vhlunm0j0 (centos6-64-1) 13:12:51$  rm -rf /etc/puppet/legacyenv /etc/puppet/environments /etc/puppet/puppet2.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Configure a non-default legacy and directory environment

n6vo88vhlunm0j0 (centos6-64-1) 13:12:51$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.n6NwBG

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ckstfy centos6-64-1:/tmp/apply_manifest.pp.n6NwBG {}

n6vo88vhlunm0j0 (centos6-64-1) 13:12:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.n6NwBG
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122373'
Notice: /Stage[main]/Main/File[/etc/puppet/puppet2.conf]/ensure: defined content as '{md5}58e2f9765e2994db8e8ab19a3513356e'
Notice: /Stage[main]/Main/File[/etc/puppet/environments]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/environments/direnv]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/legacyenv]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/legacyenv/modules]/ensure: created
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.34 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set modulepath /etc/puppet/legacyenv/modules --section legacyenv --config /etc/puppet/puppet2.conf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.78 seconds

  * List modules in a non default legacy environment

n6vo88vhlunm0j0 (centos6-64-1) 13:12:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module  install pmtacceptance-nginx --config /etc/puppet/puppet2.conf --environment legacyenv
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to install into /etc/puppet/legacyenv/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/legacyenv/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.31 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module  list --config /etc/puppet/puppet2.conf --environment legacyenv
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
/etc/puppet/legacyenv/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.77 seconds

  * Enable directory environments

n6vo88vhlunm0j0 (centos6-64-1) 13:12:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set environmentpath /etc/puppet/environments --section main --config /etc/puppet/puppet2.conf
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

  * List modules in a non default directory environment

n6vo88vhlunm0j0 (centos6-64-1) 13:12:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module  install pmtacceptance-nginx --config /etc/puppet/puppet2.conf --environment direnv
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to install into /etc/puppet/environments/direnv/modules ...
Notice: Created target directory /etc/puppet/environments/direnv/modules
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/environments/direnv/modules
└── pmtacceptance-nginx (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.47 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:12:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module  list --config /etc/puppet/puppet2.conf --environment direnv
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
/etc/puppet/environments/direnv/modules
└── pmtacceptance-nginx (v0.0.1)
/etc/puppet/modules (no modules installed)
/usr/share/puppet/modules (no modules installed)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:12:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.05 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:13:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.93 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:01$  rm -rf /etc/puppet/legacyenv /etc/puppet/environments /etc/puppet/puppet2.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/list" name="with_installed_modules.rb" time="5.748666"><system-out><![CDATA[
puppet module list (with installed modules)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:13:01$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:01$  mkdir -p /usr/share/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.o00E8T

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1pvsyu9 centos6-64-1:/tmp/apply_manifest.pp.o00E8T {}

n6vo88vhlunm0j0 (centos6-64-1) 13:13:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.o00E8T
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122383'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/thelock]/ensure: created
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crick]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn/metadata.json]/ensure: defined content as '{md5}643aadd3b77c7fcc61b41c3da31c3155'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/thelock/metadata.json]/ensure: defined content as '{md5}6ba7cafa255357d96ddae002931cb269'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed/metadata.json]/ensure: defined content as '{md5}7c3dd46bb7fb01c9f686c2c26b714eaf'
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crick/metadata.json]/ensure: defined content as '{md5}aa1e711d83bfbab3603e5abfcab9a279'
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:04$  [ -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:04$  [ -d /etc/puppet/modules/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:04$  [ -d /etc/puppet/modules/thelock ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:04$  [ -d /usr/share/puppet/modules/crick ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * List the installed modules

n6vo88vhlunm0j0 (centos6-64-1) 13:13:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── jimmy-appleseed (v1.1.0)
├── jimmy-crakorn (v0.4.0)
└── jimmy-thelock (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.80 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /usr/share/puppet/modules  
Warning: Missing dependency 'jimmy-crakorn':
  'jimmy-crick' (v1.0.1) requires 'jimmy-crakorn' (v0.4.x)
/usr/share/puppet/modules
└── jimmy-crick (v1.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds

  * List the installed modules as a dependency tree

n6vo88vhlunm0j0 (centos6-64-1) 13:13:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --tree --modulepath /etc/puppet/modules  
/etc/puppet/modules
└─┬ jimmy-thelock (v1.0.0)
  └─┬ jimmy-appleseed (v1.1.0)
    └── jimmy-crakorn (v0.4.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.83 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --tree --modulepath /usr/share/puppet/modules  
Warning: Missing dependency 'jimmy-crakorn':
  'jimmy-crick' (v1.0.1) requires 'jimmy-crakorn' (v0.4.x)
/usr/share/puppet/modules
└─┬ jimmy-crick (v1.0.1)
  └── UNMET DEPENDENCY jimmy-crakorn (v0.4.x)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.89 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:07$  rm -rf /etc/puppet/modules/thelock  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:07$  rm -rf /etc/puppet/modules/appleseed  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:07$  rm -rf /etc/puppet/modules/crakorn  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:07$  rm -rf /usr/share/puppet/modules/crick  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/list" name="with_invalid_dependencies.rb" time="4.417244"><system-out><![CDATA[
puppet module list (with invalid dependencies)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:13:07$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:07$  mkdir -p /usr/share/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:07$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.lejxp2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-11v7dio centos6-64-1:/tmp/apply_manifest.pp.lejxp2 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:13:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.lejxp2
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403122389'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/thelock]/ensure: created
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crick]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn/metadata.json]/ensure: defined content as '{md5}24a386394622d35e46f3e6961be10922'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/thelock/metadata.json]/ensure: defined content as '{md5}6ba7cafa255357d96ddae002931cb269'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed/metadata.json]/ensure: defined content as '{md5}4f3bb7d929156faa7ed41a5f178ece6f'
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crick/metadata.json]/ensure: defined content as '{md5}aa1e711d83bfbab3603e5abfcab9a279'
Notice: Finished catalog run in 0.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.56 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:10$  [ -d /etc/puppet/modules/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:10$  [ -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:10$  [ -d /etc/puppet/modules/thelock ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:10$  [ -d /usr/share/puppet/modules/crick ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * List the installed modules

n6vo88vhlunm0j0 (centos6-64-1) 13:13:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list  
Warning: Module 'jimmy-crakorn' (v0.3.0) fails to meet some dependencies:
  'jimmy-crick' (v1.0.1) requires 'jimmy-crakorn' (v0.4.x)
/etc/puppet/modules
├── jimmy-appleseed (v1.1.0)
├── jimmy-crakorn (v0.3.0)  invalid
└── jimmy-thelock (v1.0.0)
/usr/share/puppet/modules
└── jimmy-crick (v1.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds

  * List the installed modules as a dependency tree

n6vo88vhlunm0j0 (centos6-64-1) 13:13:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --tree  
Warning: Module 'jimmy-crakorn' (v0.3.0) fails to meet some dependencies:
  'jimmy-crick' (v1.0.1) requires 'jimmy-crakorn' (v0.4.x)
/etc/puppet/modules
└─┬ jimmy-thelock (v1.0.0)
  └─┬ jimmy-appleseed (v1.1.0)
    └── jimmy-crakorn (v0.3.0)
/usr/share/puppet/modules
└─┬ jimmy-crick (v1.0.1)
  └── jimmy-crakorn (v0.3.0) [/etc/puppet/modules]  invalid

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:11$  rm -rf /etc/puppet/modules/thelock  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:11$  rm -rf /etc/puppet/modules/appleseed  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:11$  rm -rf /etc/puppet/modules/crakorn  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:11$  rm -rf /usr/share/puppet/modules/crick  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/list" name="with_missing_dependencies.rb" time="4.092521"><system-out><![CDATA[
puppet module list (with missing dependencies)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:13:12$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:12$  mkdir -p /usr/share/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ccaRAx

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1fu00zd centos6-64-1:/tmp/apply_manifest.pp.ccaRAx {}

n6vo88vhlunm0j0 (centos6-64-1) 13:13:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ccaRAx
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403122393'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/thelock]/ensure: created
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crick]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/thelock/metadata.json]/ensure: defined content as '{md5}ffddce3dbc87ce579f23adcb44052da2'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed/metadata.json]/ensure: defined content as '{md5}7c3dd46bb7fb01c9f686c2c26b714eaf'
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crick/metadata.json]/ensure: defined content as '{md5}aa1e711d83bfbab3603e5abfcab9a279'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.30 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:14$  [ -d /etc/puppet/modules/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:14$  [ -d /etc/puppet/modules/thelock ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:14$  [ -d /usr/share/puppet/modules/crick ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * List the installed modules

n6vo88vhlunm0j0 (centos6-64-1) 13:13:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list  
Warning: Missing dependency 'jimmy-crakorn':
  'jimmy-appleseed' (v1.1.0) requires 'jimmy-crakorn' (v0.4.0)
  'jimmy-crick' (v1.0.1) requires 'jimmy-crakorn' (v0.4.x)
Warning: Missing dependency 'jimmy-sprinkles':
  'jimmy-thelock' (v1.0.0) requires 'jimmy-sprinkles' (v2.x)
/etc/puppet/modules
├── jimmy-appleseed (v1.1.0)
└── jimmy-thelock (v1.0.0)
/usr/share/puppet/modules
└── jimmy-crick (v1.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.77 seconds

  * List the installed modules as a dependency tree

n6vo88vhlunm0j0 (centos6-64-1) 13:13:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --tree  
Warning: Missing dependency 'jimmy-crakorn':
  'jimmy-appleseed' (v1.1.0) requires 'jimmy-crakorn' (v0.4.0)
  'jimmy-crick' (v1.0.1) requires 'jimmy-crakorn' (v0.4.x)
Warning: Missing dependency 'jimmy-sprinkles':
  'jimmy-thelock' (v1.0.0) requires 'jimmy-sprinkles' (v2.x)
/etc/puppet/modules
└─┬ jimmy-thelock (v1.0.0)
  ├── UNMET DEPENDENCY jimmy-sprinkles (v2.x)
  └─┬ jimmy-appleseed (v1.1.0)
    └── UNMET DEPENDENCY jimmy-crakorn (v0.4.0)
/usr/share/puppet/modules
└─┬ jimmy-crick (v1.0.1)
  └── UNMET DEPENDENCY jimmy-crakorn (v0.4.x)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:16$  rm -rf /etc/puppet/modules/thelock  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:16$  rm -rf /etc/puppet/modules/appleseed  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:16$  rm -rf /usr/share/puppet/modules/crick  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/list" name="with_modulepath.rb" time="4.035329"><system-out><![CDATA[
puppet module list (with modulepath)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:13:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.d4mfA0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-xx2qp6 centos6-64-1:/tmp/apply_manifest.pp.d4mfA0 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:13:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.d4mfA0
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403122397'
Notice: /Stage[main]/Main/File[/etc/puppet/modules2]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules2/thelock]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules2/thelock/metadata.json]/ensure: defined content as '{md5}6ba7cafa255357d96ddae002931cb269'
Notice: /Stage[main]/Main/File[/etc/puppet/modules2/appleseed]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules2/appleseed/metadata.json]/ensure: defined content as '{md5}7c3dd46bb7fb01c9f686c2c26b714eaf'
Notice: /Stage[main]/Main/File[/etc/puppet/modules2/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules2/crakorn/metadata.json]/ensure: defined content as '{md5}643aadd3b77c7fcc61b41c3da31c3155'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.35 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:18$  [ -d /etc/puppet/modules2/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:18$  [ -d /etc/puppet/modules2/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:18$  [ -d /etc/puppet/modules2/thelock ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * List the installed modules with relative modulepath

n6vo88vhlunm0j0 (centos6-64-1) 13:13:18$  cd /etc/puppet/modules2 && puppet module list --modulepath=.  
/etc/puppet/modules2
├── jimmy-appleseed (v1.1.0)
├── jimmy-crakorn (v0.4.0)
└── jimmy-thelock (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.75 seconds

  * List the installed modules with absolute modulepath

n6vo88vhlunm0j0 (centos6-64-1) 13:13:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath=/etc/puppet/modules2  
/etc/puppet/modules2
├── jimmy-appleseed (v1.1.0)
├── jimmy-crakorn (v0.4.0)
└── jimmy-thelock (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:20$  rm -rf /etc/puppet/modules2  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/list" name="with_no_installed_modules.rb" time="0.847325"><system-out><![CDATA[
puppet module list (with no installed modules)

  * List the installed modules

n6vo88vhlunm0j0 (centos6-64-1) 13:13:20$  mktemp -dt puppet_module.XXXXXX  
/tmp/puppet_module.l7CvQ8

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /tmp/puppet_module.l7CvQ8  
/tmp/puppet_module.l7CvQ8 (no modules installed)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.81 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/list" name="with_repeated_dependencies.rb" time="4.733433"><system-out><![CDATA[
puppet module list (with repeated dependencies)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:13:20$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:21$  mkdir -p /usr/share/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:21$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.bKUKtl

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1rsl4yt centos6-64-1:/tmp/apply_manifest.pp.bKUKtl {}

n6vo88vhlunm0j0 (centos6-64-1) 13:13:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bKUKtl
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403122402'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/thelock]/ensure: created
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crick]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/steward]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn/metadata.json]/ensure: defined content as '{md5}51239782f6b7d049a4b1d346e9743d09'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/thelock/metadata.json]/ensure: defined content as '{md5}64f2a38b0091242ddf200566c08e1978'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed/metadata.json]/ensure: defined content as '{md5}7c3dd46bb7fb01c9f686c2c26b714eaf'
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crick/metadata.json]/ensure: defined content as '{md5}aa1e711d83bfbab3603e5abfcab9a279'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/steward/metadata.json]/ensure: defined content as '{md5}187417350b961478e59825fa56bd1b8e'
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.24 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:23$  [ -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:23$  [ -d /etc/puppet/modules/steward ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:23$  [ -d /etc/puppet/modules/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:23$  [ -d /etc/puppet/modules/thelock ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:23$  [ -d /usr/share/puppet/modules/crick ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * List the installed modules

n6vo88vhlunm0j0 (centos6-64-1) 13:13:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list  
/etc/puppet/modules
├── jimmy-appleseed (v1.1.0)
├── jimmy-crakorn (v0.4.0)
├── jimmy-steward (v0.9.0)
└── jimmy-thelock (v1.0.0)
/usr/share/puppet/modules
└── jimmy-crick (v1.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.73 seconds

  * List the installed modules as a dependency tree

n6vo88vhlunm0j0 (centos6-64-1) 13:13:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --tree --modulepath /etc/puppet/modules  
/etc/puppet/modules
└─┬ jimmy-thelock (v1.0.0)
  ├─┬ jimmy-crakorn (v0.4.0)
  │ └── jimmy-steward (v0.9.0)
  └── jimmy-appleseed (v1.1.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --tree  
/etc/puppet/modules
└─┬ jimmy-thelock (v1.0.0)
  ├─┬ jimmy-crakorn (v0.4.0)
  │ └── jimmy-steward (v0.9.0)
  └── jimmy-appleseed (v1.1.0)
/usr/share/puppet/modules
└─┬ jimmy-crick (v1.0.1)
  └─┬ jimmy-crakorn (v0.4.0) [/etc/puppet/modules]
    └── jimmy-steward (v0.9.0) [/etc/puppet/modules]

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:25$  rm -rf /etc/puppet/modules/crakorn  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:25$  rm -rf /etc/puppet/modules/steward  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:25$  rm -rf /etc/puppet/modules/appleseed  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:25$  rm -rf /etc/puppet/modules/thelock  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:25$  rm -rf /usr/share/puppet/modules/crick  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/search" name="communication_error.rb" time="2.581420"><system-out><![CDATA[
puppet module search should print a reasonable message on communication errors

  * Setup
Stubbing host forgeapi.puppetlabs.com to IP 127.0.0.2 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:13:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=127.0.0.2
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '127.0.0.2',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.92 seconds

  * Search against a non-existent Forge

n6vo88vhlunm0j0 (centos6-64-1) 13:13:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module search yup  
Notice: Searching https://forgeapi.puppetlabs.com ...
Error: Could not connect to https://forgeapi.puppetlabs.com
  There was a network communications problem
    The error we caught said 'Connection refused - connect(2)'
    Check your network connection and try again
Error: Try 'puppet help module search' for usage

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.64 seconds
Exited: 1
Unstubbing host forgeapi.puppetlabs.com to IP 127.0.0.2 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:13:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/search" name="formatting.rb" time="5.339557"><system-out><![CDATA[
puppet module search output should be well structured

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:13:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.02 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:13:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.92 seconds

  * Search results should line up by column

n6vo88vhlunm0j0 (centos6-64-1) 13:13:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module search apache  
Notice: Searching https://forgeapi.puppetlabs.com ...
NAME                  DESCRIPTION                  AUTHOR          KEYWORDS     
pmtacceptance-apache  UNKNOWN                      @pmtacceptance               

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.12 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:13:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.32 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:13:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.95 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/search" name="multiple_search_terms.rb" time="0.000128"><system-out><![CDATA[
puppet module search should handle multiple search terms sensibly
]]></system-out></testcase><testcase classname="tests/modules/search" name="no_results.rb" time="5.419675"><system-out><![CDATA[
puppet module search should print a reasonable message for no results

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:13:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.01 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:13:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.93 seconds

  * Search for a module that doesn't exist

n6vo88vhlunm0j0 (centos6-64-1) 13:13:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module search module_not_appearing_in_this_forge  
Notice: Searching https://forgeapi.puppetlabs.com ...
No results found for 'module_not_appearing_in_this_forge'.

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.94 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:13:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.20 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:13:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.32 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/search" name="ssl_errors.rb" time="6.077536"><system-out><![CDATA[
puppet module search should print a reasonable message on ssl errors

  * Search against a website where the certificate is not signed by a public authority

n6vo88vhlunm0j0 (centos6-64-1) 13:13:39$  mktemp -dt ssl_errors.rb.XXXXXX  
/tmp/ssl_errors.rb.YVykuY

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:39$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:39$  cp /etc/puppet/puppet.conf /tmp/ssl_errors.rb.YVykuY/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:39$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-11jsxp centos6-64-1:/tmp/ssl_errors.rb.YVykuY/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:39$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.39 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:13:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module search yup --module_repository=https://n6vo88vhlunm0j0:8140  
Notice: Searching https://n6vo88vhlunm0j0:8140 ...
Error: Could not connect via HTTPS to https://n6vo88vhlunm0j0:8140
  Unable to verify the SSL certificate
    The certificate may not be signed by a valid CA
    The CA bundle included with OpenSSL may not be valid or up to date
Error: Try 'puppet help module search' for usage

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:13:41$  if [ -f '/tmp/ssl_errors.rb.YVykuY/puppet.conf.bak' ]; then cat '/tmp/ssl_errors.rb.YVykuY/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/ssl_errors.rb.YVykuY/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:41$  cat `puppet master --configprint pidfile`  
20311
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:42$  kill 20311  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:42$  kill -0 20311  
bash: line 0: kill: (20311) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
Exited: 1

  * Remove fake forge hostname

n6vo88vhlunm0j0 (centos6-64-1) 13:13:42$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.aswhC1

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1gntf48 centos6-64-1:/tmp/apply_manifest.pp.aswhC1 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:13:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.aswhC1
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403122424'
Notice: Finished catalog run in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.27 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/uninstall" name="using_directory_name.rb" time="3.910532"><system-out><![CDATA[
puppet module uninstall (using directory name)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:13:45$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.FQDPZv

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1p9oqvh centos6-64-1:/tmp/apply_manifest.pp.FQDPZv {}

n6vo88vhlunm0j0 (centos6-64-1) 13:13:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.FQDPZv
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122426'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/apache]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn/metadata.json]/ensure: defined content as '{md5}643aadd3b77c7fcc61b41c3da31c3155'
Notice: Finished catalog run in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.25 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:47$  [ -d /etc/puppet/modules/apache ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:47$  [ -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Try to uninstall the module apache

n6vo88vhlunm0j0 (centos6-64-1) 13:13:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall apache  
Notice: Preparing to uninstall 'apache' ...
Removed 'apache' from /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.68 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:48$  [ ! -d /etc/puppet/modules/apache ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Try to uninstall the module crakorn

n6vo88vhlunm0j0 (centos6-64-1) 13:13:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall crakorn  
Notice: Preparing to uninstall 'crakorn' ...
Error: Could not uninstall module 'crakorn'
  Module 'crakorn' is not installed
    You may have meant `puppet module uninstall jimmy-crakorn`

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:13:48$  [ -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:49$  rm -rf /etc/puppet/modules/apache  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:49$  rm -rf /etc/puppet/modules/crakorn  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/uninstall" name="using_version_filter.rb" time="9.000537"><system-out><![CDATA[
puppet module uninstall (with module installed)

n6vo88vhlunm0j0 (centos6-64-1) 13:13:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:13:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.80 seconds

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:13:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.NmEO5g

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-v8zl3x centos6-64-1:/tmp/apply_manifest.pp.NmEO5g {}

n6vo88vhlunm0j0 (centos6-64-1) 13:13:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.NmEO5g
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403122432'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/appleseed]/ensure: created
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/appleseed/metadata.json]/ensure: defined content as '{md5}8c109168b9600ba5f3aeac80b6f22479'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn/metadata.json]/ensure: defined content as '{md5}643aadd3b77c7fcc61b41c3da31c3155'
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/usr/share/puppet/modules/crakorn/metadata.json]/ensure: defined content as '{md5}e8c8bb98a269cfbd90568f1af6b77b40'
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.52 seconds

  * Uninstall jimmy-crakorn version 0.5.x

n6vo88vhlunm0j0 (centos6-64-1) 13:13:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall jimmy-crakorn --version 0.5.x  
Notice: Preparing to uninstall 'jimmy-crakorn' (v0.5.x) ...
Removed 'jimmy-crakorn' (v0.5.1) from /usr/share/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.90 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:54$  [ -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:54$  [ ! -d /usr/share/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Try to uninstall jimmy-crakorn v0.4.0 with `--version 0.5.x`

n6vo88vhlunm0j0 (centos6-64-1) 13:13:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall jimmy-crakorn --version 0.5.x  
Notice: Preparing to uninstall 'jimmy-crakorn' (v0.5.x) ...
Error: Could not uninstall module 'jimmy-crakorn' (v0.5.x)
  No installed version of 'jimmy-crakorn' matches (v0.5.x)
    'jimmy-crakorn' (v0.4.0) is installed in /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.81 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:13:54$  [ -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Try to uninstall jimmy-appleseed v0.4.0 with `--version >9.9.9`

n6vo88vhlunm0j0 (centos6-64-1) 13:13:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall jimmy-appleseed --version ">9.9.9"  
Notice: Preparing to uninstall 'jimmy-appleseed' (>9.9.9) ...
Error: Could not uninstall module 'jimmy-appleseed' (>9.9.9)
  No installed version of 'jimmy-appleseed' matches (>9.9.9)
    'jimmy-appleseed' (v0.4.0) is installed in /usr/share/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.73 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:13:55$  [ -d /usr/share/puppet/modules/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Uninstall jimmy-appleseed v0.4.0 with `--version >0.0.0`

n6vo88vhlunm0j0 (centos6-64-1) 13:13:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall jimmy-appleseed --version ">0.0.0"  
Notice: Preparing to uninstall 'jimmy-appleseed' (>0.0.0) ...
Removed 'jimmy-appleseed' (v0.4.0) from /usr/share/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:56$  [ ! -d /usr/share/puppet/modules/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":["Module crakorn(/etc/puppet/modules/crakorn)"],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.81 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:13:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.70 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:13:58$  rm -rf /etc/puppet/modules/crakorn  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/uninstall" name="with_active_dependency.rb" time="4.876823"><system-out><![CDATA[
puppet module uninstall (with active dependency)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:13:58$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.sGZ4I4

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1gwdgh5 centos6-64-1:/tmp/apply_manifest.pp.sGZ4I4 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:13:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.sGZ4I4
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403122439'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn/metadata.json]/ensure: defined content as '{md5}643aadd3b77c7fcc61b41c3da31c3155'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/appleseed/metadata.json]/ensure: defined content as '{md5}7c3dd46bb7fb01c9f686c2c26b714eaf'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.31 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:00$  [ -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:00$  [ -d /etc/puppet/modules/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Try to uninstall the module jimmy-crakorn

n6vo88vhlunm0j0 (centos6-64-1) 13:14:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall jimmy-crakorn  
Notice: Preparing to uninstall 'jimmy-crakorn' ...
Error: Could not uninstall module 'jimmy-crakorn'
  Other installed modules have dependencies on 'jimmy-crakorn' (v0.4.0)
    'jimmy/appleseed' (v1.1.0) requires 'jimmy-crakorn' (v0.4.0)
    Use `puppet module uninstall --force` to uninstall this module anyway

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.65 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:14:01$  [ -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:01$  [ -d /etc/puppet/modules/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Try to uninstall the module jimmy-crakorn with a version range

n6vo88vhlunm0j0 (centos6-64-1) 13:14:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall jimmy-crakorn --version 0.x  
Notice: Preparing to uninstall 'jimmy-crakorn' (v0.x) ...
Error: Could not uninstall module 'jimmy-crakorn' (v0.x)
  Other installed modules have dependencies on 'jimmy-crakorn' (v0.4.0)
    'jimmy/appleseed' (v1.1.0) requires 'jimmy-crakorn' (v0.4.0)
    Use `puppet module uninstall --force` to uninstall this module anyway

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.87 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:14:02$  [ -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:02$  [ -d /etc/puppet/modules/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Uninstall the module jimmy-crakorn forcefully

n6vo88vhlunm0j0 (centos6-64-1) 13:14:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall jimmy-crakorn --force  
Notice: Preparing to uninstall 'jimmy-crakorn' ...
Removed 'jimmy-crakorn' (v0.4.0) from /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:02$  [ ! -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:02$  [ -d /etc/puppet/modules/appleseed ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:02$  rm -rf /etc/puppet/modules/crakorn  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:02$  rm -rf /etc/puppet/modules/appleseed  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/uninstall" name="with_environment.rb" time="12.033213"><system-out><![CDATA[
puppet module uninstall (with environment)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.04 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.13 seconds

  * ensure we don't have left over bad state from another, possibly failed run

n6vo88vhlunm0j0 (centos6-64-1) 13:14:05$  rm -rf /etc/puppet/legacyenv /etc/puppet/environments /etc/puppet/puppet2.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Configure a non-default legacy and directory environment

n6vo88vhlunm0j0 (centos6-64-1) 13:14:05$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Dx83Mt

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1g4yv28 centos6-64-1:/tmp/apply_manifest.pp.Dx83Mt {}

n6vo88vhlunm0j0 (centos6-64-1) 13:14:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Dx83Mt
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122446'
Notice: /Stage[main]/Main/File[/etc/puppet/puppet2.conf]/ensure: defined content as '{md5}58e2f9765e2994db8e8ab19a3513356e'
Notice: /Stage[main]/Main/File[/etc/puppet/environments]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/environments/direnv]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/legacyenv]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/legacyenv/modules]/ensure: created
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.32 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set modulepath /etc/puppet/legacyenv/modules --section legacyenv --config /etc/puppet/puppet2.conf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:08$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.aAUUgu

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1rdmqd centos6-64-1:/tmp/apply_manifest.pp.aAUUgu {}

n6vo88vhlunm0j0 (centos6-64-1) 13:14:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.aAUUgu
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403122449'
Notice: /Stage[main]/Main/File[/etc/puppet/legacyenv/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/environments/direnv/modules]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/environments/direnv/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/environments/direnv/modules/crakorn/metadata.json]/ensure: defined content as '{md5}f9c95d6b66f7649d582b17e89cd342ea'
Notice: /Stage[main]/Main/File[/etc/puppet/legacyenv/modules/crakorn/metadata.json]/ensure: defined content as '{md5}f9c95d6b66f7649d582b17e89cd342ea'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.08 seconds

  * Uninstall a module from a non default legacy environment

n6vo88vhlunm0j0 (centos6-64-1) 13:14:10$  puppet module uninstall jimmy-crakorn --config=/etc/puppet/puppet2.conf --environment=legacyenv  
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to uninstall 'jimmy-crakorn' ...
Removed 'jimmy-crakorn' (v0.4.0) from /etc/puppet/legacyenv/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:11$  [ ! -d /etc/puppet/legacyenv/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * Enable directory environments

n6vo88vhlunm0j0 (centos6-64-1) 13:14:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set environmentpath /etc/puppet/environments --section main --config /etc/puppet/puppet2.conf
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.76 seconds

  * Uninstall a module from a non default directory environment

n6vo88vhlunm0j0 (centos6-64-1) 13:14:11$  puppet module uninstall jimmy-crakorn --config=/etc/puppet/puppet2.conf --environment=direnv  
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to uninstall 'jimmy-crakorn' ...
Removed 'jimmy-crakorn' (v0.4.0) from /etc/puppet/environments/direnv/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.86 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:12$  [ ! -d /etc/puppet/environments/direnv/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.20 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.93 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:14$  rm -rf /etc/puppet/legacyenv /etc/puppet/environments /etc/puppet/puppet2.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/uninstall" name="with_module_installed.rb" time="2.969598"><system-out><![CDATA[
puppet module uninstall (with module installed)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:14:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.fmF9i5

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1y1mmk9 centos6-64-1:/tmp/apply_manifest.pp.fmF9i5 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:14:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.fmF9i5
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403122456'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/crakorn/metadata.json]/ensure: defined content as '{md5}643aadd3b77c7fcc61b41c3da31c3155'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:17$  [ -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Uninstall the module jimmy-crakorn

n6vo88vhlunm0j0 (centos6-64-1) 13:14:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall jimmy-crakorn  
Notice: Preparing to uninstall 'jimmy-crakorn' ...
Removed 'jimmy-crakorn' (v0.4.0) from /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.68 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:17$  [ ! -d /etc/puppet/modules/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:17$  rm -rf /etc/puppet/modules/crakorn  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/uninstall" name="with_modulepath.rb" time="3.872876"><system-out><![CDATA[
puppet module uninstall (with modulepath)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:14:17$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.fBPOPP

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-nqy8jr centos6-64-1:/tmp/apply_manifest.pp.fBPOPP {}

n6vo88vhlunm0j0 (centos6-64-1) 13:14:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.fBPOPP
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403122459'
Notice: /Stage[main]/Main/File[/etc/puppet/modules2]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules2/absolute]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules2/crakorn]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules2/crakorn/metadata.json]/ensure: defined content as '{md5}643aadd3b77c7fcc61b41c3da31c3155'
Notice: /Stage[main]/Main/File[/etc/puppet/modules2/absolute/metadata.json]/ensure: defined content as '{md5}33e663cdfae9c86730652e2e39fc67f6'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.22 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:20$  [ -d /etc/puppet/modules2/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:20$  [ -d /etc/puppet/modules2/absolute ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Try to uninstall the module jimmy-crakorn using relative modulepath

n6vo88vhlunm0j0 (centos6-64-1) 13:14:20$  cd /etc/puppet/modules2 && puppet module uninstall jimmy-crakorn --modulepath=.  
Notice: Preparing to uninstall 'jimmy-crakorn' ...
Removed 'jimmy-crakorn' (v0.4.0) from /etc/puppet/modules2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:20$  [ ! -d /etc/puppet/modules2/crakorn ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Try to uninstall the module jimmy-absolute using an absolute modulepath

n6vo88vhlunm0j0 (centos6-64-1) 13:14:20$  cd /etc/puppet/modules2 && puppet module uninstall jimmy-absolute --modulepath=/etc/puppet/modules2  
Notice: Preparing to uninstall 'jimmy-absolute' ...
Removed 'jimmy-absolute' (v0.4.0) from /etc/puppet/modules2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.76 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:21$  [ ! -d /etc/puppet/modules2/absolute ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:21$  rm -rf /etc/puppet/modules2  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/uninstall" name="with_multiple_modules_installed.rb" time="14.755036"><system-out><![CDATA[
puppet module uninstall (with multiple modules installed)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:14:21$  mktemp -dt unistallmultiple.XXXXXX  
/tmp/unistallmultiple.WvbgYW

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.05 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:24$  mkdir -p /tmp/unistallmultiple.WvbgYW/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:24$  chown -R root:puppet /tmp/unistallmultiple.WvbgYW  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:24$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:24$  cp /etc/puppet/puppet.conf /tmp/unistallmultiple.WvbgYW/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:24$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9f3e3f centos6-64-1:/tmp/unistallmultiple.WvbgYW/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:24$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl
modulepath = /tmp/unistallmultiple.WvbgYW/modules:/usr/share/puppet/modules:/etc/puppet/modules

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.58 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:14:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.6.0 --modulepath /etc/puppet/modules  
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.60 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.7.0 --modulepath /tmp/unistallmultiple.WvbgYW/modules  
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Notice: Preparing to install into /tmp/unistallmultiple.WvbgYW/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/tmp/unistallmultiple.WvbgYW/modules
└─┬ pmtacceptance-java (v1.7.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
/etc/puppet/modules
├── pmtacceptance-java (v1.6.0)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.82 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /tmp/unistallmultiple.WvbgYW/modules  
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
/tmp/unistallmultiple.WvbgYW/modules
├── pmtacceptance-java (v1.7.0)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.69 seconds

  * Try to uninstall a module that exists multiple locations in the module path

n6vo88vhlunm0j0 (centos6-64-1) 13:14:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall pmtacceptance-java  
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Notice: Preparing to uninstall 'pmtacceptance-java' ...
Error: Could not uninstall module 'pmtacceptance-java'
  Module 'pmtacceptance-java' appears multiple places in the module path
    'pmtacceptance-java' (v1.7.0) was found in /tmp/unistallmultiple.WvbgYW/modules
    'pmtacceptance-java' (v1.6.0) was found in /etc/puppet/modules
    Use the `--modulepath` option to limit the search to specific directories

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.65 seconds
Exited: 1

  * Uninstall a module that exists multiple locations by restricting the --modulepath

n6vo88vhlunm0j0 (centos6-64-1) 13:14:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall pmtacceptance-java --modulepath /etc/puppet/modules  
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Notice: Preparing to uninstall 'pmtacceptance-java' ...
Removed 'pmtacceptance-java' (v1.6.0) from /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:33$  if [ -f '/tmp/unistallmultiple.WvbgYW/puppet.conf.bak' ]; then cat '/tmp/unistallmultiple.WvbgYW/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/unistallmultiple.WvbgYW/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:33$  cat `puppet master --configprint pidfile`  
21679
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.59 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:34$  kill 21679  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:34$  kill -0 21679  
bash: line 0: kill: (21679) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.12 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.98 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:36$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:36$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/upgrade" name="in_a_secondary_directory.rb" time="9.885062"><system-out><![CDATA[
puppet module upgrade (in a secondary directory)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.20 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.58 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:39$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.6.0 --target-dir /etc/puppet/modules  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── pmtacceptance-java (v1.6.0)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.80 seconds

  * Upgrade a module that has a more recent version published

n6vo88vhlunm0j0 (centos6-64-1) 13:14:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-java (v1.6.0 -> v1.7.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.74 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.02 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.40 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:46$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:46$  rm -rf /etc/puppet/modules/stdlib  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/upgrade" name="introducing_new_dependencies.rb" time="12.909319"><system-out><![CDATA[
puppet module upgrade (introducing new dependencies)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.18 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-stdlub --version 1.0.0  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Module pmtacceptance-stdlub 1.0.0 is already installed.

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.85 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.7.0  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.7.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.82 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-postql --version 0.0.2  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-postql (v0.0.2)
  ├── pmtacceptance-java (v1.7.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.40 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── pmtacceptance-java (v1.7.0)
├── pmtacceptance-postql (v0.0.2)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.68 seconds

  * Upgrade a module to a version that introduces new dependencies

n6vo88vhlunm0j0 (centos6-64-1) 13:14:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-postql  
Notice: Preparing to upgrade 'pmtacceptance-postql' ...
Notice: Found 'pmtacceptance-postql' (v0.0.2) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-postql (v0.0.2 -> v1.0.0)
  └── pmtacceptance-geordi (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.54 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.10 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:59$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:59$  rm -rf /etc/puppet/modules/postql  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:59$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:14:59$  rm -rf /etc/puppet/modules/geordi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/upgrade" name="not_upgradable.rb" time="13.099965"><system-out><![CDATA[
puppet module upgrade (not upgradable)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:14:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.11 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.25 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:01$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.xhJpps

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-8tc1oo centos6-64-1:/tmp/apply_manifest.pp.xhJpps {}

n6vo88vhlunm0j0 (centos6-64-1) 13:15:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.xhJpps
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403122503'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/unicorns]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/unicorns/metadata.json]/ensure: defined content as '{md5}d02211eb37e1efec11ce3a8c4d14433b'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/nginx]/ensure: created
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.40 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.6.0  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── nginx (???)
├── notpmtacceptance-unicorns (v0.0.3)
├── pmtacceptance-java (v1.6.0)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds

  * Try to upgrade a module that is not installed

n6vo88vhlunm0j0 (centos6-64-1) 13:15:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-nginx  
Notice: Preparing to upgrade 'pmtacceptance-nginx' ...
Error: Could not upgrade module 'pmtacceptance-nginx'
  Module 'pmtacceptance-nginx' is not installed
    Use `puppet module install` to install this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.70 seconds
Exited: 1

  * Try to upgrade a module that doesn't exist in module_repository

n6vo88vhlunm0j0 (centos6-64-1) 13:15:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade notpmtacceptance-unicorns  
Notice: Preparing to upgrade 'notpmtacceptance-unicorns' ...
Notice: Found 'notpmtacceptance-unicorns' (v0.0.3) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not upgrade 'notpmtacceptance-unicorns' (v0.0.3 -> latest)
  No releases are available from https://forgeapi.puppetlabs.com
    Does 'notpmtacceptance-unicorns' have at least one published release?

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.96 seconds
Exited: 1

  * Try to upgrade an installed module to a version that doesn't exist in module_repository

n6vo88vhlunm0j0 (centos6-64-1) 13:15:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java --version 2.0.0  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not upgrade 'pmtacceptance-java' (v1.6.0 -> v2.0.0)
  No releases matching '2.0.0' are available from https://forgeapi.puppetlabs.com

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.33 seconds
Exited: 1
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.22 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:12$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:12$  rm -rf /etc/puppet/modules/unicorns  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:12$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:12$  rm -rf /etc/puppet/modules/nginx  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/upgrade" name="that_was_installed_twice.rb" time="0.000373"><skip type="skip"/><system-out><![CDATA[
puppet module upgrade (that was installed twice)

This test does not seem to properly respect the given modulepath
]]></system-out></testcase><testcase classname="tests/modules/upgrade" name="to_a_specific_version.rb" time="9.327267"><system-out><![CDATA[
puppet module upgrade (to a specific version)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.13 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:14$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.6.0  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── pmtacceptance-java (v1.6.0)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.83 seconds

  * Upgrade a module to a specific (greater) version

n6vo88vhlunm0j0 (centos6-64-1) 13:15:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java --version 1.7.0  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-java (v1.6.0 -> v1.7.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.73 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.26 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.95 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:21$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:21$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/upgrade" name="to_installed_version.rb" time="13.959126"><system-out><![CDATA[
puppet module upgrade (to installed version)

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:15:21$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.26 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.6.0  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── pmtacceptance-java (v1.6.0)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.73 seconds

  * Try to upgrade a module to the current version

n6vo88vhlunm0j0 (centos6-64-1) 13:15:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java --version 1.6.x  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Could not upgrade module 'pmtacceptance-java' (v1.6.0 -> v1.6.x)
  The installed version is already the latest version matching v1.6.0 -> v1.6.x
    Use `puppet module upgrade --force` to upgrade only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.30 seconds

  * Upgrade a module to the current version with --force

n6vo88vhlunm0j0 (centos6-64-1) 13:15:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java --version 1.6.x --force  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-java (v1.6.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.03 seconds

  * Upgrade to the latest version

n6vo88vhlunm0j0 (centos6-64-1) 13:15:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-java (v1.6.0 -> v1.7.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.73 seconds

  * Try to upgrade a module to the latest version with the latest version installed

n6vo88vhlunm0j0 (centos6-64-1) 13:15:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.7.1) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Could not upgrade module 'pmtacceptance-java' (v1.7.1 -> latest)
  The installed version is already the latest version matching v1.7.1 -> latest
    Use `puppet module upgrade --force` to upgrade only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.41 seconds

  * Upgrade a module to the latest version with --force

n6vo88vhlunm0j0 (centos6-64-1) 13:15:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java --force  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.7.1) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-java (v1.7.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.98 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.11 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.22 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:35$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:35$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/upgrade" name="with_constraints_on_it.rb" time="12.192581"><system-out><![CDATA[
puppet module upgrade (with constraints on it)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.20 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.7.0  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.7.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-apollo  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-apollo (v0.0.1)
  ├── pmtacceptance-java (v1.7.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── pmtacceptance-apollo (v0.0.1)
├── pmtacceptance-java (v1.7.0)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.82 seconds

  * Upgrade a version-constrained module that has an upgrade

n6vo88vhlunm0j0 (centos6-64-1) 13:15:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.7.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-java (v1.7.0 -> v1.7.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.84 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.12 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:47$  rm -rf /etc/puppet/modules/apollo  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:47$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:47$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/upgrade" name="with_constraints_on_its_dependencies.rb" time="17.860248"><system-out><![CDATA[
puppet module upgrade (with constraints on its dependencies)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.17 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:15:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.C9v48U

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zxysey centos6-64-1:/tmp/apply_manifest.pp.C9v48U {}

n6vo88vhlunm0j0 (centos6-64-1) 13:15:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.C9v48U
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403122551'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/unicorns]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/modules/unicorns/metadata.json]/ensure: defined content as '{md5}35fc45834766979ee060f55df657d650'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.47 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-stdlub --version 0.0.2  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-stdlub (v0.0.2)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.59 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.6.0  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v0.0.2)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.85 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── notpmtacceptance-unicorns (v0.0.3)
├── pmtacceptance-java (v1.6.0)
└── pmtacceptance-stdlub (v0.0.2)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

  * Try to upgrade a module with constraints on its dependencies that cannot be met

n6vo88vhlunm0j0 (centos6-64-1) 13:15:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java --version 1.7.1  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not upgrade module 'pmtacceptance-java' (v1.6.0 -> v1.7.1)
  No version of 'pmtacceptance-java' can satisfy all dependencies
    Use `puppet module upgrade --ignore-dependencies` to upgrade only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.22 seconds
Exited: 1

  * Relax constraints

n6vo88vhlunm0j0 (centos6-64-1) 13:15:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module uninstall notpmtacceptance-unicorns  
Notice: Preparing to uninstall 'notpmtacceptance-unicorns' ...
Removed 'notpmtacceptance-unicorns' (v0.0.3) from /etc/puppet/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:15:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── pmtacceptance-java (v1.6.0)
└── pmtacceptance-stdlub (v0.0.2)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.64 seconds

  * Upgrade a single module, ignoring its dependencies

n6vo88vhlunm0j0 (centos6-64-1) 13:15:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java --version 1.7.0 --ignore-dependencies  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-java (v1.6.0 -> v1.7.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.34 seconds

  * Attempt to upgrade a module where dependency requires upgrade across major version

n6vo88vhlunm0j0 (centos6-64-1) 13:16:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.7.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Error: Could not upgrade module 'pmtacceptance-java' (v1.7.0 -> latest)
  There are 1 newer versions
    No combination of dependency upgrades would satisfy all dependencies
    Dependencies will not be automatically upgraded across major versions
    Upgrading one or more of these modules may permit the upgrade to succeed:
    - pmtacceptance-stdlub
    Use `puppet module upgrade --force` to upgrade only this module

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.26 seconds
Exited: 1
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.26 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.27 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:05$  rm -rf /etc/puppet/modules/unicorns  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:05$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:05$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/upgrade" name="with_environment.rb" time="19.419782"><system-out><![CDATA[
puppet module upgrade (with environment)

n6vo88vhlunm0j0 (centos6-64-1) 13:16:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.93 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:16:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.71 seconds

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.16 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.06 seconds

  * ensure we don't have left over bad state from another, possibly failed run

n6vo88vhlunm0j0 (centos6-64-1) 13:16:09$  rm -rf /etc/puppet/legacyenv /etc/puppet/environments /etc/puppet/puppet2.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * Configure a non-default legacy and directory environment

n6vo88vhlunm0j0 (centos6-64-1) 13:16:09$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.GktMGD

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1y6zugb centos6-64-1:/tmp/apply_manifest.pp.GktMGD {}

n6vo88vhlunm0j0 (centos6-64-1) 13:16:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.GktMGD
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122571'
Notice: /Stage[main]/Main/File[/etc/puppet/puppet2.conf]/ensure: defined content as '{md5}58e2f9765e2994db8e8ab19a3513356e'
Notice: /Stage[main]/Main/File[/etc/puppet/environments]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/environments/direnv]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/legacyenv]/ensure: created
Notice: /Stage[main]/Main/File[/etc/puppet/legacyenv/modules]/ensure: created
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.24 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set modulepath /etc/puppet/legacyenv/modules --section legacyenv --config /etc/puppet/puppet2.conf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.65 seconds

  * Upgrade a module that has a more recent version published in a legacy environment

n6vo88vhlunm0j0 (centos6-64-1) 13:16:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --config=/etc/puppet/puppet2.conf --version 1.6.0 --environment=legacyenv  
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to install into /etc/puppet/legacyenv/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/legacyenv/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java --config=/etc/puppet/puppet2.conf --environment=legacyenv  
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/legacyenv/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/legacyenv/modules
└── pmtacceptance-java (v1.6.0 -> v1.7.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.69 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:16$  [ -f /etc/puppet/legacyenv/modules/java/Modulefile ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:16$  grep 1.7.1 /etc/puppet/legacyenv/modules/java/Modulefile  
version '1.7.1'

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Enable directory environments

n6vo88vhlunm0j0 (centos6-64-1) 13:16:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet config  set environmentpath /etc/puppet/environments --section main --config /etc/puppet/puppet2.conf
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.80 seconds

  * Upgrade a module that has a more recent version published in a directory environment

n6vo88vhlunm0j0 (centos6-64-1) 13:16:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --config=/etc/puppet/puppet2.conf --version 1.6.0 --environment=direnv  
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to install into /etc/puppet/environments/direnv/modules ...
Notice: Created target directory /etc/puppet/environments/direnv/modules
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/environments/direnv/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java --config=/etc/puppet/puppet2.conf --environment=direnv  
Warning: Sections other than main, master, agent, user are deprecated in puppet.conf. Please use the directory environments feature to specify environments. (See http://docs.puppetlabs.com/puppet/latest/reference/environments.html)
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings/config_file.rb:77:in `collect')
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/environments/direnv/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/environments/direnv/modules
└── pmtacceptance-java (v1.6.0 -> v1.7.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.85 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:21$  [ -f /etc/puppet/environments/direnv/modules/java/Modulefile ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:21$  grep 1.7.1 /etc/puppet/environments/direnv/modules/java/Modulefile  
version '1.7.1'

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/usr/share/puppet/modules":[],"/etc/puppet/modules":[]},"environment":"production"}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.77 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:16:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --render-as pson  
{"modules_by_path":{"/etc/puppet/modules":[],"/usr/share/puppet/modules":[]},"environment":"production"}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.15 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.94 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:25$  rm -rf /etc/puppet/legacyenv /etc/puppet/environments /etc/puppet/puppet2.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/upgrade" name="with_local_changes.rb" time="12.969673"><system-out><![CDATA[
puppet module upgrade (with local changes)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:27$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.6.0  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── pmtacceptance-java (v1.6.0)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.82 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:30$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Aik3GZ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-luig3z centos6-64-1:/tmp/apply_manifest.pp.Aik3GZ {}

n6vo88vhlunm0j0 (centos6-64-1) 13:16:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Aik3GZ
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122591'
Notice: /Stage[main]/Main/File[/etc/puppet/modules/java/NEWFILE]/ensure: defined content as '{md5}c7054d8f7fba16e83e1528d553bda26d'
Info: /Stage[main]/Main/File[/etc/puppet/modules/java/README]: Filebucketed /etc/puppet/modules/java/README to puppet with sum 97bed985bc926f5dd5f0e2878853d6b1
Notice: /Stage[main]/Main/File[/etc/puppet/modules/java/README]/content: content changed '{md5}97bed985bc926f5dd5f0e2878853d6b1' to '{md5}6e1d04214810768f5368b996c07376bb'
Notice: /File[/etc/puppet/modules/java/README]/seluser: seluser changed 'unconfined_u' to 'system_u'
Notice: /File[/etc/puppet/modules/java/README]/seltype: seltype changed 'puppet_var_lib_t' to 'puppet_etc_t'
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.27 seconds

  * Try to upgrade a module with local changes

n6vo88vhlunm0j0 (centos6-64-1) 13:16:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/modules ...
Error: Could not upgrade module 'pmtacceptance-java' (v1.6.0 -> latest)
  Installed module has had changes made locally
    Use `puppet module upgrade --force` to upgrade this module anyway

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.89 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:16:33$  [[ "$(cat /etc/puppet/modules/java/README)" == "I CHANGE MY READMES" ]]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:33$  [ -f /etc/puppet/modules/java/NEWFILE ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Upgrade a module with local changes with --force

n6vo88vhlunm0j0 (centos6-64-1) 13:16:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java --force  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-java (v1.6.0 -> v1.7.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.59 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:35$  [[ "$(cat /etc/puppet/modules/java/README)" != "I CHANGE MY READMES" ]]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:35$  [ ! -f /etc/puppet/modules/java/NEWFILE ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.17 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.24 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.32 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:38$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:38$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/upgrade" name="with_scattered_dependencies.rb" time="14.066627"><system-out><![CDATA[
puppet module upgrade (with scattered dependencies)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.39 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.98 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:40$  mktemp -dt scattereddeps.XXXXXX  
/tmp/scattereddeps.HsaBXp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:40$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:40$  mkdir -p /usr/share/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:40$  mkdir -p /tmp/scattereddeps.HsaBXp/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:40$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:40$  cp /etc/puppet/puppet.conf /tmp/scattereddeps.HsaBXp/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:40$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-8hmolk centos6-64-1:/tmp/scattereddeps.HsaBXp/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:41$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl
modulepath = /tmp/scattereddeps.HsaBXp/modules:/etc/puppet/modules:/usr/share/puppet/modules

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.54 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:16:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-stdlub --version 0.0.2 --target-dir /tmp/scattereddeps.HsaBXp/modules  
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Notice: Preparing to install into /tmp/scattereddeps.HsaBXp/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/tmp/scattereddeps.HsaBXp/modules
└── pmtacceptance-stdlub (v0.0.2)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.46 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.6.0 --target-dir /etc/puppet/modules --ignore-dependencies  
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-java (v1.6.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.39 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-postql --version 0.0.1 --target-dir /etc/puppet/modules --ignore-dependencies  
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-postql (v0.0.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.45 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list  
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
/tmp/scattereddeps.HsaBXp/modules
└── pmtacceptance-stdlub (v0.0.2)
/etc/puppet/modules
├── pmtacceptance-java (v1.6.0)
└── pmtacceptance-postql (v0.0.1)
/usr/share/puppet/modules (no modules installed)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.83 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:48$  if [ -f '/tmp/scattereddeps.HsaBXp/puppet.conf.bak' ]; then cat '/tmp/scattereddeps.HsaBXp/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/scattereddeps.HsaBXp/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:48$  cat `puppet master --configprint pidfile`  
23857
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.65 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:48$  kill 23857  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:48$  kill -0 23857  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:50$  kill -0 23857  
bash: line 0: kill: (23857) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:52$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:52$  rm -rf /etc/puppet/modules/postql  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/modules/upgrade" name="with_update_available.rb" time="9.261648"><system-out><![CDATA[
puppet module upgrade (with update available)

  * Setup
Stubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forge.puppetlabs.com]/ensure: created
host { 'forge.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds
Stubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=present ip=66.228.49.221
Notice: /Host[forgeapi.puppetlabs.com]/ensure: created
host { 'forgeapi.puppetlabs.com':
  ensure => 'present',
  ip     => '66.228.49.221',
  target => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:54$  mkdir -p /etc/puppet/modules  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module install pmtacceptance-java --version 1.6.0  
Notice: Preparing to install into /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Installing -- do not interrupt ...
/etc/puppet/modules
└─┬ pmtacceptance-java (v1.6.0)
  └── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module list --modulepath /etc/puppet/modules  
/etc/puppet/modules
├── pmtacceptance-java (v1.6.0)
└── pmtacceptance-stdlub (v1.0.0)

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.83 seconds

  * Upgrade a module that has a more recent version published

n6vo88vhlunm0j0 (centos6-64-1) 13:16:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet module upgrade pmtacceptance-java  
Notice: Preparing to upgrade 'pmtacceptance-java' ...
Notice: Found 'pmtacceptance-java' (v1.6.0) in /etc/puppet/modules ...
Notice: Downloading from https://forgeapi.puppetlabs.com ...
Notice: Upgrading -- do not interrupt ...
/etc/puppet/modules
└── pmtacceptance-java (v1.6.0 -> v1.7.1)

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.69 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:59$  [ -d /etc/puppet/modules/java ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:59$  [ -f /etc/puppet/modules/java/Modulefile ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:16:59$  grep 1.7.1 /etc/puppet/modules/java/Modulefile  
version '1.7.1'

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Unstubbing host forge.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:16:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forge.puppetlabs.com ensure=absent
Notice: /Host[forge.puppetlabs.com]/ensure: removed
host { 'forge.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.18 seconds
Unstubbing host forgeapi.puppetlabs.com to IP 66.228.49.221 on machine n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:17:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host forgeapi.puppetlabs.com ensure=absent
Notice: /Host[forgeapi.puppetlabs.com]/ensure: removed
host { 'forgeapi.puppetlabs.com':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.96 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:01$  rm -rf /etc/puppet/modules/java  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:01$  rm -rf /etc/puppet/modules/stdlub  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/node" name="check_woy_cache_works.rb" time="7.690839"><system-out><![CDATA[
ticket #16753 node data should be cached in yaml to allow it to be queried

n6vo88vhlunm0j0 (centos6-64-1) 13:17:01$  mktemp -dt check_woy_cache_works.XXXXXX  
/tmp/check_woy_cache_works.Qq4na7

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:01$  chmod 755 /tmp/check_woy_cache_works.Qq4na7  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:17:01$  mktemp -dt check_woy_cache_works.XXXXXX  
/tmp/check_woy_cache_works.ZbsE83

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:17:01$  chmod 755 /tmp/check_woy_cache_works.ZbsE83  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xdh2ww centos6-64-1:/tmp/check_woy_cache_works.Qq4na7/auth.conf {}

n6vo88vhlunm0j0 (centos6-64-1) 13:17:01$  chown root:puppet /tmp/check_woy_cache_works.Qq4na7/auth.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:01$  chmod 755 /tmp/check_woy_cache_works.Qq4na7/auth.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:01$  chmod 644 /tmp/check_woy_cache_works.Qq4na7/auth.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:01$  mktemp -dt check_woy_cache_works.rb.XXXXXX  
/tmp/check_woy_cache_works.rb.XPW4WC

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:01$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:01$  cp /etc/puppet/puppet.conf /tmp/check_woy_cache_works.rb.XPW4WC/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:02$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1n4glbr centos6-64-1:/tmp/check_woy_cache_works.rb.XPW4WC/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:02$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
rest_authconfig = /tmp/check_woy_cache_works.Qq4na7/auth.conf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.39 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:17:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --verbose --onetime --node_name_value woy_node_43ad199cda3305be170b0dd13bc6661a --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0775' to '0755'
Info: Retrieving plugin
Info: Caching catalog for woy_node_43ad199cda3305be170b0dd13bc6661a
Info: Applying configuration version '1403122626'
Notice: Finished catalog run in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.29 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  --configprint yamldir
/var/lib/puppet/yaml

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.84 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet node  search "*" --node_terminus yaml --clientyamldir /var/lib/puppet/yaml --render-as json
[{"data":{"parameters":{"uptime":"0:50 hours","memoryfree":"1.59 GB","memorysize_mb":"1877.21","processor0":"Intel(R) Xeon(R) CPU E5-2609 0 @ 2.40GHz","rubysitedir":"/usr/lib/ruby/site_ruby/1.8","_timestamp":"Wed Jun 18 13:17:06 -0700 2014","rubyversion":"1.8.7","hardwaremodel":"x86_64","type":"Other","osfamily":"RedHat","blockdevice_sr0_vendor":"NECVMWar","selinux_enforced":"true","bios_release_date":"07/30/2013","uptime_hours":"0","manufacturer":"VMware, Inc.","blockdevice_sr0_model":"VMware IDE CDR10","physicalprocessorcount":"2","clientcert":"n6vo88vhlunm0j0.delivery.puppetlabs.net","swapsize":"3.94 GB","sshdsakey":"AAAAB3NzaC1kc3MAAACBAJGJ+wHqAvYTv3VEzhPo3rwiaVxesMSstvufqZIYNLci54bEy7Dlq++scLFU7EjqhlnGG0HWZ+aHQpDY8TvvsRIw8Q9nyxHAonk0EtHu4RCF6MH1lo0IeAh12A0vEpaVgpQjKisfWuH/IQEi1wCCaVL0lsLc5CLe1wE+yKqWuyVrAAAAFQD+F89mMng0ZXHd9NKbsZO5LQ5vcQAAAIAN6ysU1N1SASyGwtWuAnkRKxusYgCpQ0L7hx7shXHiQ69WoQxzgUUb5AdF++kMQdplcqrD2MIf+6hk5o4kzkPTEJTpfl7l/qp2L6znDR5yjz+G4b499eD3UGmlLIOgb1R7v/mS7Q3Y0XYsh1nBJyupOiTIMT1g6f7pQkA/9eimgwAAAIAiqkmEyA+8HRxg02zyPVG3z0RBFQnqnjLO8GaVFLq+3j5HTYgHuyktn2Js2Qke0j8bJ7gs/9Zaxq2dxC9BCZV29VAtmp7DO6lZgh3qwvA1uUKraO2J5zzWZHhJ2c9/apGtySBeOD1lOgGiXLkn5x4R09kLs56f5n+ax2kVa4qs3A==","mtu_lo":"16436","domain":"delivery.puppetlabs.net","boardmanufacturer":"Intel Corporation","interfaces":"eth0,lo","uptime_seconds":"3007","selinux":"true","hardwareisa":"x86_64","mtu_eth0":"1500","sshrsakey":"AAAAB3NzaC1yc2EAAAABIwAAAQEAr2ywcLVQDql7LcLz8DZvJLWuEdb86cwe/q8TVqd7E1V0fKvXhZBXUN1aGeuvY+ewfnlYh79ioDvslGCSh452caet3JljzhtU6mFtTpPm5FPofZ9a5SbR4oC5abFe8WH19KGI/HSsXEGqtNwNAcX6kfJSgcCRcPv+Jg0rO4Goncv8hLEv+ek+izVpuAPPBvgHN1QLlfSlN0rlYvn62WDs0ecYTGpmy03JisfYubefJ25roOFxakx8NAdajb1Ce5IV7GxEn5BSe9mjGPI4UvDFYtDEMeKhDl8eKxICfcei8X6uUfunr1N4kIjn3Q78aloCFhzn37OSI71rjmYISOq3JQ==","filesystems":"ext4,iso9660","uptime_days":"0","uuid":"421B3CE2-6677-16C3-3989-DAE47E2DFEAA","blockdevice_sr0_size":"1073741312","fqdn":"n6vo88vhlunm0j0.delivery.puppetlabs.net","network_eth0":"10.18.0.0","clientversion":"3.6.2","memoryfree_mb":"1627.02","selinux_policyversion":"24","sshfp_rsa":"SSHFP 1 1 c48ea7d5f6f38b3797e1e672f98ddf4d31796456\nSSHFP 1 2 b953c17a0af98e6fb1f3d06f2cc1e386a54e4868b2ea688ff950f4b8c5ed354a","swapfree":"3.94 GB","blockdevices":"sda,sdb,sr0","serialnumber":"VMware-42 1b 3c e2 66 77 16 c3-39 89 da e4 7e 2d fe aa","productname":"VMware Virtual Platform","is_virtual":"true","ipaddress_lo":"127.0.0.1","architecture":"x86_64","selinux_config_policy":"targeted","ipaddress_eth0":"10.18.82.75","hostname":"n6vo88vhlunm0j0","kernelrelease":"2.6.32-431.11.2.el6.x86_64","blockdevice_sdb_size":"8589934592","uniqueid":"120a4b52","kernelmajversion":"2.6","macaddress_eth0":"00:50:56:9B:80:20","netmask_eth0":"255.255.0.0","bios_version":"6.00","facterversion":"2.0.2","blockdevice_sda_vendor":"VMware","augeasversion":"1.0.0","blockdevice_sda_size":"8589934592","netmask":"255.255.0.0","blockdevice_sda_model":"Virtual disk","processor1":"Intel(R) Xeon(R) CPU E5-2609 0 @ 2.40GHz","kernelversion":"2.6.32","macaddress":"00:50:56:9B:80:20","ps":"ps -ef","network_lo":"127.0.0.0","swapfree_mb":"4031.99","blockdevice_sdb_vendor":"VMware","virtual":"vmware","id":"root","selinux_current_mode":"enforcing","environment":"production","operatingsystemrelease":"6.5","blockdevice_sdb_model":"Virtual disk","clientnoop":"false","netmask_lo":"255.0.0.0","memorysize":"1.83 GB","bios_vendor":"Phoenix Technologies LTD","operatingsystemmajrelease":"6","boardproductname":"440BX Desktop Reference Platform","ipaddress":"10.18.82.75","swapsize_mb":"4031.99","selinux_config_mode":"enforcing","kernel":"Linux","timezone":"PDT","puppetversion":"3.6.2","sshfp_dsa":"SSHFP 2 1 8ebb6d9078da9da416723cac88c46bca6fe0ec54\nSSHFP 2 2 fd2bf6b3b04a115a7c8368a7f7e7738cf41d9e4c3eaf13033a38a53fe119ac69","path":"/usr/bin:/opt/puppet-git-repos/hiera/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin","boardserialnumber":"None","processorcount":"2","operatingsystem":"CentOS"},"environment":"production","name":"woy_node_43ad199cda3305be170b0dd13bc6661a"},"document_type":"Node"},{"data":{"parameters":{"uptime":"0:40 hours","memorysize_mb":"1877.21","memoryfree":"1.59 GB","processor0":"Intel(R) Xeon(R) CPU E5-2609 0 @ 2.40GHz","rubyversion":"1.8.7","hardwaremodel":"x86_64","type":"Other","rubysitedir":"/usr/lib/ruby/site_ruby/1.8","osfamily":"RedHat","blockdevice_sr0_vendor":"NECVMWar","_timestamp":"Wed Jun 18 13:07:43 -0700 2014","uptime_hours":"0","selinux_enforced":"true","enc_var":"Set from ENC.","manufacturer":"VMware, Inc.","bios_release_date":"07/30/2013","blockdevice_sr0_model":"VMware IDE CDR10","physicalprocessorcount":"2","swapsize":"3.94 GB","sshdsakey":"AAAAB3NzaC1kc3MAAACBAJGJ+wHqAvYTv3VEzhPo3rwiaVxesMSstvufqZIYNLci54bEy7Dlq++scLFU7EjqhlnGG0HWZ+aHQpDY8TvvsRIw8Q9nyxHAonk0EtHu4RCF6MH1lo0IeAh12A0vEpaVgpQjKisfWuH/IQEi1wCCaVL0lsLc5CLe1wE+yKqWuyVrAAAAFQD+F89mMng0ZXHd9NKbsZO5LQ5vcQAAAIAN6ysU1N1SASyGwtWuAnkRKxusYgCpQ0L7hx7shXHiQ69WoQxzgUUb5AdF++kMQdplcqrD2MIf+6hk5o4kzkPTEJTpfl7l/qp2L6znDR5yjz+G4b499eD3UGmlLIOgb1R7v/mS7Q3Y0XYsh1nBJyupOiTIMT1g6f7pQkA/9eimgwAAAIAiqkmEyA+8HRxg02zyPVG3z0RBFQnqnjLO8GaVFLq+3j5HTYgHuyktn2Js2Qke0j8bJ7gs/9Zaxq2dxC9BCZV29VAtmp7DO6lZgh3qwvA1uUKraO2J5zzWZHhJ2c9/apGtySBeOD1lOgGiXLkn5x4R09kLs56f5n+ax2kVa4qs3A==","mtu_lo":"16436","domain":"delivery.puppetlabs.net","clientcert":"n6vo88vhlunm0j0.delivery.puppetlabs.net","boardmanufacturer":"Intel Corporation","interfaces":"eth0,lo","selinux":"true","mtu_eth0":"1500","hardwareisa":"x86_64","sshrsakey":"AAAAB3NzaC1yc2EAAAABIwAAAQEAr2ywcLVQDql7LcLz8DZvJLWuEdb86cwe/q8TVqd7E1V0fKvXhZBXUN1aGeuvY+ewfnlYh79ioDvslGCSh452caet3JljzhtU6mFtTpPm5FPofZ9a5SbR4oC5abFe8WH19KGI/HSsXEGqtNwNAcX6kfJSgcCRcPv+Jg0rO4Goncv8hLEv+ek+izVpuAPPBvgHN1QLlfSlN0rlYvn62WDs0ecYTGpmy03JisfYubefJ25roOFxakx8NAdajb1Ce5IV7GxEn5BSe9mjGPI4UvDFYtDEMeKhDl8eKxICfcei8X6uUfunr1N4kIjn3Q78aloCFhzn37OSI71rjmYISOq3JQ==","uptime_seconds":"2444","filesystems":"ext4,iso9660","uptime_days":"0","blockdevice_sr0_size":"1073741312","fqdn":"n6vo88vhlunm0j0.delivery.puppetlabs.net","network_eth0":"10.18.0.0","uuid":"421B3CE2-6677-16C3-3989-DAE47E2DFEAA","clientversion":"3.6.2","selinux_policyversion":"24","memoryfree_mb":"1629.92","sshfp_rsa":"SSHFP 1 1 c48ea7d5f6f38b3797e1e672f98ddf4d31796456\nSSHFP 1 2 b953c17a0af98e6fb1f3d06f2cc1e386a54e4868b2ea688ff950f4b8c5ed354a","swapfree":"3.94 GB","blockdevices":"sda,sdb,sr0","productname":"VMware Virtual Platform","is_virtual":"true","ipaddress_lo":"127.0.0.1","architecture":"x86_64","serialnumber":"VMware-42 1b 3c e2 66 77 16 c3-39 89 da e4 7e 2d fe aa","selinux_config_policy":"targeted","ipaddress_eth0":"10.18.82.75","hostname":"n6vo88vhlunm0j0","uniqueid":"120a4b52","kernelrelease":"2.6.32-431.11.2.el6.x86_64","blockdevice_sdb_size":"8589934592","kernelmajversion":"2.6","netmask_eth0":"255.255.0.0","facterversion":"2.0.2","macaddress_eth0":"00:50:56:9B:80:20","bios_version":"6.00","augeasversion":"1.0.0","blockdevice_sda_model":"Virtual disk","blockdevice_sda_vendor":"VMware","blockdevice_sda_size":"8589934592","netmask":"255.255.0.0","macaddress":"00:50:56:9B:80:20","ps":"ps -ef","processor1":"Intel(R) Xeon(R) CPU E5-2609 0 @ 2.40GHz","network_lo":"127.0.0.0","swapfree_mb":"4031.99","kernelversion":"2.6.32","blockdevice_sdb_vendor":"VMware","virtual":"vmware","id":"root","selinux_current_mode":"enforcing","operatingsystemrelease":"6.5","environment":"production","blockdevice_sdb_model":"Virtual disk","clientnoop":"false","netmask_lo":"255.0.0.0","memorysize":"1.83 GB","bios_vendor":"Phoenix Technologies LTD","operatingsystemmajrelease":"6","boardproductname":"440BX Desktop Reference Platform","ipaddress":"10.18.82.75","timezone":"PDT","selinux_config_mode":"enforcing","puppetversion":"3.6.2","kernel":"Linux","swapsize_mb":"4031.99","sshfp_dsa":"SSHFP 2 1 8ebb6d9078da9da416723cac88c46bca6fe0ec54\nSSHFP 2 2 fd2bf6b3b04a115a7c8368a7f7e7738cf41d9e4c3eaf13033a38a53fe119ac69","path":"/usr/bin:/opt/puppet-git-repos/hiera/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin","operatingsystem":"CentOS","boardserialnumber":"None","processorcount":"2"},"environment":"production","name":"n6vo88vhlunm0j0.delivery.puppetlabs.net","classes":["a"]},"document_type":"Node"},{"data":{"parameters":{"uptime":"0:58 hours","memorysize_mb":"1877.21","memoryfree":"1.66 GB","processor0":"Intel(R) Xeon(R) CPU E5-2609 0 @ 2.40GHz","rubyversion":"1.8.7","hardwaremodel":"x86_64","type":"Other","rubysitedir":"/usr/lib/ruby/site_ruby/1.8","osfamily":"RedHat","blockdevice_sr0_vendor":"NECVMWar","_timestamp":"Wed Jun 18 13:07:46 -0700 2014","uptime_hours":"0","selinux_enforced":"true","enc_var":"Set from ENC.","manufacturer":"VMware, Inc.","bios_release_date":"07/30/2013","blockdevice_sr0_model":"VMware IDE CDR10","physicalprocessorcount":"2","swapsize":"3.94 GB","sshdsakey":"AAAAB3NzaC1kc3MAAACBAJGJ+wHqAvYTv3VEzhPo3rwiaVxesMSstvufqZIYNLci54bEy7Dlq++scLFU7EjqhlnGG0HWZ+aHQpDY8TvvsRIw8Q9nyxHAonk0EtHu4RCF6MH1lo0IeAh12A0vEpaVgpQjKisfWuH/IQEi1wCCaVL0lsLc5CLe1wE+yKqWuyVrAAAAFQD+F89mMng0ZXHd9NKbsZO5LQ5vcQAAAIAN6ysU1N1SASyGwtWuAnkRKxusYgCpQ0L7hx7shXHiQ69WoQxzgUUb5AdF++kMQdplcqrD2MIf+6hk5o4kzkPTEJTpfl7l/qp2L6znDR5yjz+G4b499eD3UGmlLIOgb1R7v/mS7Q3Y0XYsh1nBJyupOiTIMT1g6f7pQkA/9eimgwAAAIAiqkmEyA+8HRxg02zyPVG3z0RBFQnqnjLO8GaVFLq+3j5HTYgHuyktn2Js2Qke0j8bJ7gs/9Zaxq2dxC9BCZV29VAtmp7DO6lZgh3qwvA1uUKraO2J5zzWZHhJ2c9/apGtySBeOD1lOgGiXLkn5x4R09kLs56f5n+ax2kVa4qs3A==","domain":"delivery.puppetlabs.net","mtu_lo":"16436","clientcert":"t21rjumdkqr2x5d.delivery.puppetlabs.net","boardmanufacturer":"Intel Corporation","interfaces":"eth0,lo","selinux":"true","filesystems":"ext4,iso9660","mtu_eth0":"1500","hardwareisa":"x86_64","sshrsakey":"AAAAB3NzaC1yc2EAAAABIwAAAQEAr2ywcLVQDql7LcLz8DZvJLWuEdb86cwe/q8TVqd7E1V0fKvXhZBXUN1aGeuvY+ewfnlYh79ioDvslGCSh452caet3JljzhtU6mFtTpPm5FPofZ9a5SbR4oC5abFe8WH19KGI/HSsXEGqtNwNAcX6kfJSgcCRcPv+Jg0rO4Goncv8hLEv+ek+izVpuAPPBvgHN1QLlfSlN0rlYvn62WDs0ecYTGpmy03JisfYubefJ25roOFxakx8NAdajb1Ce5IV7GxEn5BSe9mjGPI4UvDFYtDEMeKhDl8eKxICfcei8X6uUfunr1N4kIjn3Q78aloCFhzn37OSI71rjmYISOq3JQ==","uptime_seconds":"3480","uptime_days":"0","blockdevice_sr0_size":"1073741312","fqdn":"t21rjumdkqr2x5d.delivery.puppetlabs.net","network_eth0":"10.18.0.0","uuid":"421BFC7A-2ADE-963B-4A09-1C357BDFAFC0","clientversion":"3.6.2","memoryfree_mb":"1702.34","selinux_policyversion":"24","sshfp_rsa":"SSHFP 1 1 c48ea7d5f6f38b3797e1e672f98ddf4d31796456\nSSHFP 1 2 b953c17a0af98e6fb1f3d06f2cc1e386a54e4868b2ea688ff950f4b8c5ed354a","swapfree":"3.94 GB","blockdevices":"sda,sdb,sr0","productname":"VMware Virtual Platform","is_virtual":"true","ipaddress_lo":"127.0.0.1","architecture":"x86_64","serialnumber":"VMware-42 1b fc 7a 2a de 96 3b-4a 09 1c 35 7b df af c0","selinux_config_policy":"targeted","ipaddress_eth0":"10.18.101.161","hostname":"t21rjumdkqr2x5d","uniqueid":"120aa165","kernelrelease":"2.6.32-431.11.2.el6.x86_64","blockdevice_sdb_size":"8589934592","kernelmajversion":"2.6","netmask_eth0":"255.255.0.0","facterversion":"2.0.2","macaddress_eth0":"00:50:56:9B:1B:02","bios_version":"6.00","augeasversion":"1.0.0","blockdevice_sda_model":"Virtual disk","blockdevice_sda_vendor":"VMware","blockdevice_sda_size":"8589934592","netmask":"255.255.0.0","macaddress":"00:50:56:9B:1B:02","ps":"ps -ef","processor1":"Intel(R) Xeon(R) CPU E5-2609 0 @ 2.40GHz","network_lo":"127.0.0.0","swapfree_mb":"4031.99","kernelversion":"2.6.32","blockdevice_sdb_vendor":"VMware","virtual":"vmware","id":"root","selinux_current_mode":"enforcing","operatingsystemrelease":"6.5","environment":"production","blockdevice_sdb_model":"Virtual disk","clientnoop":"false","netmask_lo":"255.0.0.0","memorysize":"1.83 GB","bios_vendor":"Phoenix Technologies LTD","operatingsystemmajrelease":"6","boardproductname":"440BX Desktop Reference Platform","ipaddress":"10.18.101.161","selinux_config_mode":"enforcing","timezone":"PDT","puppetversion":"3.6.2","kernel":"Linux","swapsize_mb":"4031.99","sshfp_dsa":"SSHFP 2 1 8ebb6d9078da9da416723cac88c46bca6fe0ec54\nSSHFP 2 2 fd2bf6b3b04a115a7c8368a7f7e7738cf41d9e4c3eaf13033a38a53fe119ac69","path":"/usr/bin:/opt/puppet-git-repos/hiera/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin","operatingsystem":"CentOS","boardserialnumber":"None","processorcount":"2"},"environment":"production","name":"t21rjumdkqr2x5d.delivery.puppetlabs.net","classes":["a"]},"document_type":"Node"}]

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:08$  if [ -f '/tmp/check_woy_cache_works.rb.XPW4WC/puppet.conf.bak' ]; then cat '/tmp/check_woy_cache_works.rb.XPW4WC/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/check_woy_cache_works.rb.XPW4WC/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:08$  cat `puppet master --configprint pidfile`  
24181
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:09$  kill 24181  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:09$  kill -0 24181  
bash: line 0: kill: (24181) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/ordering" name="master_agent_application.rb" time="11.546107"><system-out><![CDATA[
Puppet applies resources without dependencies in file order over the network

n6vo88vhlunm0j0 (centos6-64-1) 13:17:09$  mktemp -dt application_order.XXXXXX  
/tmp/application_order.Oy1eoL

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-w50gyn centos6-64-1:/tmp/application_order.Oy1eoL/site.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:17:09$  puppet config print user  
puppet

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:10$  puppet config print group  
puppet

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:10$  chown -R puppet:puppet /tmp/application_order.Oy1eoL  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:10$  chmod -R g+rwX /tmp/application_order.Oy1eoL  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:10$  mktemp -dt master_agent_application.rb.XXXXXX  
/tmp/master_agent_application.rb.aIJvhy

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:10$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:10$  cp /etc/puppet/puppet.conf /tmp/master_agent_application.rb.aIJvhy/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:10$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-vuucwf centos6-64-1:/tmp/master_agent_application.rb.aIJvhy/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:11$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
manifest = /tmp/application_order.Oy1eoL/site.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.51 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:17:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --verbose --server n6vo88vhlunm0j0 --ordering manifest
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403122635'
Notice: first
Notice: /Stage[main]/Main/Notify[first]/message: defined 'message' as 'first'
Notice: second
Notice: /Stage[main]/Main/Notify[second]/message: defined 'message' as 'second'
Notice: third
Notice: /Stage[main]/Main/Notify[third]/message: defined 'message' as 'third'
Notice: fourth
Notice: /Stage[main]/Main/Notify[fourth]/message: defined 'message' as 'fourth'
Notice: fifth
Notice: /Stage[main]/Main/Notify[fifth]/message: defined 'message' as 'fifth'
Notice: sixth
Notice: /Stage[main]/Main/Notify[sixth]/message: defined 'message' as 'sixth'
Notice: seventh
Notice: /Stage[main]/Main/Notify[seventh]/message: defined 'message' as 'seventh'
Notice: eighth
Notice: /Stage[main]/Main/Notify[eighth]/message: defined 'message' as 'eighth'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.44 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:17:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --verbose --server n6vo88vhlunm0j0 --ordering manifest
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0775' to '0755'
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403122635'
Notice: first
Notice: /Stage[main]/Main/Notify[first]/message: defined 'message' as 'first'
Notice: second
Notice: /Stage[main]/Main/Notify[second]/message: defined 'message' as 'second'
Notice: third
Notice: /Stage[main]/Main/Notify[third]/message: defined 'message' as 'third'
Notice: fourth
Notice: /Stage[main]/Main/Notify[fourth]/message: defined 'message' as 'fourth'
Notice: fifth
Notice: /Stage[main]/Main/Notify[fifth]/message: defined 'message' as 'fifth'
Notice: sixth
Notice: /Stage[main]/Main/Notify[sixth]/message: defined 'message' as 'sixth'
Notice: seventh
Notice: /Stage[main]/Main/Notify[seventh]/message: defined 'message' as 'seventh'
Notice: eighth
Notice: /Stage[main]/Main/Notify[eighth]/message: defined 'message' as 'eighth'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.68 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:19$  if [ -f '/tmp/master_agent_application.rb.aIJvhy/puppet.conf.bak' ]; then cat '/tmp/master_agent_application.rb.aIJvhy/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/master_agent_application.rb.aIJvhy/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:19$  cat `puppet master --configprint pidfile`  
24405
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.60 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:20$  kill 24405  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:20$  kill -0 24405  
bash: line 0: kill: (24405) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.20 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/parser_functions/hiera" name="lookup_data.rb" time="16.058390"><system-out><![CDATA[
Lookup data using the hiera parser function

n6vo88vhlunm0j0 (centos6-64-1) 13:17:20$  mktemp -dt hiera.XXXXXX  
/tmp/hiera.MmnWiu

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:17:20$  mkdir -p /tmp/hiera.MmnWiu/hieradata  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:20$  if [ -f /etc/puppet/hiera.yaml ]; then cp /etc/puppet/hiera.yaml /etc/puppet/hiera.yaml.bak; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.0Ww8kp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-x69r41 centos6-64-1:/tmp/apply_manifest.pp.0Ww8kp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:17:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0Ww8kp
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122642'
Notice: /Stage[main]/Main/File[/etc/puppet/hiera.yaml]/ensure: created
Notice: Finished catalog run in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.55 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:23$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.TyRxn3

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1accrhb centos6-64-1:/tmp/apply_manifest.pp.TyRxn3 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:17:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.TyRxn3
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403122645'
Notice: /Stage[main]/Main/File[/tmp/hiera.MmnWiu/hieradata/global.yaml]/ensure: created
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.32 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:25$  mkdir -p /tmp/hiera.MmnWiu/modules/apache/manifests  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1gt8wtb centos6-64-1:/tmp/hiera.MmnWiu/site.pp {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1t3mutg centos6-64-1:/tmp/hiera.MmnWiu/modules/apache/manifests/init.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:17:26$  chown -R root:puppet /tmp/hiera.MmnWiu  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:26$  chmod -R g+rwX /tmp/hiera.MmnWiu  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Try to lookup string data

n6vo88vhlunm0j0 (centos6-64-1) 13:17:26$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:26$  cp /etc/puppet/puppet.conf /tmp/hiera.MmnWiu/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:26$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-r91jxp centos6-64-1:/tmp/hiera.MmnWiu/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:26$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl
manifest = /tmp/hiera.MmnWiu/site.pp
modulepath = /tmp/hiera.MmnWiu/modules

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
node_terminus = plain

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.49 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:17:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --verbose --server n6vo88vhlunm0j0
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0755' to '0775'
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403122651'
Notice: apache server port: 8080
Notice: /Stage[main]/Apache/Notify[port from hiera]/message: defined 'message' as 'apache server port: 8080'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.44 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:17:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --verbose --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0755' to '0775'
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403122651'
Notice: apache server port: 8080
Notice: /Stage[main]/Apache/Notify[port from hiera]/message: defined 'message' as 'apache server port: 8080'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.38 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:35$  if [ -f '/tmp/hiera.MmnWiu/puppet.conf.bak' ]; then cat '/tmp/hiera.MmnWiu/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/hiera.MmnWiu/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:35$  cat `puppet master --configprint pidfile`  
24842
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.64 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:35$  kill 24842  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:35$  kill -0 24842  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:36$  kill -0 24842  
bash: line 0: kill: (24842) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

  * Teardown

n6vo88vhlunm0j0 (centos6-64-1) 13:17:36$  if [ -f /etc/puppet/hiera.conf.bak ]; then mv -f /etc/puppet/hiera.conf.bak /etc/puppet/hiera.yaml; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/parser_functions/hiera_array" name="lookup_data.rb" time="16.301690"><system-out><![CDATA[
Lookup data using the hiera parser function

n6vo88vhlunm0j0 (centos6-64-1) 13:17:36$  mktemp -dt hiera.XXXXXX  
/tmp/hiera.iakD5C

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:17:36$  mkdir -p /tmp/hiera.iakD5C/hieradata  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:36$  if [ -f /etc/puppet/hiera.yaml ]; then cp /etc/puppet/hiera.yaml /etc/puppet/hiera.yaml.bak; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.vLgMTX

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1qirx4r centos6-64-1:/tmp/apply_manifest.pp.vLgMTX {}

n6vo88vhlunm0j0 (centos6-64-1) 13:17:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.vLgMTX
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403122658'
Notice: /Stage[main]/Main/File[/tmp/hiera.iakD5C/hiera.yaml]/ensure: created
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.71 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:39$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.uWTDVs

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-13m5tlv centos6-64-1:/tmp/apply_manifest.pp.uWTDVs {}

n6vo88vhlunm0j0 (centos6-64-1) 13:17:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.uWTDVs
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403122661'
Notice: /Stage[main]/Main/File[/tmp/hiera.iakD5C/hieradata/global.yaml]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/hiera.iakD5C/hieradata/production.yaml]/ensure: created
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:42$  mkdir -p /tmp/hiera.iakD5C/modules/ntp/manifests  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1jzdddf centos6-64-1:/tmp/hiera.iakD5C/site.pp {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xj16hj centos6-64-1:/tmp/hiera.iakD5C/modules/ntp/manifests/init.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:17:42$  chown -R root:puppet /tmp/hiera.iakD5C  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:42$  chmod -R g+rwX /tmp/hiera.iakD5C  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:42$  cat /tmp/hiera.iakD5C/hiera.yaml > /etc/puppet/hiera.yaml  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Try to lookup array data

n6vo88vhlunm0j0 (centos6-64-1) 13:17:42$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:42$  cp /etc/puppet/puppet.conf /tmp/hiera.iakD5C/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:42$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1dp9iox centos6-64-1:/tmp/hiera.iakD5C/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:42$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
manifest = /tmp/hiera.iakD5C/site.pp
modulepath = /tmp/hiera.iakD5C/modules
node_terminus = plain

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.53 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:17:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --verbose --server n6vo88vhlunm0j0
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403122667'
Notice: ntpserver global.ntp.puppetlabs.com
Notice: /Stage[main]/Ntp/Ntp::Print[global.ntp.puppetlabs.com]/Notify[ntpserver global.ntp.puppetlabs.com]/message: defined 'message' as 'ntpserver global.ntp.puppetlabs.com'
Notice: ntpserver production.ntp.puppetlabs.com
Notice: /Stage[main]/Ntp/Ntp::Print[production.ntp.puppetlabs.com]/Notify[ntpserver production.ntp.puppetlabs.com]/message: defined 'message' as 'ntpserver production.ntp.puppetlabs.com'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.63 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:17:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --verbose --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403122667'
Notice: ntpserver global.ntp.puppetlabs.com
Notice: /Stage[main]/Ntp/Ntp::Print[global.ntp.puppetlabs.com]/Notify[ntpserver global.ntp.puppetlabs.com]/message: defined 'message' as 'ntpserver global.ntp.puppetlabs.com'
Notice: ntpserver production.ntp.puppetlabs.com
Notice: /Stage[main]/Ntp/Ntp::Print[production.ntp.puppetlabs.com]/Notify[ntpserver production.ntp.puppetlabs.com]/message: defined 'message' as 'ntpserver production.ntp.puppetlabs.com'
Notice: Finished catalog run in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:51$  if [ -f '/tmp/hiera.iakD5C/puppet.conf.bak' ]; then cat '/tmp/hiera.iakD5C/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/hiera.iakD5C/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:51$  cat `puppet master --configprint pidfile`  
25290
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:51$  kill 25290  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:51$  kill -0 25290  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:53$  kill -0 25290  
bash: line 0: kill: (25290) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
Exited: 1

  * Teardown

n6vo88vhlunm0j0 (centos6-64-1) 13:17:53$  if [ -f /etc/puppet/hiera.conf.bak ]; then cat /etc/puppet/hiera.conf.bak > /etc/puppet/hiera.yaml; rm -rf /etc/puppet/hiera.conf.bak; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/parser_functions/hiera_hash" name="lookup_data.rb" time="15.864572"><system-out><![CDATA[
Lookup data using the hiera parser function

n6vo88vhlunm0j0 (centos6-64-1) 13:17:53$  mktemp -dt hiera.XXXXXX  
/tmp/hiera.PZpoBp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

  * Setup

n6vo88vhlunm0j0 (centos6-64-1) 13:17:53$  mkdir -p /tmp/hiera.PZpoBp/hieradata  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:53$  if [ -f /etc/puppet/hiera.yaml ]; then cp /etc/puppet/hiera.yaml /etc/puppet/hiera.yaml.bak; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:53$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.wfHeuq

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-q2hegj centos6-64-1:/tmp/apply_manifest.pp.wfHeuq {}

n6vo88vhlunm0j0 (centos6-64-1) 13:17:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wfHeuq
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122674'
Notice: /Stage[main]/Main/File[/tmp/hiera.PZpoBp/hiera.yaml]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:55$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ryPSuo

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-4mj81t centos6-64-1:/tmp/apply_manifest.pp.ryPSuo {}

n6vo88vhlunm0j0 (centos6-64-1) 13:17:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ryPSuo
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122677'
Notice: /Stage[main]/Main/File[/tmp/hiera.PZpoBp/hieradata/global.yaml]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/hiera.PZpoBp/hieradata/production.yaml]/ensure: created
Notice: Finished catalog run in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.37 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:58$  mkdir -p /tmp/hiera.PZpoBp/modules/ntp/manifests  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-8r9sci centos6-64-1:/tmp/hiera.PZpoBp/site.pp {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-o6wgep centos6-64-1:/tmp/hiera.PZpoBp/modules/ntp/manifests/init.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:17:58$  chown -R root:puppet /tmp/hiera.PZpoBp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:58$  chmod -R g+rwX /tmp/hiera.PZpoBp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:58$  cat /tmp/hiera.PZpoBp/hiera.yaml > /etc/puppet/hiera.yaml  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Try to lookup hash data

n6vo88vhlunm0j0 (centos6-64-1) 13:17:58$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:58$  cp /etc/puppet/puppet.conf /tmp/hiera.PZpoBp/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:59$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1a974vi centos6-64-1:/tmp/hiera.PZpoBp/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:59$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
manifest = /tmp/hiera.PZpoBp/site.pp
modulepath = /tmp/hiera.PZpoBp/modules
node_terminus = plain

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:17:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.44 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:18:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --verbose --server n6vo88vhlunm0j0
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403122683'
Notice: name: postgres shell: /bin/bash
Notice: /Stage[main]/Ntp/Notify[the database user]/message: defined 'message' as 'name: postgres shell: /bin/bash'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.19 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --no-daemonize --onetime --verbose --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403122683'
Notice: name: postgres shell: /bin/bash
Notice: /Stage[main]/Ntp/Notify[the database user]/message: defined 'message' as 'name: postgres shell: /bin/bash'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.30 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:07$  if [ -f '/tmp/hiera.PZpoBp/puppet.conf.bak' ]; then cat '/tmp/hiera.PZpoBp/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/hiera.PZpoBp/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:07$  cat `puppet master --configprint pidfile`  
25738
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.65 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:07$  kill 25738  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:07$  kill -0 25738  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:08$  kill -0 25738  
bash: line 0: kill: (25738) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1

  * Teardown

n6vo88vhlunm0j0 (centos6-64-1) 13:18:08$  if [ -f /etc/puppet/hiera.conf.bak ]; then cat /etc/puppet/hiera.conf.bak > /etc/puppet/hiera.yaml; rm -rf /etc/puppet/hiera.yaml.bak; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/pluginsync" name="7316_apps_should_be_available_via_pluginsync.rb" time="14.286548"><system-out><![CDATA[
the pluginsync functionality should sync app definitions, and they should be runnable afterwards

n6vo88vhlunm0j0 (centos6-64-1) 13:18:08$  mktemp -dt 7316_apps_should_be_available_via_pluginsync.XXXXXX  
/tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:09$  chmod 755 /tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:09$  mktemp -dt 7316_apps_should_be_available_via_pluginsync.XXXXXX  
/tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:09$  chmod 755 /tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * write our simple module out to the master

n6vo88vhlunm0j0 (centos6-64-1) 13:18:09$  mkdir -p /tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/master_modules/superbogus/lib/puppet/application  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1vacukk centos6-64-1:/tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/master_modules/superbogus/lib/puppet/application/superbogus.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:18:09$  chown root:puppet /tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/master_modules/superbogus/lib/puppet/application/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:09$  chmod 755 /tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/master_modules/superbogus/lib/puppet/application/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * verify that the app file exists on the master

n6vo88vhlunm0j0 (centos6-64-1) 13:18:09$  test -f "/tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/master_modules/superbogus/lib/puppet/application/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * start the master

n6vo88vhlunm0j0 (centos6-64-1) 13:18:09$  mktemp -dt 7316_apps_should_be_available_via_pluginsync.rb.XXXXXX  
/tmp/7316_apps_should_be_available_via_pluginsync.rb.g6C37G

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:09$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:09$  cp /etc/puppet/puppet.conf /tmp/7316_apps_should_be_available_via_pluginsync.rb.g6C37G/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:09$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-b1f855 centos6-64-1:/tmp/7316_apps_should_be_available_via_pluginsync.rb.g6C37G/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:09$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
modulepath = /tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/master_modules
node_terminus = plain

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.32 seconds
Waiting for the puppet master to start
The puppet master has started

  * verify that the module files don't exist on the agent path

n6vo88vhlunm0j0 (centos6-64-1) 13:18:10$  test -f "/tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/agent_lib/puppet/application/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:18:10$  test -f "/tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk/agent_lib/puppet/application/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
Exited: 1

  * run the agent

n6vo88vhlunm0j0 (centos6-64-1) 13:18:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --libdir="/tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/agent_lib"  --test --trace --server n6vo88vhlunm0j0
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `each'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:325:in `initialize_app_defaults'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:152:in `do_initialize_settings_for_run_mode'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:136:in `initialize_settings'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:86:in `execute'; /usr/lib/ruby/site_ruby/1.8/puppet/util.rb:479:in `exit_on_fail'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:85:in `execute'; /usr/bin/puppet:8)
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0775' to '0755'
Info: Retrieving plugin
Notice: /File[/tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/agent_lib/puppet]/ensure: created
Notice: /File[/tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/agent_lib/puppet/application]/ensure: created
Notice: /File[/tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/agent_lib/puppet/application/superbogus.rb]/ensure: defined content as '{md5}80f75e787469bf4eaca21136416d7b1b'
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403122693'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.30 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --libdir="/tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk/agent_lib"  --test --trace --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0775' to '0755'
Info: Retrieving plugin
Notice: /File[/tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk/agent_lib/puppet]/ensure: created
Notice: /File[/tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk/agent_lib/puppet/application]/ensure: created
Notice: /File[/tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk/agent_lib/puppet/application/superbogus.rb]/ensure: defined content as '{md5}80f75e787469bf4eaca21136416d7b1b'
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403122693'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.42 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:17$  if [ -f '/tmp/7316_apps_should_be_available_via_pluginsync.rb.g6C37G/puppet.conf.bak' ]; then cat '/tmp/7316_apps_should_be_available_via_pluginsync.rb.g6C37G/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/7316_apps_should_be_available_via_pluginsync.rb.g6C37G/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:17$  cat `puppet master --configprint pidfile`  
25945
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.85 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:18$  kill 25945  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:18$  kill -0 25945  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:19$  kill -0 25945  
bash: line 0: kill: (25945) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

  * verify that the module files were synced down to the agent

n6vo88vhlunm0j0 (centos6-64-1) 13:18:19$  test -f "/tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/agent_lib/puppet/application/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:19$  test -f "/tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk/agent_lib/puppet/application/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * verify that the application shows up in help

n6vo88vhlunm0j0 (centos6-64-1) 13:18:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet help  --libdir="/tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/agent_lib"

Usage: puppet <subcommand> [options] <action> [options]

Available subcommands:
    
  agent             The puppet agent daemon
  apply             Apply Puppet manifests locally
  ca                Local Puppet Certificate Authority management.
  catalog           Compile, save, view, and convert catalogs.
  cert              Manage certificates and requests
  certificate       Provide access to the CA for certificate management.
  certificate_request  Manage certificate requests.
  certificate_revocation_list  Manage the list of revoked certificates.
  config            Interact with Puppet's settings.
  describe          Display help about resource types
  device            Manage remote network devices
  doc               Generate Puppet documentation and references
  facts             Retrieve and store facts.
  file              Retrieve and store files in a filebucket
  filebucket        Store and retrieve files in a filebucket
  help              Display Puppet help.
  inspect           Send an inspection report
  instrumentation_data  Manage instrumentation listener accumulated data.
  instrumentation_listener  Manage instrumentation listeners.
  instrumentation_probe  Manage instrumentation probes.
  key               Create, save, and remove certificate keys.
  kick              Remotely control puppet agent
  man               Display Puppet manual pages.
  master            The puppet master daemon
  module            Creates, installs and searches for modules on the Puppet Forge.
  node              View and manage node definitions.
  parser            Interact directly with the parser.
  plugin            Interact with the Puppet plugin system.
  queue             Deprecated queuing daemon for asynchronous storeconfigs
  report            Create, display, and submit reports.
  resource          The resource abstraction layer shell
  resource_type     View classes, defined resource types, and nodes from all manifests.
  secret_agent      Mimics puppet agent.
  status            View puppet server status.
  superbogus        a simple application for testing application delivery via plugin sync

See 'puppet help <subcommand> <action>' for help on a specific subcommand action.
See 'puppet help <subcommand>' for help on a specific subcommand.
Puppet v3.6.2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.92 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet help  --libdir="/tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk/agent_lib"

Usage: puppet <subcommand> [options] <action> [options]

Available subcommands:
    
  agent             The puppet agent daemon
  apply             Apply Puppet manifests locally
  ca                Local Puppet Certificate Authority management.
  catalog           Compile, save, view, and convert catalogs.
  cert              Manage certificates and requests
  certificate       Provide access to the CA for certificate management.
  certificate_request  Manage certificate requests.
  certificate_revocation_list  Manage the list of revoked certificates.
  config            Interact with Puppet's settings.
  describe          Display help about resource types
  device            Manage remote network devices
  doc               Generate Puppet documentation and references
  facts             Retrieve and store facts.
  file              Retrieve and store files in a filebucket
  filebucket        Store and retrieve files in a filebucket
  help              Display Puppet help.
  inspect           Send an inspection report
  instrumentation_data  Manage instrumentation listener accumulated data.
  instrumentation_listener  Manage instrumentation listeners.
  instrumentation_probe  Manage instrumentation probes.
  key               Create, save, and remove certificate keys.
  kick              Remotely control puppet agent
  man               Display Puppet manual pages.
  master            The puppet master daemon
  module            Creates, installs and searches for modules on the Puppet Forge.
  node              View and manage node definitions.
  parser            Interact directly with the parser.
  plugin            Interact with the Puppet plugin system.
  queue             Deprecated queuing daemon for asynchronous storeconfigs
  report            Create, display, and submit reports.
  resource          The resource abstraction layer shell
  resource_type     View classes, defined resource types, and nodes from all manifests.
  secret_agent      Mimics puppet agent.
  status            View puppet server status.
  superbogus        a simple application for testing application delivery via plugin sync

See 'puppet help <subcommand> <action>' for help on a specific subcommand action.
See 'puppet help <subcommand>' for help on a specific subcommand.
Puppet v3.6.2

t21rjumdkqr2x5d (centos6-64-2) executed in 1.02 seconds

  * verify that we can run the application

n6vo88vhlunm0j0 (centos6-64-1) 13:18:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet superbogus  --libdir="/tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/agent_lib"
Hello from the superbogus application

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.72 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet superbogus  --libdir="/tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk/agent_lib"
Hello from the superbogus application

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds

  * clear out the libdir on the agents in preparation for the next test

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  rm -rf /tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0/agent_lib/*  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:23$  rm -rf /tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk/agent_lib/*  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  rm -rf /tmp/7316_apps_should_be_available_via_pluginsync.u0wdx0  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:23$  rm -rf /tmp/7316_apps_should_be_available_via_pluginsync.z8EkXk  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/pluginsync" name="7316_faces_with_app_stubs_should_be_available_via_pluginsync.rb" time="14.550681"><system-out><![CDATA[
the pluginsync functionality should sync app definitions, and they should be runnable afterwards

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  mktemp -dt 7316_faces_with_app_stubs_should_be_available_via_pluginsync.XXXXXX  
/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  chmod 755 /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:23$  mktemp -dt 7316_faces_with_app_stubs_should_be_available_via_pluginsync.XXXXXX  
/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:23$  chmod 755 /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * write our simple module out to the master

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  mkdir -p /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/master_modules/superbogus/lib/puppet/application  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-p86fyi centos6-64-1:/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/master_modules/superbogus/lib/puppet/application/superbogus.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  chown root:puppet /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/master_modules/superbogus/lib/puppet/application/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  chmod 755 /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/master_modules/superbogus/lib/puppet/application/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  mkdir -p /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/master_modules/superbogus/lib/puppet/face  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1n1r5py centos6-64-1:/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/master_modules/superbogus/lib/puppet/face/superbogus.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  chown root:puppet /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/master_modules/superbogus/lib/puppet/face/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  chmod 755 /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/master_modules/superbogus/lib/puppet/face/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * verify that the app file exists on the master

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  test -f "/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/master_modules/superbogus/lib/puppet/application/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  test -f "/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/master_modules/superbogus/lib/puppet/face/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * start the master

n6vo88vhlunm0j0 (centos6-64-1) 13:18:23$  mktemp -dt 7316_faces_with_app_stubs_should_be_available_via_pluginsync.rb.XXXXXX  
/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.rb.A5MQmd

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:24$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:24$  cp /etc/puppet/puppet.conf /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.rb.A5MQmd/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:24$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1fz52wh centos6-64-1:/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.rb.A5MQmd/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:24$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
modulepath = /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/master_modules
node_terminus = plain

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.45 seconds
Waiting for the puppet master to start
The puppet master has started

  * verify that the module files don't exist on the agent path

n6vo88vhlunm0j0 (centos6-64-1) 13:18:25$  test -f "/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib/puppet/application/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:18:25$  test -f "/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib/puppet/application/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:18:25$  test -f "/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib/puppet/application/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:18:25$  test -f "/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib/puppet/application/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
Exited: 1

  * run the agent

n6vo88vhlunm0j0 (centos6-64-1) 13:18:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --libdir="/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib"  --trace --test --server n6vo88vhlunm0j0
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `each'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:325:in `initialize_app_defaults'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:152:in `do_initialize_settings_for_run_mode'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:136:in `initialize_settings'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:86:in `execute'; /usr/lib/ruby/site_ruby/1.8/puppet/util.rb:479:in `exit_on_fail'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:85:in `execute'; /usr/bin/puppet:8)
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib/puppet]/ensure: created
Notice: /File[/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib/puppet/face]/ensure: created
Notice: /File[/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib/puppet/face/superbogus.rb]/ensure: defined content as '{md5}75d454702df04250ac39981e09e8eb70'
Notice: /File[/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib/puppet/application]/ensure: created
Notice: /File[/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib/puppet/application/superbogus.rb]/ensure: defined content as '{md5}f39411e2e4c7a7caf890778afc24887f'
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403122709'
Notice: Finished catalog run in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.51 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --libdir="/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib"  --trace --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib/puppet]/ensure: created
Notice: /File[/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib/puppet/face]/ensure: created
Notice: /File[/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib/puppet/application]/ensure: created
Notice: /File[/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib/puppet/application/superbogus.rb]/ensure: defined content as '{md5}f39411e2e4c7a7caf890778afc24887f'
Notice: /File[/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib/puppet/face/superbogus.rb]/ensure: defined content as '{md5}75d454702df04250ac39981e09e8eb70'
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403122709'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.23 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:32$  if [ -f '/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.rb.A5MQmd/puppet.conf.bak' ]; then cat '/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.rb.A5MQmd/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.rb.A5MQmd/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:32$  cat `puppet master --configprint pidfile`  
26192
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.67 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:33$  kill 26192  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:33$  kill -0 26192  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:34$  kill -0 26192  
bash: line 0: kill: (26192) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
Exited: 1

  * verify that the module files were synced down to the agent

n6vo88vhlunm0j0 (centos6-64-1) 13:18:34$  test -f "/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib/puppet/application/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:34$  test -f "/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib/puppet/face/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:34$  test -f "/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib/puppet/application/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:34$  test -f "/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib/puppet/face/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * verify that the application shows up in help

n6vo88vhlunm0j0 (centos6-64-1) 13:18:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet help  --libdir="/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib"

Usage: puppet <subcommand> [options] <action> [options]

Available subcommands:
    
  agent             The puppet agent daemon
  apply             Apply Puppet manifests locally
  ca                Local Puppet Certificate Authority management.
  catalog           Compile, save, view, and convert catalogs.
  cert              Manage certificates and requests
  certificate       Provide access to the CA for certificate management.
  certificate_request  Manage certificate requests.
  certificate_revocation_list  Manage the list of revoked certificates.
  config            Interact with Puppet's settings.
  describe          Display help about resource types
  device            Manage remote network devices
  doc               Generate Puppet documentation and references
  facts             Retrieve and store facts.
  file              Retrieve and store files in a filebucket
  filebucket        Store and retrieve files in a filebucket
  help              Display Puppet help.
  inspect           Send an inspection report
  instrumentation_data  Manage instrumentation listener accumulated data.
  instrumentation_listener  Manage instrumentation listeners.
  instrumentation_probe  Manage instrumentation probes.
  key               Create, save, and remove certificate keys.
  kick              Remotely control puppet agent
  man               Display Puppet manual pages.
  master            The puppet master daemon
  module            Creates, installs and searches for modules on the Puppet Forge.
  node              View and manage node definitions.
  parser            Interact directly with the parser.
  plugin            Interact with the Puppet plugin system.
  queue             Deprecated queuing daemon for asynchronous storeconfigs
  report            Create, display, and submit reports.
  resource          The resource abstraction layer shell
  resource_type     View classes, defined resource types, and nodes from all manifests.
  secret_agent      Mimics puppet agent.
  status            View puppet server status.
  superbogus        a simple face for testing face delivery via plugin sync

See 'puppet help <subcommand> <action>' for help on a specific subcommand action.
See 'puppet help <subcommand>' for help on a specific subcommand.
Puppet v3.6.2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.83 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet help  --libdir="/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib"

Usage: puppet <subcommand> [options] <action> [options]

Available subcommands:
    
  agent             The puppet agent daemon
  apply             Apply Puppet manifests locally
  ca                Local Puppet Certificate Authority management.
  catalog           Compile, save, view, and convert catalogs.
  cert              Manage certificates and requests
  certificate       Provide access to the CA for certificate management.
  certificate_request  Manage certificate requests.
  certificate_revocation_list  Manage the list of revoked certificates.
  config            Interact with Puppet's settings.
  describe          Display help about resource types
  device            Manage remote network devices
  doc               Generate Puppet documentation and references
  facts             Retrieve and store facts.
  file              Retrieve and store files in a filebucket
  filebucket        Store and retrieve files in a filebucket
  help              Display Puppet help.
  inspect           Send an inspection report
  instrumentation_data  Manage instrumentation listener accumulated data.
  instrumentation_listener  Manage instrumentation listeners.
  instrumentation_probe  Manage instrumentation probes.
  key               Create, save, and remove certificate keys.
  kick              Remotely control puppet agent
  man               Display Puppet manual pages.
  master            The puppet master daemon
  module            Creates, installs and searches for modules on the Puppet Forge.
  node              View and manage node definitions.
  parser            Interact directly with the parser.
  plugin            Interact with the Puppet plugin system.
  queue             Deprecated queuing daemon for asynchronous storeconfigs
  report            Create, display, and submit reports.
  resource          The resource abstraction layer shell
  resource_type     View classes, defined resource types, and nodes from all manifests.
  secret_agent      Mimics puppet agent.
  status            View puppet server status.
  superbogus        a simple face for testing face delivery via plugin sync

See 'puppet help <subcommand> <action>' for help on a specific subcommand action.
See 'puppet help <subcommand>' for help on a specific subcommand.
Puppet v3.6.2

t21rjumdkqr2x5d (centos6-64-2) executed in 0.85 seconds

  * verify that we can run the application

n6vo88vhlunm0j0 (centos6-64-1) 13:18:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet superbogus  --libdir="/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib"
Hello from the superbogus face

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.93 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet superbogus  --libdir="/tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib"
Hello from the superbogus face

t21rjumdkqr2x5d (centos6-64-2) executed in 0.54 seconds

  * clear out the libdir on the agents in preparation for the next test

n6vo88vhlunm0j0 (centos6-64-1) 13:18:37$  rm -rf /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN/agent_lib/*  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:37$  rm -rf /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds/agent_lib/*  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:37$  rm -rf /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.DIQmKN  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:37$  rm -rf /tmp/7316_faces_with_app_stubs_should_be_available_via_pluginsync.VYe7Ds  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/pluginsync/feature" name="pluginsync_should_sync_features.rb" time="19.251866"><system-out><![CDATA[
the pluginsync functionality should sync feature definitions

n6vo88vhlunm0j0 (centos6-64-1) 13:18:37$  mktemp -dt pluginsync_should_sync_features.XXXXXX  
/tmp/pluginsync_should_sync_features.pvzcX4

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:37$  chmod 755 /tmp/pluginsync_should_sync_features.pvzcX4  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:37$  mktemp -dt pluginsync_should_sync_features.XXXXXX  
/tmp/pluginsync_should_sync_features.YKER6O

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:37$  chmod 755 /tmp/pluginsync_should_sync_features.YKER6O  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * write our simple module out to the master

n6vo88vhlunm0j0 (centos6-64-1) 13:18:37$  mkdir -p /tmp/pluginsync_should_sync_features.pvzcX4/master_modules/superbogus/lib/puppet/type  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-cezp7v centos6-64-1:/tmp/pluginsync_should_sync_features.pvzcX4/master_modules/superbogus/lib/puppet/type/superbogus.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  chown root:puppet /tmp/pluginsync_should_sync_features.pvzcX4/master_modules/superbogus/lib/puppet/type/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  chmod 755 /tmp/pluginsync_should_sync_features.pvzcX4/master_modules/superbogus/lib/puppet/type/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  mkdir -p /tmp/pluginsync_should_sync_features.pvzcX4/master_modules/superbogus/lib/puppet/feature  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1iowt5 centos6-64-1:/tmp/pluginsync_should_sync_features.pvzcX4/master_modules/superbogus/lib/puppet/feature/superbogus.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  chown root:puppet /tmp/pluginsync_should_sync_features.pvzcX4/master_modules/superbogus/lib/puppet/feature/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  chmod 755 /tmp/pluginsync_should_sync_features.pvzcX4/master_modules/superbogus/lib/puppet/feature/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  mkdir -p /tmp/pluginsync_should_sync_features.pvzcX4/master_manifest  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xr9gv6 centos6-64-1:/tmp/pluginsync_should_sync_features.pvzcX4/master_manifest/site.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  chown root:puppet /tmp/pluginsync_should_sync_features.pvzcX4/master_manifest/site.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  chmod 755 /tmp/pluginsync_should_sync_features.pvzcX4/master_manifest/site.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * verify that the module and manifest files exist on the master

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  test -f "/tmp/pluginsync_should_sync_features.pvzcX4/master_modules/superbogus/lib/puppet/feature/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  test -f "/tmp/pluginsync_should_sync_features.pvzcX4/master_modules/superbogus/lib/puppet/type/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  test -f "/tmp/pluginsync_should_sync_features.pvzcX4/master_manifest/site.pp"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * start the master

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  mktemp -dt pluginsync_should_sync_features.rb.XXXXXX  
/tmp/pluginsync_should_sync_features.rb.kbOWmv

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  cp /etc/puppet/puppet.conf /tmp/pluginsync_should_sync_features.rb.kbOWmv/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:38$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-wfhug7 centos6-64-1:/tmp/pluginsync_should_sync_features.rb.kbOWmv/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:39$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
manifest = /tmp/pluginsync_should_sync_features.pvzcX4/master_manifest/site.pp
modulepath = /tmp/pluginsync_should_sync_features.pvzcX4/master_modules
node_terminus = plain

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.53 seconds
Waiting for the puppet master to start
The puppet master has started

  * verify that the module files don't exist on the agent path

n6vo88vhlunm0j0 (centos6-64-1) 13:18:40$  test -f "/tmp/pluginsync_should_sync_features.pvzcX4/agent_lib/puppet/feature/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:18:40$  test -f "/tmp/pluginsync_should_sync_features.pvzcX4/agent_lib/puppet/type/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:18:40$  test -f "/tmp/pluginsync_should_sync_features.YKER6O/agent_lib/puppet/feature/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:18:40$  test -f "/tmp/pluginsync_should_sync_features.YKER6O/agent_lib/puppet/type/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
Exited: 1

  * run the agent and verify that it loaded the feature

n6vo88vhlunm0j0 (centos6-64-1) 13:18:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --trace --libdir="/tmp/pluginsync_should_sync_features.pvzcX4/agent_lib" --pluginsync --no-daemonize --verbose --onetime --test --server n6vo88vhlunm0j0
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `each'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:325:in `initialize_app_defaults'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:152:in `do_initialize_settings_for_run_mode'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:136:in `initialize_settings'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:86:in `execute'; /usr/lib/ruby/site_ruby/1.8/puppet/util.rb:479:in `exit_on_fail'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:85:in `execute'; /usr/bin/puppet:8)
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `each'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:325:in `initialize_app_defaults'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:152:in `do_initialize_settings_for_run_mode'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:136:in `initialize_settings'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:86:in `execute'; /usr/lib/ruby/site_ruby/1.8/puppet/util.rb:479:in `exit_on_fail'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:85:in `execute'; /usr/bin/puppet:8)
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/tmp/pluginsync_should_sync_features.pvzcX4/agent_lib/puppet]/ensure: created
Notice: /File[/tmp/pluginsync_should_sync_features.pvzcX4/agent_lib/puppet/type]/ensure: created
Notice: /File[/tmp/pluginsync_should_sync_features.pvzcX4/agent_lib/puppet/type/superbogus.rb]/ensure: defined content as '{md5}3ccbd7818e9e2a4c795fe4b27938d30c'
Notice: /File[/tmp/pluginsync_should_sync_features.pvzcX4/agent_lib/puppet/feature]/ensure: created
Notice: /File[/tmp/pluginsync_should_sync_features.pvzcX4/agent_lib/puppet/feature/superbogus.rb]/ensure: defined content as '{md5}d7e6da1ab1d425e88620a9516debb9ed'
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403122724'
Info: superbogus feature being queried
Info: The value of the superbogus feature is: true
Notice: /Stage[main]/Main/Superbogus[This is the title of the superbogus type instance in site.pp]/testfeature: defined 'testfeature' as 'Hi.  I'm setting the testfeature property of superbogus here in site.pp'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.04 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:18:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --trace --libdir="/tmp/pluginsync_should_sync_features.YKER6O/agent_lib" --pluginsync --no-daemonize --verbose --onetime --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/tmp/pluginsync_should_sync_features.YKER6O/agent_lib/puppet]/ensure: created
Notice: /File[/tmp/pluginsync_should_sync_features.YKER6O/agent_lib/puppet/feature]/ensure: created
Notice: /File[/tmp/pluginsync_should_sync_features.YKER6O/agent_lib/puppet/feature/superbogus.rb]/ensure: defined content as '{md5}d7e6da1ab1d425e88620a9516debb9ed'
Notice: /File[/tmp/pluginsync_should_sync_features.YKER6O/agent_lib/puppet/type]/ensure: created
Notice: /File[/tmp/pluginsync_should_sync_features.YKER6O/agent_lib/puppet/type/superbogus.rb]/ensure: defined content as '{md5}3ccbd7818e9e2a4c795fe4b27938d30c'
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403122724'
Info: superbogus feature being queried
Info: The value of the superbogus feature is: true
Notice: /Stage[main]/Main/Superbogus[This is the title of the superbogus type instance in site.pp]/testfeature: defined 'testfeature' as 'Hi.  I'm setting the testfeature property of superbogus here in site.pp'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.48 seconds
Exited: 2

  * verify that the module files were synced down to the agent

n6vo88vhlunm0j0 (centos6-64-1) 13:18:48$  test -f "/tmp/pluginsync_should_sync_features.pvzcX4/agent_lib/puppet/feature/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:48$  test -f "/tmp/pluginsync_should_sync_features.pvzcX4/agent_lib/puppet/type/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:48$  test -f "/tmp/pluginsync_should_sync_features.YKER6O/agent_lib/puppet/feature/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:48$  test -f "/tmp/pluginsync_should_sync_features.YKER6O/agent_lib/puppet/type/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * run the agent again

n6vo88vhlunm0j0 (centos6-64-1) 13:18:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --trace --libdir="/tmp/pluginsync_should_sync_features.pvzcX4/agent_lib" --pluginsync --no-daemonize --verbose --onetime --test --server n6vo88vhlunm0j0
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `each'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:325:in `initialize_app_defaults'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:152:in `do_initialize_settings_for_run_mode'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:136:in `initialize_settings'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:86:in `execute'; /usr/lib/ruby/site_ruby/1.8/puppet/util.rb:479:in `exit_on_fail'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:85:in `execute'; /usr/bin/puppet:8)
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `each'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:325:in `initialize_app_defaults'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:152:in `do_initialize_settings_for_run_mode'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:136:in `initialize_settings'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:86:in `execute'; /usr/lib/ruby/site_ruby/1.8/puppet/util.rb:479:in `exit_on_fail'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:85:in `execute'; /usr/bin/puppet:8)
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403122724'
Info: superbogus feature being queried
Info: The value of the superbogus feature is: true
Notice: /Stage[main]/Main/Superbogus[This is the title of the superbogus type instance in site.pp]/testfeature: defined 'testfeature' as 'Hi.  I'm setting the testfeature property of superbogus here in site.pp'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.06 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:18:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --trace --libdir="/tmp/pluginsync_should_sync_features.YKER6O/agent_lib" --pluginsync --no-daemonize --verbose --onetime --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403122724'
Info: superbogus feature being queried
Info: The value of the superbogus feature is: true
Notice: /Stage[main]/Main/Superbogus[This is the title of the superbogus type instance in site.pp]/testfeature: defined 'testfeature' as 'Hi.  I'm setting the testfeature property of superbogus here in site.pp'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.21 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:18:54$  if [ -f '/tmp/pluginsync_should_sync_features.rb.kbOWmv/puppet.conf.bak' ]; then cat '/tmp/pluginsync_should_sync_features.rb.kbOWmv/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/pluginsync_should_sync_features.rb.kbOWmv/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:54$  cat `puppet master --configprint pidfile`  
26460
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.78 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:55$  kill 26460  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:55$  kill -0 26460  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:56$  kill -0 26460  
bash: line 0: kill: (26460) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:18:56$  rm -rf /tmp/pluginsync_should_sync_features.pvzcX4  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:18:56$  rm -rf /tmp/pluginsync_should_sync_features.YKER6O  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.21 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/pluginsync" name="files_earlier_in_modulepath_take_precendence.rb" time="12.843646"><system-out><![CDATA[
earlier modules take precendence over later modules in the modulepath

  * Create some modules in the modulepath

n6vo88vhlunm0j0 (centos6-64-1) 13:18:57$  mktemp -dt module_precedence.XXXXXX  
/tmp/module_precedence.U2A8AG

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:18:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XqtGeb

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-yxnxbt centos6-64-1:/tmp/apply_manifest.pp.XqtGeb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:18:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XqtGeb
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.18 seconds
Info: Applying configuration version '1403122738'
Notice: /Stage[main]/Main/Exec[mod1path]/returns: executed successfully
Notice: /Stage[main]/Main/File[mod1]/ensure: defined content as '{md5}3fb5d310969466a028e2c7b02cf04c0c'
Notice: /Stage[main]/Main/Exec[mod2path]/returns: executed successfully
Notice: /Stage[main]/Main/File[mod2]/ensure: defined content as '{md5}f878b19398624104f9709bbb3f2869cd'
Notice: /Stage[main]/Main/File[/tmp/module_precedence.U2A8AG]/owner: owner changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/module_precedence.U2A8AG/1]/owner: owner changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/module_precedence.U2A8AG/1/a]/owner: owner changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/module_precedence.U2A8AG/1/a/lib]/owner: owner changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/module_precedence.U2A8AG/2]/owner: owner changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/module_precedence.U2A8AG/2/a]/owner: owner changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/module_precedence.U2A8AG/2/a/lib]/owner: owner changed 'root' to 'puppet'
Notice: Finished catalog run in 0.37 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.69 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:00$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:00$  cp /etc/puppet/puppet.conf /tmp/module_precedence.U2A8AG/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:00$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1c6g3to centos6-64-1:/tmp/module_precedence.U2A8AG/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:00$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
modulepath = /tmp/module_precedence.U2A8AG/1:/tmp/module_precedence.U2A8AG/2
node_terminus = plain

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.44 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:19:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/var/lib/puppet/lib/foo.rb]/ensure: defined content as '{md5}3fb5d310969466a028e2c7b02cf04c0c'
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403122745'
Notice: Finished catalog run in 0.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.63 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:05$  cat /var/lib/puppet/lib/foo.rb  
'from the first module'
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:19:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/var/lib/puppet/lib/foo.rb]/ensure: defined content as '{md5}3fb5d310969466a028e2c7b02cf04c0c'
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403122745'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.10 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:19:08$  cat /var/lib/puppet/lib/foo.rb  
'from the first module'
t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:09$  if [ -f '/tmp/module_precedence.U2A8AG/puppet.conf.bak' ]; then cat '/tmp/module_precedence.U2A8AG/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/module_precedence.U2A8AG/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:09$  cat `puppet master --configprint pidfile`  
26907
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.76 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:09$  kill 26907  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:09$  kill -0 26907  
bash: line 0: kill: (26907) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="puppet_apply_a_file_should_create_a_file_and_report_the_md5.rb" time="5.012563"><system-out><![CDATA[
puppet apply should create a file and report an MD5

n6vo88vhlunm0j0 (centos6-64-1) 13:19:09$  mktemp -t hello-world.XXXXXX  
/tmp/hello-world.SETBYg

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

  * clean up /tmp/hello-world.SETBYg for testing

n6vo88vhlunm0j0 (centos6-64-1) 13:19:09$  rm -f /tmp/hello-world.SETBYg  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Run the manifest and verify MD5 was printed

n6vo88vhlunm0j0 (centos6-64-1) 13:19:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.3hrYnD

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1eedx9h centos6-64-1:/tmp/apply_manifest.pp.3hrYnD {}

n6vo88vhlunm0j0 (centos6-64-1) 13:19:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.3hrYnD
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122751'
Notice: /Stage[main]/Main/File[/tmp/hello-world.SETBYg]/ensure: defined content as '{md5}098f6bcd4621d373cade4e832627b4f6'
Notice: Finished catalog run in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.31 seconds

  * clean up /tmp/hello-world.SETBYg after testing

n6vo88vhlunm0j0 (centos6-64-1) 13:19:12$  rm -f /tmp/hello-world.SETBYg  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:19:12$  mktemp -t hello-world.XXXXXX  
/tmp/hello-world.f8h8Mr

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * clean up /tmp/hello-world.f8h8Mr for testing

t21rjumdkqr2x5d (centos6-64-2) 13:19:12$  rm -f /tmp/hello-world.f8h8Mr  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * Run the manifest and verify MD5 was printed

t21rjumdkqr2x5d (centos6-64-2) 13:19:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XZiF4q

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zlouz4 centos6-64-2:/tmp/apply_manifest.pp.XZiF4q {}

t21rjumdkqr2x5d (centos6-64-2) 13:19:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XZiF4q
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403122754'
Notice: /Stage[main]/Main/File[/tmp/hello-world.f8h8Mr]/ensure: defined content as '{md5}098f6bcd4621d373cade4e832627b4f6'
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.11 seconds

  * clean up /tmp/hello-world.f8h8Mr after testing

t21rjumdkqr2x5d (centos6-64-2) 13:19:14$  rm -f /tmp/hello-world.f8h8Mr  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="puppet_apply_basics.rb" time="5.198064"><system-out><![CDATA[
Trivial puppet tests

  * check that puppet apply displays notices

n6vo88vhlunm0j0 (centos6-64-1) 13:19:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.x00WRq

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ra3vzt centos6-64-1:/tmp/apply_manifest.pp.x00WRq {}

n6vo88vhlunm0j0 (centos6-64-1) 13:19:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.x00WRq
Notice: Scope(Class[main]): Hello World
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.06 seconds
Info: Applying configuration version '1403122756'
Notice: Finished catalog run in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.30 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:19:17$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.UaxZu7

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1bc60gr centos6-64-2:/tmp/apply_manifest.pp.UaxZu7 {}

t21rjumdkqr2x5d (centos6-64-2) 13:19:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.UaxZu7
Notice: Scope(Class[main]): Hello World
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403122758'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.92 seconds

  * verify help displays something for puppet master

n6vo88vhlunm0j0 (centos6-64-1) 13:19:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  --help

puppet-master(8) -- The puppet master daemon
========

SYNOPSIS
--------
The central puppet server. Functions as a certificate authority by
default.


USAGE
-----
puppet master [-D|--daemonize|--no-daemonize] [-d|--debug] [-h|--help]
  [-l|--logdest <file>|console|syslog] [-v|--verbose] [-V|--version]
  [--compile <node-name>]


DESCRIPTION
-----------
This command starts an instance of puppet master, running as a daemon
and using Ruby's built-in Webrick webserver. Puppet master can also be
managed by other application servers; when this is the case, this
executable is not used.


OPTIONS
-------

Note that any Puppet setting that's valid in the configuration file is also a
valid long argument. For example, 'server' is a valid setting, so you can
specify '--server <servername>' as an argument. Boolean settings translate into
'--setting' and '--no-setting' pairs.

See the configuration file documentation at
http://docs.puppetlabs.com/references/stable/configuration.html for the
full list of acceptable settings. A commented list of all settings can also be
generated by running puppet master with '--genconfig'.

* --daemonize:
  Send the process into the background. This is the default.
  (This is a Puppet setting, and can go in puppet.conf. Note the special 'no-'
  prefix for boolean settings on the command line.)

* --no-daemonize:
  Do not send the process into the background.
  (This is a Puppet setting, and can go in puppet.conf. Note the special 'no-'
  prefix for boolean settings on the command line.)

* --debug:
  Enable full debugging.

* --help:
  Print this help message.

* --logdest:
  Where to send messages. Choose between syslog, the console, and a log
  file. Defaults to sending messages to syslog, or the console if
  debugging or verbosity is enabled.

* --masterport:
  The port on which to listen for traffic.
  (This is a Puppet setting, and can go in puppet.conf.)

* --verbose:
  Enable verbosity.

* --version:
  Print the puppet version number and exit.

* --compile:
  Compile a catalogue and output it in JSON from the puppet master. Uses
  facts contained in the $vardir/yaml/ directory to compile the catalog.


EXAMPLE
-------
  puppet master

DIAGNOSTICS
-----------

When running as a standalone daemon, puppet master accepts the
following signals:

* SIGHUP:
  Restart the puppet master server.
* SIGINT and SIGTERM:
  Shut down the puppet master server.
* SIGUSR2:
  Close file descriptors for log files and reopen them. Used with logrotate.

AUTHOR
------
Luke Kanies


COPYRIGHT
---------
Copyright (c) 2012 Puppet Labs, LLC Licensed under the Apache 2.0 License


n6vo88vhlunm0j0 (centos6-64-1) executed in 0.65 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="puppet_apply_should_show_a_notice.rb" time="4.553562"><system-out><![CDATA[
puppet apply should show a notice

n6vo88vhlunm0j0 (centos6-64-1) 13:19:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.kpy5L8

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1b0k5uq centos6-64-1:/tmp/apply_manifest.pp.kpy5L8 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:19:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.kpy5L8
Notice: Scope(Class[main]): Hello World
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.06 seconds
Info: Applying configuration version '1403122761'
Notice: Finished catalog run in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.14 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:19:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.FvOn3I

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-qo7ymc centos6-64-2:/tmp/apply_manifest.pp.FvOn3I {}

t21rjumdkqr2x5d (centos6-64-2) 13:19:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.FvOn3I
Notice: Scope(Class[main]): Hello World
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403122763'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.19 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="puppet_master_help_should_mention_puppet_master.rb" time="0.708743"><system-out><![CDATA[
puppet master help should mention puppet master

n6vo88vhlunm0j0 (centos6-64-1) 13:19:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  --help

puppet-master(8) -- The puppet master daemon
========

SYNOPSIS
--------
The central puppet server. Functions as a certificate authority by
default.


USAGE
-----
puppet master [-D|--daemonize|--no-daemonize] [-d|--debug] [-h|--help]
  [-l|--logdest <file>|console|syslog] [-v|--verbose] [-V|--version]
  [--compile <node-name>]


DESCRIPTION
-----------
This command starts an instance of puppet master, running as a daemon
and using Ruby's built-in Webrick webserver. Puppet master can also be
managed by other application servers; when this is the case, this
executable is not used.


OPTIONS
-------

Note that any Puppet setting that's valid in the configuration file is also a
valid long argument. For example, 'server' is a valid setting, so you can
specify '--server <servername>' as an argument. Boolean settings translate into
'--setting' and '--no-setting' pairs.

See the configuration file documentation at
http://docs.puppetlabs.com/references/stable/configuration.html for the
full list of acceptable settings. A commented list of all settings can also be
generated by running puppet master with '--genconfig'.

* --daemonize:
  Send the process into the background. This is the default.
  (This is a Puppet setting, and can go in puppet.conf. Note the special 'no-'
  prefix for boolean settings on the command line.)

* --no-daemonize:
  Do not send the process into the background.
  (This is a Puppet setting, and can go in puppet.conf. Note the special 'no-'
  prefix for boolean settings on the command line.)

* --debug:
  Enable full debugging.

* --help:
  Print this help message.

* --logdest:
  Where to send messages. Choose between syslog, the console, and a log
  file. Defaults to sending messages to syslog, or the console if
  debugging or verbosity is enabled.

* --masterport:
  The port on which to listen for traffic.
  (This is a Puppet setting, and can go in puppet.conf.)

* --verbose:
  Enable verbosity.

* --version:
  Print the puppet version number and exit.

* --compile:
  Compile a catalogue and output it in JSON from the puppet master. Uses
  facts contained in the $vardir/yaml/ directory to compile the catalog.


EXAMPLE
-------
  puppet master

DIAGNOSTICS
-----------

When running as a standalone daemon, puppet master accepts the
following signals:

* SIGHUP:
  Restart the puppet master server.
* SIGINT and SIGTERM:
  Shut down the puppet master server.
* SIGUSR2:
  Close file descriptors for log files and reopen them. Used with logrotate.

AUTHOR
------
Luke Kanies


COPYRIGHT
---------
Copyright (c) 2012 Puppet Labs, LLC Licensed under the Apache 2.0 License


n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/reports" name="submission.rb" time="9.436719"><system-out><![CDATA[
Report submission

n6vo88vhlunm0j0 (centos6-64-1) 13:19:25$  mktemp -dt report_submission.XXXXXX  
/tmp/report_submission.xFqyiR

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:25$  mktemp -dt submission.rb.XXXXXX  
/tmp/submission.rb.0kh3nn

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:25$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:25$  cp /etc/puppet/puppet.conf /tmp/submission.rb.0kh3nn/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:25$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1szat0 centos6-64-1:/tmp/submission.rb.0kh3nn/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:25$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[main]
reportdir = /tmp/report_submission.xFqyiR
reports = store

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.59 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:19:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/var/lib/puppet/lib/foo.rb]/ensure: removed
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403122770'
Notice: Finished catalog run in 0.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.26 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:30$  grep -q n6vo88vhlunm0j0 /tmp/report_submission.xFqyiR/*/*  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:19:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/var/lib/puppet/lib/foo.rb]/ensure: removed
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403122770'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:33$  grep -q t21rjumdkqr2x5d /tmp/report_submission.xFqyiR/*/*  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:33$  if [ -f '/tmp/submission.rb.0kh3nn/puppet.conf.bak' ]; then cat '/tmp/submission.rb.0kh3nn/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/submission.rb.0kh3nn/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:33$  cat `puppet master --configprint pidfile`  
27472
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.61 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:34$  kill 27472  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:34$  kill -0 27472  
bash: line 0: kill: (27472) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:19:34$  rm -rf /tmp/report_submission.xFqyiR  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/cron" name="should_allow_changing_parameters.rb" time="46.808755"><system-out><![CDATA[
Cron: should allow changing parameters after creation

  * ensure the user exist via puppet

n6vo88vhlunm0j0 (centos6-64-1) 13:19:34$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.BQruxE

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.17 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-11bo0eq centos6-64-1:/tmp/apply_manifest.pp.BQruxE {}

n6vo88vhlunm0j0 (centos6-64-1) 13:19:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BQruxE
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.25 seconds
Info: Applying configuration version '1403122776'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.53 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:37$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.DYooZm

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zioui0 centos6-64-1:/tmp/apply_manifest.pp.DYooZm {}

n6vo88vhlunm0j0 (centos6-64-1) 13:19:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DYooZm
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.64 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122779'
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.17 seconds

  * Cron: basic - verify that it can be created

n6vo88vhlunm0j0 (centos6-64-1) 13:19:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.gu6Bqf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ayndk2 centos6-64-1:/tmp/apply_manifest.pp.gu6Bqf {}

n6vo88vhlunm0j0 (centos6-64-1) 13:19:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.gu6Bqf
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403122782'
Notice: /Stage[main]/Main/Cron[myjob]/ensure: created
Notice: Finished catalog run in 0.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.28 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:43$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:19:43 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 * * * * /bin/false

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

  * Cron: allow changing command

n6vo88vhlunm0j0 (centos6-64-1) 13:19:43$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.xelpPI

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-15uytal centos6-64-1:/tmp/apply_manifest.pp.xelpPI {}

n6vo88vhlunm0j0 (centos6-64-1) 13:19:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.xelpPI
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403122784'
Notice: /Stage[main]/Main/Cron[myjob]/command: command changed '/bin/false' to '/bin/true'
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.24 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:45$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:19:45 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 * * * * /bin/true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Cron: allow changing time

n6vo88vhlunm0j0 (centos6-64-1) 13:19:45$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.T37uk5

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1w1umoq centos6-64-1:/tmp/apply_manifest.pp.T37uk5 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:19:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.T37uk5
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403122787'
Notice: /Stage[main]/Main/Cron[myjob]/hour: defined 'hour' as '1'
Notice: Finished catalog run in 0.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.41 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:48$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:19:48 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 1 * * * /bin/true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * Cron: allow changing time(array)

n6vo88vhlunm0j0 (centos6-64-1) 13:19:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.y9YDwm

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ejoifk centos6-64-1:/tmp/apply_manifest.pp.y9YDwm {}

n6vo88vhlunm0j0 (centos6-64-1) 13:19:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.y9YDwm
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403122790'
Notice: /Stage[main]/Main/Cron[myjob]/hour: hour changed '1' to '1,2'
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.34 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:50$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:19:50 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 1,2 * * * /bin/true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Cron: allow changing time(array modification)

n6vo88vhlunm0j0 (centos6-64-1) 13:19:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.YmeSob

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ldy073 centos6-64-1:/tmp/apply_manifest.pp.YmeSob {}

n6vo88vhlunm0j0 (centos6-64-1) 13:19:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YmeSob
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.06 seconds
Info: Applying configuration version '1403122792'
Notice: /Stage[main]/Main/Cron[myjob]/hour: hour changed '1,2' to '3,2'
Notice: Finished catalog run in 0.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.26 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:53$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:19:53 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 3,2 * * * /bin/true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

  * Cron: allow changing time(array modification to *)

n6vo88vhlunm0j0 (centos6-64-1) 13:19:53$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.CTOQlw

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1caa87n centos6-64-1:/tmp/apply_manifest.pp.CTOQlw {}

n6vo88vhlunm0j0 (centos6-64-1) 13:19:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.CTOQlw
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403122795'
Notice: /Stage[main]/Main/Cron[myjob]/minute: undefined 'minute' from '1'
Notice: /Stage[main]/Main/Cron[myjob]/hour: undefined 'hour' from '3,2'
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.26 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:19:55$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:19:55 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
* * * * * /bin/true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.13 seconds

  * ensure the user exist via puppet

t21rjumdkqr2x5d (centos6-64-2) 13:19:56$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.iEpoxf

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1i4iu45 centos6-64-2:/tmp/apply_manifest.pp.iEpoxf {}

t21rjumdkqr2x5d (centos6-64-2) 13:19:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.iEpoxf
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122797'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.15 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.88 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:19:58$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.rvYqBS

t21rjumdkqr2x5d (centos6-64-2) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-188lqw3 centos6-64-2:/tmp/apply_manifest.pp.rvYqBS {}

t21rjumdkqr2x5d (centos6-64-2) 13:19:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.rvYqBS
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.37 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122799'
Notice: Finished catalog run in 0.15 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.42 seconds

  * Cron: basic - verify that it can be created

t21rjumdkqr2x5d (centos6-64-2) 13:20:00$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.RkKGvI

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1jn17pd centos6-64-2:/tmp/apply_manifest.pp.RkKGvI {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.RkKGvI
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403122802'
Notice: /Stage[main]/Main/Cron[myjob]/ensure: created
Notice: Finished catalog run in 0.16 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.62 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:03$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:20:03 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 * * * * /bin/false

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * Cron: allow changing command

t21rjumdkqr2x5d (centos6-64-2) 13:20:03$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.IoFgNK

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10rj2o5 centos6-64-2:/tmp/apply_manifest.pp.IoFgNK {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.IoFgNK
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.39 seconds
Info: Applying configuration version '1403122806'
Notice: /Stage[main]/Main/Cron[myjob]/command: command changed '/bin/false' to '/bin/true'
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 4.01 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:07$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:20:07 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 * * * * /bin/true

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * Cron: allow changing time

t21rjumdkqr2x5d (centos6-64-2) 13:20:07$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.fZ1m4V

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1iignd7 centos6-64-2:/tmp/apply_manifest.pp.fZ1m4V {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.fZ1m4V
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403122809'
Notice: /Stage[main]/Main/Cron[myjob]/hour: defined 'hour' as '1'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.08 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:10$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:20:10 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 1 * * * /bin/true

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * Cron: allow changing time(array)

t21rjumdkqr2x5d (centos6-64-2) 13:20:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XcnHCp

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-qv1atb centos6-64-2:/tmp/apply_manifest.pp.XcnHCp {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XcnHCp
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403122811'
Notice: /Stage[main]/Main/Cron[myjob]/hour: hour changed '1' to '1,2'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:12$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:20:12 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 1,2 * * * /bin/true

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * Cron: allow changing time(array modification)

t21rjumdkqr2x5d (centos6-64-2) 13:20:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.yHSxqq

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-neo0uv centos6-64-2:/tmp/apply_manifest.pp.yHSxqq {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yHSxqq
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403122813'
Notice: /Stage[main]/Main/Cron[myjob]/hour: hour changed '1,2' to '3,2'
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.17 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:14$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:20:14 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 3,2 * * * /bin/true

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * Cron: allow changing time(array modification to *)

t21rjumdkqr2x5d (centos6-64-2) 13:20:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.E28SYN

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ut5mia centos6-64-2:/tmp/apply_manifest.pp.E28SYN {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.E28SYN
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403122815'
Notice: /Stage[main]/Main/Cron[myjob]/minute: undefined 'minute' from '1'
Notice: /Stage[main]/Main/Cron[myjob]/hour: undefined 'hour' from '3,2'
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.18 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:17$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:20:16 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
* * * * * /bin/true

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

  * Cron: cleanup

n6vo88vhlunm0j0 (centos6-64-1) 13:20:17$  crontab -r -u tstuser  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:20:17$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.i1orio

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1oacq88 centos6-64-1:/tmp/apply_manifest.pp.i1orio {}

n6vo88vhlunm0j0 (centos6-64-1) 13:20:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.i1orio
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.20 seconds
Info: Applying configuration version '1403122818'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.24 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.28 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:19$  crontab -r -u tstuser  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:19$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.LkyX41

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-caae0b centos6-64-2:/tmp/apply_manifest.pp.LkyX41 {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LkyX41
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403122820'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.12 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.89 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/cron" name="should_be_idempotent.rb" time="24.688285"><system-out><![CDATA[
Cron: check idempotency

  * ensure the user exist via puppet

n6vo88vhlunm0j0 (centos6-64-1) 13:20:21$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.U8c5Lt

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-niuv7z centos6-64-1:/tmp/apply_manifest.pp.U8c5Lt {}

n6vo88vhlunm0j0 (centos6-64-1) 13:20:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.U8c5Lt
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.17 seconds
Info: Applying configuration version '1403122823'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.25 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:20:24$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.AsIvOw

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ss5d55 centos6-64-1:/tmp/apply_manifest.pp.AsIvOw {}

n6vo88vhlunm0j0 (centos6-64-1) 13:20:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.AsIvOw
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.64 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122825'
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.88 seconds

  * Cron: basic - verify that it can be created

n6vo88vhlunm0j0 (centos6-64-1) 13:20:27$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Hhde7p

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ajhuct centos6-64-1:/tmp/apply_manifest.pp.Hhde7p {}

n6vo88vhlunm0j0 (centos6-64-1) 13:20:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Hhde7p
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403122828'
Notice: /Stage[main]/Main/Cron[myjob]/ensure: created
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.39 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:20:29$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:20:29 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 * * * * /bin/true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Cron: basic - should not create again

n6vo88vhlunm0j0 (centos6-64-1) 13:20:29$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.2o1i35

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-rru2iq centos6-64-1:/tmp/apply_manifest.pp.2o1i35 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:20:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.2o1i35
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403122831'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.22 seconds

  * ensure the user exist via puppet

t21rjumdkqr2x5d (centos6-64-2) 13:20:32$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ZeUqcc

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1kobkeu centos6-64-2:/tmp/apply_manifest.pp.ZeUqcc {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZeUqcc
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403122833'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.12 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.31 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:34$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.zJegLC

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-bkos2a centos6-64-2:/tmp/apply_manifest.pp.zJegLC {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.zJegLC
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.34 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122835'
Notice: Finished catalog run in 0.23 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.57 seconds

  * Cron: basic - verify that it can be created

t21rjumdkqr2x5d (centos6-64-2) 13:20:37$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.YEjoaw

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-iyembp centos6-64-2:/tmp/apply_manifest.pp.YEjoaw {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YEjoaw
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403122838'
Notice: /Stage[main]/Main/Cron[myjob]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.90 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:39$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:20:39 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: myjob
1 * * * * /bin/true

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * Cron: basic - should not create again

t21rjumdkqr2x5d (centos6-64-2) 13:20:39$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Sal0hV

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zktrad centos6-64-2:/tmp/apply_manifest.pp.Sal0hV {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Sal0hV
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403122840'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.94 seconds

  * Cron: cleanup

n6vo88vhlunm0j0 (centos6-64-1) 13:20:41$  crontab -r -u tstuser  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:20:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.FUdOWV

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-p4ayvk centos6-64-1:/tmp/apply_manifest.pp.FUdOWV {}

n6vo88vhlunm0j0 (centos6-64-1) 13:20:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.FUdOWV
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.17 seconds
Info: Applying configuration version '1403122843'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.25 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.46 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:44$  crontab -r -u tstuser  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:44$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.YT38ZO

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1occ14p centos6-64-2:/tmp/apply_manifest.pp.YT38ZO {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YT38ZO
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.17 seconds
Info: Applying configuration version '1403122845'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.91 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/cron" name="should_create_cron.rb" time="17.478502"><system-out><![CDATA[
should create cron

  * ensure the user exist via puppet

n6vo88vhlunm0j0 (centos6-64-1) 13:20:46$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.lDTPJ7

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-18d1ad6 centos6-64-1:/tmp/apply_manifest.pp.lDTPJ7 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:20:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.lDTPJ7
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.18 seconds
Info: Applying configuration version '1403122847'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.22 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:20:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Z5bedE

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ktw8na centos6-64-1:/tmp/apply_manifest.pp.Z5bedE {}

n6vo88vhlunm0j0 (centos6-64-1) 13:20:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Z5bedE
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.42 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122850'
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.84 seconds

  * apply the resource on the host using puppet resource

n6vo88vhlunm0j0 (centos6-64-1) 13:20:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command=/bin/true ensure=present
Notice: /Cron[crontest]/ensure: created
cron { 'crontest':
  ensure  => 'present',
  command => '/bin/true',
  target  => 'tstuser',
  user    => 'tstuser',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.04 seconds

  * verify that crontab -l contains what you expected

n6vo88vhlunm0j0 (centos6-64-1) 13:20:52$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:20:52 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: crontest
* * * * * /bin/true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * ensure the user exist via puppet

t21rjumdkqr2x5d (centos6-64-2) 13:20:52$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.4tW2sq

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-170vh9v centos6-64-2:/tmp/apply_manifest.pp.4tW2sq {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4tW2sq
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.21 seconds
Info: Applying configuration version '1403122854'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.20 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.34 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:20:55$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.KJJS8A

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1qigpfb centos6-64-2:/tmp/apply_manifest.pp.KJJS8A {}

t21rjumdkqr2x5d (centos6-64-2) 13:20:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.KJJS8A
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.49 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122856'
Notice: Finished catalog run in 0.15 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.51 seconds

  * apply the resource on the host using puppet resource

t21rjumdkqr2x5d (centos6-64-2) 13:20:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command=/bin/true ensure=present
Notice: /Cron[crontest]/ensure: created
cron { 'crontest':
  ensure  => 'present',
  command => '/bin/true',
  target  => 'tstuser',
  user    => 'tstuser',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.03 seconds

  * verify that crontab -l contains what you expected

t21rjumdkqr2x5d (centos6-64-2) 13:20:58$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:20:58 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: crontest
* * * * * /bin/true

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * Cron: cleanup

n6vo88vhlunm0j0 (centos6-64-1) 13:20:58$  crontab -r -u tstuser  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:20:58$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ilJK9Q

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ffu7w7 centos6-64-1:/tmp/apply_manifest.pp.ilJK9Q {}

n6vo88vhlunm0j0 (centos6-64-1) 13:20:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ilJK9Q
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.19 seconds
Info: Applying configuration version '1403122860'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.38 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:21:01$  crontab -r -u tstuser  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:21:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.b6NbBc

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1t2ur0z centos6-64-2:/tmp/apply_manifest.pp.b6NbBc {}

t21rjumdkqr2x5d (centos6-64-2) 13:21:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.b6NbBc
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403122862'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.17 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/cron" name="should_match_existing.rb" time="17.053164"><system-out><![CDATA[
puppet should match existing job

  * ensure the user exist via puppet

n6vo88vhlunm0j0 (centos6-64-1) 13:21:03$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.hSYXJn

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1w8ee7h centos6-64-1:/tmp/apply_manifest.pp.hSYXJn {}

n6vo88vhlunm0j0 (centos6-64-1) 13:21:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hSYXJn
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.18 seconds
Info: Applying configuration version '1403122865'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.28 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:21:06$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.f15eT9

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1r24eb2 centos6-64-1:/tmp/apply_manifest.pp.f15eT9 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:21:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.f15eT9
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.53 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122867'
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.74 seconds

  * Create the existing cron job by hand...

n6vo88vhlunm0j0 (centos6-64-1) 13:21:09$  echo '* * * * * /bin/true' > /tmp/tstuser.cron && crontab -u tstuser /tmp/tstuser.cron  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Apply the resource on the host using puppet resource

n6vo88vhlunm0j0 (centos6-64-1) 13:21:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command=/bin/true ensure=present
cron { 'crontest':
  ensure  => 'present',
  command => '/bin/true',
  target  => 'tstuser',
  user    => 'tstuser',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.09 seconds

  * Verify that crontab -l contains what you expected

n6vo88vhlunm0j0 (centos6-64-1) 13:21:10$  crontab -l -u tstuser  
* * * * * /bin/true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * ensure the user exist via puppet

t21rjumdkqr2x5d (centos6-64-2) 13:21:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ZDQreb

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-yti750 centos6-64-2:/tmp/apply_manifest.pp.ZDQreb {}

t21rjumdkqr2x5d (centos6-64-2) 13:21:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZDQreb
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403122871'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.15 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.17 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:21:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.8ATHup

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-6k78gz centos6-64-2:/tmp/apply_manifest.pp.8ATHup {}

t21rjumdkqr2x5d (centos6-64-2) 13:21:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.8ATHup
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.37 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122873'
Notice: Finished catalog run in 0.20 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.25 seconds

  * Create the existing cron job by hand...

t21rjumdkqr2x5d (centos6-64-2) 13:21:15$  echo '* * * * * /bin/true' > /tmp/tstuser.cron && crontab -u tstuser /tmp/tstuser.cron  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * Apply the resource on the host using puppet resource

t21rjumdkqr2x5d (centos6-64-2) 13:21:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command=/bin/true ensure=present
cron { 'crontest':
  ensure  => 'present',
  command => '/bin/true',
  target  => 'tstuser',
  user    => 'tstuser',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.94 seconds

  * Verify that crontab -l contains what you expected

t21rjumdkqr2x5d (centos6-64-2) 13:21:16$  crontab -l -u tstuser  
* * * * * /bin/true

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * Cron: cleanup

n6vo88vhlunm0j0 (centos6-64-1) 13:21:16$  crontab -r -u tstuser  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:21:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.bCH7p8

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-5czk57 centos6-64-1:/tmp/apply_manifest.pp.bCH7p8 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:21:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bCH7p8
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.20 seconds
Info: Applying configuration version '1403122877'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.33 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:21:18$  crontab -r -u tstuser  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:21:18$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.uMVtNu

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1c42gs0 centos6-64-2:/tmp/apply_manifest.pp.uMVtNu {}

t21rjumdkqr2x5d (centos6-64-2) 13:21:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.uMVtNu
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.18 seconds
Info: Applying configuration version '1403122879'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.10 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/cron" name="should_remove_cron.rb" time="17.869089"><system-out><![CDATA[
puppet should remove a crontab entry as expected

  * ensure the user exist via puppet

n6vo88vhlunm0j0 (centos6-64-1) 13:21:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.UsGDGJ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-hhla5v centos6-64-1:/tmp/apply_manifest.pp.UsGDGJ {}

n6vo88vhlunm0j0 (centos6-64-1) 13:21:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.UsGDGJ
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.20 seconds
Info: Applying configuration version '1403122882'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:21:23$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ZHiP4y

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1vg4pzt centos6-64-1:/tmp/apply_manifest.pp.ZHiP4y {}

n6vo88vhlunm0j0 (centos6-64-1) 13:21:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZHiP4y
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.49 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122884'
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.76 seconds

  * create the existing job by hand...

n6vo88vhlunm0j0 (centos6-64-1) 13:21:26$  echo '* * * * * /bin/true' > /tmp/tstuser.cron && crontab -u tstuser /tmp/tstuser.cron  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

  * apply the resource on the host using puppet resource

n6vo88vhlunm0j0 (centos6-64-1) 13:21:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command=/bin/true ensure=absent
Notice: /Cron[crontest]/ensure: removed
cron { 'crontest':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.09 seconds

  * verify that crontab -l contains what you expected

n6vo88vhlunm0j0 (centos6-64-1) 13:21:27$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:21:27 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.


n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

  * ensure the user exist via puppet

t21rjumdkqr2x5d (centos6-64-2) 13:21:27$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.waxuur

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10gx5u6 centos6-64-2:/tmp/apply_manifest.pp.waxuur {}

t21rjumdkqr2x5d (centos6-64-2) 13:21:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.waxuur
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403122888'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:21:29$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.KTajMP

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-rn49sl centos6-64-2:/tmp/apply_manifest.pp.KTajMP {}

t21rjumdkqr2x5d (centos6-64-2) 13:21:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.KTajMP
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.55 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122891'
Notice: Finished catalog run in 0.15 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.65 seconds

  * create the existing job by hand...

t21rjumdkqr2x5d (centos6-64-2) 13:21:32$  echo '* * * * * /bin/true' > /tmp/tstuser.cron && crontab -u tstuser /tmp/tstuser.cron  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds

  * apply the resource on the host using puppet resource

t21rjumdkqr2x5d (centos6-64-2) 13:21:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command=/bin/true ensure=absent
Notice: /Cron[crontest]/ensure: removed
cron { 'crontest':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.94 seconds

  * verify that crontab -l contains what you expected

t21rjumdkqr2x5d (centos6-64-2) 13:21:33$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:21:33 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.


t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * Cron: cleanup

n6vo88vhlunm0j0 (centos6-64-1) 13:21:33$  crontab -r -u tstuser  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:21:33$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.9UD8Pl

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1g0tzeu centos6-64-1:/tmp/apply_manifest.pp.9UD8Pl {}

n6vo88vhlunm0j0 (centos6-64-1) 13:21:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.9UD8Pl
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.19 seconds
Info: Applying configuration version '1403122895'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.36 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:21:36$  crontab -r -u tstuser  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:21:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.r3iCal

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1urfglm centos6-64-2:/tmp/apply_manifest.pp.r3iCal {}

t21rjumdkqr2x5d (centos6-64-2) 13:21:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.r3iCal
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.18 seconds
Info: Applying configuration version '1403122897'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.12 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/cron" name="should_remove_leading_and_trailing_whitespace.rb" time="23.308436"><system-out><![CDATA[
(#656) leading and trailing whitespace in cron entries should should be stripped

  * create user account for testing cron entries

n6vo88vhlunm0j0 (centos6-64-1) 13:21:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.naXjfw

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.17 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1iqvsfa centos6-64-1:/tmp/apply_manifest.pp.naXjfw {}

n6vo88vhlunm0j0 (centos6-64-1) 13:21:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.naXjfw
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.20 seconds
Info: Applying configuration version '1403122900'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.45 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:21:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.0V9eGY

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1jn122e centos6-64-1:/tmp/apply_manifest.pp.0V9eGY {}

n6vo88vhlunm0j0 (centos6-64-1) 13:21:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0V9eGY
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.62 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122903'
Notice: Finished catalog run in 0.30 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.11 seconds

  * apply the resource on the host using puppet resource

n6vo88vhlunm0j0 (centos6-64-1) 13:21:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command='   date > /dev/null    ' ensure=present
Notice: /Cron[crontest]/ensure: created
cron { 'crontest':
  ensure  => 'present',
  command => 'date > /dev/null',
  target  => 'tstuser',
  user    => 'tstuser',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.16 seconds

  * verify the added crontab entry has stripped whitespace

n6vo88vhlunm0j0 (centos6-64-1) 13:21:46$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:21:46 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: crontest
* * * * * date > /dev/null

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.15 seconds

  * apply the resource with trailing whitespace and check nothing happened

n6vo88vhlunm0j0 (centos6-64-1) 13:21:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command='date > /dev/null    ' ensure=present
cron { 'crontest':
  ensure  => 'present',
  command => 'date > /dev/null',
  target  => 'tstuser',
  user    => 'tstuser',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.14 seconds

  * apply the resource with leading whitespace and check nothing happened

n6vo88vhlunm0j0 (centos6-64-1) 13:21:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command='     date > /dev/null' ensure=present
cron { 'crontest':
  ensure  => 'present',
  command => 'date > /dev/null',
  target  => 'tstuser',
  user    => 'tstuser',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.17 seconds

  * create user account for testing cron entries

t21rjumdkqr2x5d (centos6-64-2) 13:21:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.vSh6pa

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-nhv2hc centos6-64-2:/tmp/apply_manifest.pp.vSh6pa {}

t21rjumdkqr2x5d (centos6-64-2) 13:21:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.vSh6pa
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403122909'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.26 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:21:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.k56P8G

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1lwmske centos6-64-2:/tmp/apply_manifest.pp.k56P8G {}

t21rjumdkqr2x5d (centos6-64-2) 13:21:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.k56P8G
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.48 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122912'
Notice: Finished catalog run in 0.20 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.79 seconds

  * apply the resource on the host using puppet resource

t21rjumdkqr2x5d (centos6-64-2) 13:21:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command='   date > /dev/null    ' ensure=present
Notice: /Cron[crontest]/ensure: created
cron { 'crontest':
  ensure  => 'present',
  command => 'date > /dev/null',
  target  => 'tstuser',
  user    => 'tstuser',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.02 seconds

  * verify the added crontab entry has stripped whitespace

t21rjumdkqr2x5d (centos6-64-2) 13:21:54$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:21:54 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: crontest
* * * * * date > /dev/null

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * apply the resource with trailing whitespace and check nothing happened

t21rjumdkqr2x5d (centos6-64-2) 13:21:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command='date > /dev/null    ' ensure=present
cron { 'crontest':
  ensure  => 'present',
  command => 'date > /dev/null',
  target  => 'tstuser',
  user    => 'tstuser',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.10 seconds

  * apply the resource with leading whitespace and check nothing happened

t21rjumdkqr2x5d (centos6-64-2) 13:21:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command='     date > /dev/null' ensure=present
cron { 'crontest':
  ensure  => 'present',
  command => 'date > /dev/null',
  target  => 'tstuser',
  user    => 'tstuser',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.85 seconds

  * Cron: cleanup

n6vo88vhlunm0j0 (centos6-64-1) 13:21:56$  crontab -r -u tstuser  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:21:56$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.wEHRhm

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-gv5bai centos6-64-1:/tmp/apply_manifest.pp.wEHRhm {}

n6vo88vhlunm0j0 (centos6-64-1) 13:21:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wEHRhm
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.19 seconds
Info: Applying configuration version '1403122918'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.51 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:21:59$  crontab -r -u tstuser  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:21:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.nwYFji

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1gret56 centos6-64-2:/tmp/apply_manifest.pp.nwYFji {}

t21rjumdkqr2x5d (centos6-64-2) 13:21:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.nwYFji
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.22 seconds
Info: Applying configuration version '1403122920'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.13 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.20 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/cron" name="should_remove_matching.rb" time="16.996756"><system-out><![CDATA[
puppet should remove a crontab entry based on command matching

  * ensure the user exist via puppet

n6vo88vhlunm0j0 (centos6-64-1) 13:22:02$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.GedKIV

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1t0x9na centos6-64-1:/tmp/apply_manifest.pp.GedKIV {}

n6vo88vhlunm0j0 (centos6-64-1) 13:22:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.GedKIV
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403122923'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.33 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:22:04$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Mc0xBO

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-12fq2au centos6-64-1:/tmp/apply_manifest.pp.Mc0xBO {}

n6vo88vhlunm0j0 (centos6-64-1) 13:22:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Mc0xBO
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.53 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122925'
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.86 seconds

  * create the existing job by hand...

n6vo88vhlunm0j0 (centos6-64-1) 13:22:07$  echo '* * * * * /bin/true' > /tmp/tstuser.cron && crontab -u tstuser /tmp/tstuser.cron  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Remove cron resource

n6vo88vhlunm0j0 (centos6-64-1) 13:22:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron bogus user=tstuser command=/bin/true ensure=absent
Notice: /Cron[bogus]/ensure: removed
cron { 'bogus':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.04 seconds

  * verify that crontab -l contains what you expected

n6vo88vhlunm0j0 (centos6-64-1) 13:22:08$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:22:08 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.


n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * ensure the user exist via puppet

t21rjumdkqr2x5d (centos6-64-2) 13:22:08$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.qj3Rol

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-14hkt9v centos6-64-2:/tmp/apply_manifest.pp.qj3Rol {}

t21rjumdkqr2x5d (centos6-64-2) 13:22:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.qj3Rol
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122929'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.14 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.81 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ctzZjH

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1juun44 centos6-64-2:/tmp/apply_manifest.pp.ctzZjH {}

t21rjumdkqr2x5d (centos6-64-2) 13:22:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ctzZjH
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.32 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122931'
Notice: Finished catalog run in 0.22 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.29 seconds

  * create the existing job by hand...

t21rjumdkqr2x5d (centos6-64-2) 13:22:12$  echo '* * * * * /bin/true' > /tmp/tstuser.cron && crontab -u tstuser /tmp/tstuser.cron  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * Remove cron resource

t21rjumdkqr2x5d (centos6-64-2) 13:22:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron bogus user=tstuser command=/bin/true ensure=absent
Notice: /Cron[bogus]/ensure: removed
cron { 'bogus':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.36 seconds

  * verify that crontab -l contains what you expected

t21rjumdkqr2x5d (centos6-64-2) 13:22:14$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:22:14 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.


t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

  * Cron: cleanup

n6vo88vhlunm0j0 (centos6-64-1) 13:22:14$  crontab -r -u tstuser  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:22:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.e6mD4K

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ydenh0 centos6-64-1:/tmp/apply_manifest.pp.e6mD4K {}

n6vo88vhlunm0j0 (centos6-64-1) 13:22:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.e6mD4K
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403122936'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.39 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:16$  crontab -r -u tstuser  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ppk54G

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-mf94vt centos6-64-2:/tmp/apply_manifest.pp.ppk54G {}

t21rjumdkqr2x5d (centos6-64-2) 13:22:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ppk54G
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403122938'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.13 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.94 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/cron" name="should_update_existing.rb" time="17.479423"><system-out><![CDATA[
puppet should update existing crontab entry

  * ensure the user exist via puppet

n6vo88vhlunm0j0 (centos6-64-1) 13:22:19$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.cLoB0N

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1k1tqn8 centos6-64-1:/tmp/apply_manifest.pp.cLoB0N {}

n6vo88vhlunm0j0 (centos6-64-1) 13:22:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cLoB0N
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403122940'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:22:21$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.R2u4EW

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1hgbbp3 centos6-64-1:/tmp/apply_manifest.pp.R2u4EW {}

n6vo88vhlunm0j0 (centos6-64-1) 13:22:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.R2u4EW
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.58 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122943'
Notice: Finished catalog run in 0.27 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.11 seconds

  * create the existing job by hand...

n6vo88vhlunm0j0 (centos6-64-1) 13:22:24$  echo '* * * * * /bin/true' > /tmp/tstuser.cron && crontab -u tstuser /tmp/tstuser.cron  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.13 seconds

  * verify that crontab -l contains what you expected

n6vo88vhlunm0j0 (centos6-64-1) 13:22:24$  crontab -l -u tstuser  
* * * * * /bin/true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * apply the resource change on the host

n6vo88vhlunm0j0 (centos6-64-1) 13:22:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command=/bin/true ensure=present hour='0-6'
Notice: /Cron[crontest]/ensure: created
cron { 'crontest':
  ensure  => 'present',
  command => '/bin/true',
  hour    => ['0-6'],
  target  => 'tstuser',
  user    => 'tstuser',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.07 seconds

  * verify that crontab -l contains what you expected

n6vo88vhlunm0j0 (centos6-64-1) 13:22:25$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:22:25 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
* * * * * /bin/true
# Puppet Name: crontest
* 0-6 * * * /bin/true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * ensure the user exist via puppet

t21rjumdkqr2x5d (centos6-64-2) 13:22:26$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.UXuNBp

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1mjxylu centos6-64-2:/tmp/apply_manifest.pp.UXuNBp {}

t21rjumdkqr2x5d (centos6-64-2) 13:22:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.UXuNBp
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.23 seconds
Info: Applying configuration version '1403122947'
Notice: /Stage[main]/Main/User[tstuser]/ensure: created
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:28$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.mdG0lQ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-7xxp5s centos6-64-2:/tmp/apply_manifest.pp.mdG0lQ {}

t21rjumdkqr2x5d (centos6-64-2) 13:22:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.mdG0lQ
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.43 seconds
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
Info: Applying configuration version '1403122949'
Notice: Finished catalog run in 0.14 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.26 seconds

  * create the existing job by hand...

t21rjumdkqr2x5d (centos6-64-2) 13:22:30$  echo '* * * * * /bin/true' > /tmp/tstuser.cron && crontab -u tstuser /tmp/tstuser.cron  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * verify that crontab -l contains what you expected

t21rjumdkqr2x5d (centos6-64-2) 13:22:30$  crontab -l -u tstuser  
* * * * * /bin/true

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * apply the resource change on the host

t21rjumdkqr2x5d (centos6-64-2) 13:22:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  cron crontest user=tstuser command=/bin/true ensure=present hour='0-6'
Notice: /Cron[crontest]/ensure: created
cron { 'crontest':
  ensure  => 'present',
  command => '/bin/true',
  hour    => ['0-6'],
  target  => 'tstuser',
  user    => 'tstuser',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.93 seconds

  * verify that crontab -l contains what you expected

t21rjumdkqr2x5d (centos6-64-2) 13:22:31$  crontab -l -u tstuser  
# HEADER: This file was autogenerated at Wed Jun 18 13:22:31 -0700 2014 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
* * * * * /bin/true
# Puppet Name: crontest
* 0-6 * * * /bin/true

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * Cron: cleanup

n6vo88vhlunm0j0 (centos6-64-1) 13:22:31$  crontab -r -u tstuser  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:22:31$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.4M5ECk

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-w2gs6p centos6-64-1:/tmp/apply_manifest.pp.4M5ECk {}

n6vo88vhlunm0j0 (centos6-64-1) 13:22:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4M5ECk
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.19 seconds
Info: Applying configuration version '1403122953'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.40 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:34$  crontab -r -u tstuser  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:34$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.pj11aT

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ilslqt centos6-64-2:/tmp/apply_manifest.pp.pj11aT {}

t21rjumdkqr2x5d (centos6-64-2) 13:22:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.pj11aT
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403122955'
Notice: /Stage[main]/Main/User[tstuser]/ensure: removed
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.88 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/exec" name="accept_multi-line_commands.rb" time="5.571992"><system-out><![CDATA[
Be able to execute multi-line commands (#9996)

n6vo88vhlunm0j0 (centos6-64-1) 13:22:36$  mktemp -t 9996-multi-line-commands.XXXXXX  
/tmp/9996-multi-line-commands.mwdsj7

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:22:36$  rm -f /tmp/9996-multi-line-commands.mwdsj7  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:22:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.q6erFR

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10e7h2r centos6-64-1:/tmp/apply_manifest.pp.q6erFR {}

n6vo88vhlunm0j0 (centos6-64-1) 13:22:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.q6erFR
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403122958'
Notice: /Stage[main]/Main/Exec[test exec]/returns: executed successfully
Notice: Finished catalog run in 0.26 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:22:39$  cat /tmp/9996-multi-line-commands.mwdsj7  
#Test
bob

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:22:39$  rm -f /tmp/9996-multi-line-commands.mwdsj7  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:39$  mktemp -t 9996-multi-line-commands.XXXXXX  
/tmp/9996-multi-line-commands.kODwgz

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:39$  rm -f /tmp/9996-multi-line-commands.kODwgz  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:39$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.fYVzld

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-125xa20 centos6-64-2:/tmp/apply_manifest.pp.fYVzld {}

t21rjumdkqr2x5d (centos6-64-2) 13:22:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.fYVzld
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403122961'
Notice: /Stage[main]/Main/Exec[test exec]/returns: executed successfully
Notice: Finished catalog run in 0.12 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.95 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:42$  cat /tmp/9996-multi-line-commands.kODwgz  
#Test
bob

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:42$  rm -f /tmp/9996-multi-line-commands.kODwgz  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/exec" name="should_not_run_command_creates.rb" time="6.733769"><system-out><![CDATA[
should not run command creates

n6vo88vhlunm0j0 (centos6-64-1) 13:22:42$  mktemp -t touched.XXXXXX  
/tmp/touched.dsl0Vf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:22:42$  mktemp -t not-touched.XXXXXX  
/tmp/not-touched.rwzImi

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * prepare the agents for the test

n6vo88vhlunm0j0 (centos6-64-1) 13:22:42$  touch /tmp/touched.dsl0Vf && rm -f /tmp/not-touched.rwzImi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * test using puppet apply

n6vo88vhlunm0j0 (centos6-64-1) 13:22:42$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.7WupzN

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1mx99fb centos6-64-1:/tmp/apply_manifest.pp.7WupzN {}

n6vo88vhlunm0j0 (centos6-64-1) 13:22:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.7WupzN
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403122963'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.16 seconds

  * verify the file didn't get created

n6vo88vhlunm0j0 (centos6-64-1) 13:22:44$  test -f /tmp/not-touched.rwzImi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
Exited: 1

  * prepare the agents for the second part of the test

n6vo88vhlunm0j0 (centos6-64-1) 13:22:44$  touch /tmp/touched.dsl0Vf ; rm -f /tmp/not-touched.rwzImi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * test using puppet resource

n6vo88vhlunm0j0 (centos6-64-1) 13:22:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  exec test1403122964 command='/bin/touch /tmp/not-touched.rwzImi' creates='/tmp/touched.dsl0Vf'
exec { 'test1403122964':
  returns => ['0'],
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.04 seconds

  * verify the file didn't get created the second time

n6vo88vhlunm0j0 (centos6-64-1) 13:22:45$  test -f /tmp/not-touched.rwzImi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:22:45$  mktemp -t touched.XXXXXX  
/tmp/touched.DaCGfI

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:45$  mktemp -t not-touched.XXXXXX  
/tmp/not-touched.XbKIKN

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * prepare the agents for the test

t21rjumdkqr2x5d (centos6-64-2) 13:22:45$  touch /tmp/touched.DaCGfI && rm -f /tmp/not-touched.XbKIKN  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * test using puppet apply

t21rjumdkqr2x5d (centos6-64-2) 13:22:45$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.I2LyI5

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1h366jp centos6-64-2:/tmp/apply_manifest.pp.I2LyI5 {}

t21rjumdkqr2x5d (centos6-64-2) 13:22:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.I2LyI5
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403122966'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.84 seconds

  * verify the file didn't get created

t21rjumdkqr2x5d (centos6-64-2) 13:22:47$  test -f /tmp/not-touched.XbKIKN  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
Exited: 1

  * prepare the agents for the second part of the test

t21rjumdkqr2x5d (centos6-64-2) 13:22:47$  touch /tmp/touched.DaCGfI ; rm -f /tmp/not-touched.XbKIKN  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * test using puppet resource

t21rjumdkqr2x5d (centos6-64-2) 13:22:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  exec test1403122967 command='/bin/touch /tmp/not-touched.XbKIKN' creates='/tmp/touched.DaCGfI'
exec { 'test1403122967':
  returns => ['0'],
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.06 seconds

  * verify the file didn't get created the second time

t21rjumdkqr2x5d (centos6-64-2) 13:22:48$  test -f /tmp/not-touched.XbKIKN  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/exec" name="should_run_command.rb" time="7.186909"><system-out><![CDATA[
tests that puppet correctly runs an exec.

  * file to be touched should not exist.

n6vo88vhlunm0j0 (centos6-64-1) 13:22:48$  mktemp -t test-exec.XXXXXX  
/tmp/test-exec.2qKNMR

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:22:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.fYky57

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-j5iutq centos6-64-1:/tmp/apply_manifest.pp.fYky57 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:22:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.fYky57
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403122970'
Notice: /Stage[main]/Main/Exec[test]/returns: executed successfully
Notice: Finished catalog run in 0.31 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.36 seconds

  * checking the output worked

n6vo88vhlunm0j0 (centos6-64-1) 13:22:51$  test -f /tmp/test-exec.2qKNMR  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * clean up the system

n6vo88vhlunm0j0 (centos6-64-1) 13:22:51$  rm -f /tmp/test-exec.2qKNMR  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * file to be touched should not exist.

n6vo88vhlunm0j0 (centos6-64-1) 13:22:51$  mktemp -t test-exec.XXXXXX  
/tmp/test-exec.3sTdFy

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:22:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  -d exec test command='/bin/touch /tmp/test-exec.3sTdFy'}
Debug: Loaded state in 0.01 seconds
Debug: Exec[test](provider=posix): Executing '/bin/touch /tmp/test-exec.3sTdFy}'
Debug: Executing '/bin/touch /tmp/test-exec.3sTdFy}'
Notice: /Exec[test]/returns: executed successfully
Debug: Finishing transaction 70004972014280
Debug: Storing state
Debug: Stored state in 0.07 seconds
exec { 'test':
  returns => 'notrun',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.24 seconds

  * checking the output worked

n6vo88vhlunm0j0 (centos6-64-1) 13:22:52$  test -f /tmp/test-exec.3sTdFy  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

  * clean up the system

n6vo88vhlunm0j0 (centos6-64-1) 13:22:52$  rm -f /tmp/test-exec.3sTdFy  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * file to be touched should not exist.

t21rjumdkqr2x5d (centos6-64-2) 13:22:52$  mktemp -t test-exec.XXXXXX  
/tmp/test-exec.MEnuFe

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:52$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Ir248R

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1p1h2o3 centos6-64-2:/tmp/apply_manifest.pp.Ir248R {}

t21rjumdkqr2x5d (centos6-64-2) 13:22:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Ir248R
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403122974'
Notice: /Stage[main]/Main/Exec[test]/returns: executed successfully
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.92 seconds

  * checking the output worked

t21rjumdkqr2x5d (centos6-64-2) 13:22:54$  test -f /tmp/test-exec.MEnuFe  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * clean up the system

t21rjumdkqr2x5d (centos6-64-2) 13:22:54$  rm -f /tmp/test-exec.MEnuFe  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * file to be touched should not exist.

t21rjumdkqr2x5d (centos6-64-2) 13:22:54$  mktemp -t test-exec.XXXXXX  
/tmp/test-exec.vX1kxr

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  -d exec test command='/bin/touch /tmp/test-exec.vX1kxr'}
Debug: Loaded state in 0.00 seconds
Debug: Exec[test](provider=posix): Executing '/bin/touch /tmp/test-exec.vX1kxr}'
Debug: Executing '/bin/touch /tmp/test-exec.vX1kxr}'
Notice: /Exec[test]/returns: executed successfully
Debug: Finishing transaction 70260713240160
Debug: Storing state
Debug: Stored state in 0.03 seconds
exec { 'test':
  returns => 'notrun',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.99 seconds

  * checking the output worked

t21rjumdkqr2x5d (centos6-64-2) 13:22:55$  test -f /tmp/test-exec.vX1kxr  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * clean up the system

t21rjumdkqr2x5d (centos6-64-2) 13:22:55$  rm -f /tmp/test-exec.vX1kxr  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/exec" name="should_set_path.rb" time="2.782193"><system-out><![CDATA[
the path statement should work to locate commands

n6vo88vhlunm0j0 (centos6-64-1) 13:22:55$  mktemp -t touched-should-set-path.XXXXXX  
/tmp/touched-should-set-path.z2eEQh

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * clean up the system for the test

n6vo88vhlunm0j0 (centos6-64-1) 13:22:56$  rm -f /tmp/touched-should-set-path.z2eEQh  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * invoke the exec resource with a path set

n6vo88vhlunm0j0 (centos6-64-1) 13:22:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  exec test command='touch /tmp/touched-should-set-path.z2eEQh' path='/bin:/usr/bin'
Notice: /Exec[test]/returns: executed successfully
exec { 'test':
  returns => 'notrun',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.41 seconds

  * verify that the files were created

n6vo88vhlunm0j0 (centos6-64-1) 13:22:57$  test -f /tmp/touched-should-set-path.z2eEQh  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * clean up the system after testing

n6vo88vhlunm0j0 (centos6-64-1) 13:22:57$  rm -f /tmp/touched-should-set-path.z2eEQh  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:22:57$  mktemp -t touched-should-set-path.XXXXXX  
/tmp/touched-should-set-path.3BFhUK

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * clean up the system for the test

t21rjumdkqr2x5d (centos6-64-2) 13:22:57$  rm -f /tmp/touched-should-set-path.3BFhUK  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * invoke the exec resource with a path set

t21rjumdkqr2x5d (centos6-64-2) 13:22:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  exec test command='touch /tmp/touched-should-set-path.3BFhUK' path='/bin:/usr/bin'
Notice: /Exec[test]/returns: executed successfully
exec { 'test':
  returns => 'notrun',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.09 seconds

  * verify that the files were created

t21rjumdkqr2x5d (centos6-64-2) 13:22:58$  test -f /tmp/touched-should-set-path.3BFhUK  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * clean up the system after testing

t21rjumdkqr2x5d (centos6-64-2) 13:22:58$  rm -f /tmp/touched-should-set-path.3BFhUK  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/file" name="content_attribute.rb" time="19.238289"><system-out><![CDATA[
Content Attribute

n6vo88vhlunm0j0 (centos6-64-1) 13:22:58$  mktemp -t content_file_test.XXXXXX  
/tmp/content_file_test.nzwMCv

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Ensure the test environment is clean

n6vo88vhlunm0j0 (centos6-64-1) 13:22:58$  rm -f /tmp/content_file_test.nzwMCv  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

  * Content Attribute: using raw content

n6vo88vhlunm0j0 (centos6-64-1) 13:22:58$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.MMfZZg

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1wndhpv centos6-64-1:/tmp/apply_manifest.pp.MMfZZg {}

n6vo88vhlunm0j0 (centos6-64-1) 13:22:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.MMfZZg
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403122980'
Notice: /Stage[main]/Main/File[/tmp/content_file_test.nzwMCv]/ensure: created
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:01$  cat /tmp/content_file_test.nzwMCv  
This is the test file content
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Ensure the test environment is clean

n6vo88vhlunm0j0 (centos6-64-1) 13:23:01$  rm -f /tmp/content_file_test.nzwMCv  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Content Attribute: using a checksum from filebucket

n6vo88vhlunm0j0 (centos6-64-1) 13:23:01$  echo 'This is the checksum file contents' > /tmp/content_file_test.nzwMCv  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Backup file into the filebucket

n6vo88vhlunm0j0 (centos6-64-1) 13:23:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet filebucket  backup --local /tmp/content_file_test.nzwMCv
/tmp/content_file_test.nzwMCv: 18571d3a04b2bb7ccfdbb2c44c72caa9

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.61 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet filebucket  --configprint bucketdir
/var/lib/puppet/bucket

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.68 seconds

  * Applying Manifest on Agent

n6vo88vhlunm0j0 (centos6-64-1) 13:23:02$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Ff9IQx

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-rqpoea centos6-64-1:/tmp/apply_manifest.pp.Ff9IQx {}

n6vo88vhlunm0j0 (centos6-64-1) 13:23:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Ff9IQx
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403122984'
Notice: Finished catalog run in 0.31 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.52 seconds

  * Validate filebucket checksum file contents

n6vo88vhlunm0j0 (centos6-64-1) 13:23:05$  cat /tmp/content_file_test.nzwMCv  
This is the checksum file contents

n6vo88vhlunm0j0 (centos6-64-1) executed in 5.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:23:10$  mktemp -t content_file_test.XXXXXX  
/tmp/content_file_test.e1Yg3F

t21rjumdkqr2x5d (centos6-64-2) executed in 0.09 seconds

  * Ensure the test environment is clean

t21rjumdkqr2x5d (centos6-64-2) 13:23:10$  rm -f /tmp/content_file_test.e1Yg3F  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * Content Attribute: using raw content

t21rjumdkqr2x5d (centos6-64-2) 13:23:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.NW8F1Y

t21rjumdkqr2x5d (centos6-64-2) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-19hv6dp centos6-64-2:/tmp/apply_manifest.pp.NW8F1Y {}

t21rjumdkqr2x5d (centos6-64-2) 13:23:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.NW8F1Y
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.17 seconds
Info: Applying configuration version '1403122992'
Notice: /Stage[main]/Main/File[/tmp/content_file_test.e1Yg3F]/ensure: created
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.34 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:23:13$  cat /tmp/content_file_test.e1Yg3F  
This is the test file content
t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * Ensure the test environment is clean

t21rjumdkqr2x5d (centos6-64-2) 13:23:13$  rm -f /tmp/content_file_test.e1Yg3F  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * Content Attribute: using a checksum from filebucket

t21rjumdkqr2x5d (centos6-64-2) 13:23:13$  echo 'This is the checksum file contents' > /tmp/content_file_test.e1Yg3F  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * Backup file into the filebucket

t21rjumdkqr2x5d (centos6-64-2) 13:23:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet filebucket  backup --local /tmp/content_file_test.e1Yg3F
/tmp/content_file_test.e1Yg3F: 18571d3a04b2bb7ccfdbb2c44c72caa9

t21rjumdkqr2x5d (centos6-64-2) executed in 0.59 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:23:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet filebucket  --configprint bucketdir
/var/lib/puppet/bucket

t21rjumdkqr2x5d (centos6-64-2) executed in 0.56 seconds

  * Applying Manifest on Agent

t21rjumdkqr2x5d (centos6-64-2) 13:23:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.zcgqq6

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1d2tr9k centos6-64-2:/tmp/apply_manifest.pp.zcgqq6 {}

t21rjumdkqr2x5d (centos6-64-2) 13:23:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.zcgqq6
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403122995'
Notice: Finished catalog run in 1.77 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.64 seconds

  * Validate filebucket checksum file contents

t21rjumdkqr2x5d (centos6-64-2) 13:23:17$  cat /tmp/content_file_test.e1Yg3F  
This is the checksum file contents

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/file" name="should_create_directory.rb" time="3.136065"><system-out><![CDATA[
should create directory

n6vo88vhlunm0j0 (centos6-64-1) 13:23:18$  mktemp -t create-dir.XXXXXX  
/tmp/create-dir.q3rcT7

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * clean up the system before we begin

n6vo88vhlunm0j0 (centos6-64-1) 13:23:18$  rm -rf /tmp/create-dir.q3rcT7  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * verify we can create a directory

n6vo88vhlunm0j0 (centos6-64-1) 13:23:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/create-dir.q3rcT7 ensure=directory
Notice: /File[/tmp/create-dir.q3rcT7]/ensure: created
file { '/tmp/create-dir.q3rcT7':
  ensure => 'directory',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.54 seconds

  * verify the directory was created

n6vo88vhlunm0j0 (centos6-64-1) 13:23:19$  test -d /tmp/create-dir.q3rcT7  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * clean up after the test run

n6vo88vhlunm0j0 (centos6-64-1) 13:23:19$  rm -rf /tmp/create-dir.q3rcT7  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.25 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:23:19$  mktemp -t create-dir.XXXXXX  
/tmp/create-dir.YBhESH

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * clean up the system before we begin

t21rjumdkqr2x5d (centos6-64-2) 13:23:19$  rm -rf /tmp/create-dir.YBhESH  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.08 seconds

  * verify we can create a directory

t21rjumdkqr2x5d (centos6-64-2) 13:23:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/create-dir.YBhESH ensure=directory
Notice: /File[/tmp/create-dir.YBhESH]/ensure: created
file { '/tmp/create-dir.YBhESH':
  ensure => 'directory',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.06 seconds

  * verify the directory was created

t21rjumdkqr2x5d (centos6-64-2) 13:23:21$  test -d /tmp/create-dir.YBhESH  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * clean up after the test run

t21rjumdkqr2x5d (centos6-64-2) 13:23:21$  rm -rf /tmp/create-dir.YBhESH  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/file" name="should_create_empty.rb" time="3.157431"><system-out><![CDATA[
should create empty file for 'present'

n6vo88vhlunm0j0 (centos6-64-1) 13:23:21$  mktemp -t empty.XXXXXX  
/tmp/empty.Ws8COa

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * clean up the system before we begin

n6vo88vhlunm0j0 (centos6-64-1) 13:23:21$  rm -rf /tmp/empty.Ws8COa  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * verify we can create an empty file

n6vo88vhlunm0j0 (centos6-64-1) 13:23:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/empty.Ws8COa ensure=present
Notice: /File[/tmp/empty.Ws8COa]/ensure: created
file { '/tmp/empty.Ws8COa':
  ensure => 'file',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.59 seconds

  * verify the target was created

n6vo88vhlunm0j0 (centos6-64-1) 13:23:22$  test -f /tmp/empty.Ws8COa && test ! -s /tmp/empty.Ws8COa  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * clean up after the test run

n6vo88vhlunm0j0 (centos6-64-1) 13:23:22$  rm -rf /tmp/empty.Ws8COa  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:23:22$  mktemp -t empty.XXXXXX  
/tmp/empty.WOM3kB

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * clean up the system before we begin

t21rjumdkqr2x5d (centos6-64-2) 13:23:22$  rm -rf /tmp/empty.WOM3kB  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * verify we can create an empty file

t21rjumdkqr2x5d (centos6-64-2) 13:23:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/empty.WOM3kB ensure=present
Notice: /File[/tmp/empty.WOM3kB]/ensure: created
file { '/tmp/empty.WOM3kB':
  ensure => 'file',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.25 seconds

  * verify the target was created

t21rjumdkqr2x5d (centos6-64-2) 13:23:24$  test -f /tmp/empty.WOM3kB && test ! -s /tmp/empty.WOM3kB  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * clean up after the test run

t21rjumdkqr2x5d (centos6-64-2) 13:23:24$  rm -rf /tmp/empty.WOM3kB  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/file" name="should_create_symlink.rb" time="0.000377"><skip type="skip"/><system-out><![CDATA[
should create symlink
Warning: No suitable hosts with: {:platform=>"windows"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/file" name="should_default_mode.rb" time="8.615654"><system-out><![CDATA[
file resource: set default modes

  * setup

n6vo88vhlunm0j0 (centos6-64-1) 13:23:24$  mktemp -dt default-mode-parent.XXXXXX  
/tmp/default-mode-parent.aDSE01

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:24$  rm -rf /tmp/default-mode-parent.aDSE01  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.24 seconds

  * puppet should set execute bit on readable directories

n6vo88vhlunm0j0 (centos6-64-1) 13:23:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/default-mode-parent.aDSE01 ensure=directory mode=0644
Notice: /File[/tmp/default-mode-parent.aDSE01]/ensure: created
file { '/tmp/default-mode-parent.aDSE01':
  ensure => 'directory',
  mode   => '755',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.27 seconds

  * include execute bit on newly created directories

n6vo88vhlunm0j0 (centos6-64-1) 13:23:25$  mkdir /tmp/default-mode-parent.aDSE01/dir && cd /tmp/default-mode-parent.aDSE01/dir && cd ..  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * exclude execute bit from newly created files

n6vo88vhlunm0j0 (centos6-64-1) 13:23:25$  echo foobar > /tmp/default-mode-parent.aDSE01/file.txt  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:25$  /tmp/default-mode-parent.aDSE01/file.txt  
bash: /tmp/default-mode-parent.aDSE01/file.txt: Permission denied

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 126

  * set execute git on file if explicitly specified

n6vo88vhlunm0j0 (centos6-64-1) 13:23:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/default-mode-parent.aDSE01/file_750.txt ensure=file mode=0750
Notice: /File[/tmp/default-mode-parent.aDSE01/file_750.txt]/ensure: created
file { '/tmp/default-mode-parent.aDSE01/file_750.txt':
  ensure => 'file',
  mode   => '750',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.41 seconds

  * don't set execute bit if directory not readable

n6vo88vhlunm0j0 (centos6-64-1) 13:23:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/default-mode-parent.aDSE01/dir_600 ensure=directory mode=0600
Notice: /File[/tmp/default-mode-parent.aDSE01/dir_600]/ensure: created
file { '/tmp/default-mode-parent.aDSE01/dir_600':
  ensure => 'directory',
  mode   => '700',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.59 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:28$  rm -rf /tmp/default-mode-parent.aDSE01  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * setup

t21rjumdkqr2x5d (centos6-64-2) 13:23:28$  mktemp -dt default-mode-parent.XXXXXX  
/tmp/default-mode-parent.3mcSMH

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:23:28$  rm -rf /tmp/default-mode-parent.3mcSMH  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

  * puppet should set execute bit on readable directories

t21rjumdkqr2x5d (centos6-64-2) 13:23:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/default-mode-parent.3mcSMH ensure=directory mode=0644
Notice: /File[/tmp/default-mode-parent.3mcSMH]/ensure: created
file { '/tmp/default-mode-parent.3mcSMH':
  ensure => 'directory',
  mode   => '755',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.36 seconds

  * include execute bit on newly created directories

t21rjumdkqr2x5d (centos6-64-2) 13:23:30$  mkdir /tmp/default-mode-parent.3mcSMH/dir && cd /tmp/default-mode-parent.3mcSMH/dir && cd ..  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

  * exclude execute bit from newly created files

t21rjumdkqr2x5d (centos6-64-2) 13:23:30$  echo foobar > /tmp/default-mode-parent.3mcSMH/file.txt  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:23:30$  /tmp/default-mode-parent.3mcSMH/file.txt  
bash: /tmp/default-mode-parent.3mcSMH/file.txt: Permission denied

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
Exited: 126

  * set execute git on file if explicitly specified

t21rjumdkqr2x5d (centos6-64-2) 13:23:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/default-mode-parent.3mcSMH/file_750.txt ensure=file mode=0750
Notice: /File[/tmp/default-mode-parent.3mcSMH/file_750.txt]/ensure: created
file { '/tmp/default-mode-parent.3mcSMH/file_750.txt':
  ensure => 'file',
  mode   => '750',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.15 seconds

  * don't set execute bit if directory not readable

t21rjumdkqr2x5d (centos6-64-2) 13:23:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/default-mode-parent.3mcSMH/dir_600 ensure=directory mode=0600
Notice: /File[/tmp/default-mode-parent.3mcSMH/dir_600]/ensure: created
file { '/tmp/default-mode-parent.3mcSMH/dir_600':
  ensure => 'directory',
  mode   => '700',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.16 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:23:32$  rm -rf /tmp/default-mode-parent.3mcSMH  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/file" name="should_remove_dir.rb" time="5.462491"><system-out><![CDATA[
should remove directory, but force required

n6vo88vhlunm0j0 (centos6-64-1) 13:23:32$  mktemp -dt delete-dir.XXXXXX  
/tmp/delete-dir.SsJcfY

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * clean up the system before we begin

n6vo88vhlunm0j0 (centos6-64-1) 13:23:32$  rm -rf /tmp/delete-dir.SsJcfY ; mkdir -p /tmp/delete-dir.SsJcfY  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds

  * verify we can't remove a directory without 'force'

n6vo88vhlunm0j0 (centos6-64-1) 13:23:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/delete-dir.SsJcfY ensure=absent
Notice: /File[/tmp/delete-dir.SsJcfY]: Not removing directory; use 'force' to override
Notice: /File[/tmp/delete-dir.SsJcfY]/ensure: removed
file { '/tmp/delete-dir.SsJcfY':
  ensure => 'directory',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.32 seconds

  * verify the directory still exists

n6vo88vhlunm0j0 (centos6-64-1) 13:23:34$  test -d /tmp/delete-dir.SsJcfY  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

  * verify we can remove a directory with 'force'

n6vo88vhlunm0j0 (centos6-64-1) 13:23:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/delete-dir.SsJcfY ensure=absent force=true
Notice: /File[/tmp/delete-dir.SsJcfY]/ensure: removed
file { '/tmp/delete-dir.SsJcfY':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.27 seconds

  * verify that the directory is gone

n6vo88vhlunm0j0 (centos6-64-1) 13:23:35$  test -d /tmp/delete-dir.SsJcfY  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:23:35$  mktemp -dt delete-dir.XXXXXX  
/tmp/delete-dir.vr0OKE

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds

  * clean up the system before we begin

t21rjumdkqr2x5d (centos6-64-2) 13:23:35$  rm -rf /tmp/delete-dir.vr0OKE ; mkdir -p /tmp/delete-dir.vr0OKE  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

  * verify we can't remove a directory without 'force'

t21rjumdkqr2x5d (centos6-64-2) 13:23:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/delete-dir.vr0OKE ensure=absent
Notice: /File[/tmp/delete-dir.vr0OKE]: Not removing directory; use 'force' to override
Notice: /File[/tmp/delete-dir.vr0OKE]/ensure: removed
file { '/tmp/delete-dir.vr0OKE':
  ensure => 'directory',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.18 seconds

  * verify the directory still exists

t21rjumdkqr2x5d (centos6-64-2) 13:23:37$  test -d /tmp/delete-dir.vr0OKE  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * verify we can remove a directory with 'force'

t21rjumdkqr2x5d (centos6-64-2) 13:23:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/delete-dir.vr0OKE ensure=absent force=true
Notice: /File[/tmp/delete-dir.vr0OKE]/ensure: removed
file { '/tmp/delete-dir.vr0OKE':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.16 seconds

  * verify that the directory is gone

t21rjumdkqr2x5d (centos6-64-2) 13:23:38$  test -d /tmp/delete-dir.vr0OKE  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/file" name="should_remove_file.rb" time="3.304117"><system-out><![CDATA[
should remove file

n6vo88vhlunm0j0 (centos6-64-1) 13:23:38$  mktemp -t delete-file.XXXXXX  
/tmp/delete-file.1yDd86

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * clean up the system before we begin

n6vo88vhlunm0j0 (centos6-64-1) 13:23:38$  rm -rf /tmp/delete-file.1yDd86 && touch /tmp/delete-file.1yDd86  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * verify we can remove a file

n6vo88vhlunm0j0 (centos6-64-1) 13:23:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/delete-file.1yDd86 ensure=absent
Notice: /File[/tmp/delete-file.1yDd86]/ensure: removed
file { '/tmp/delete-file.1yDd86':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.62 seconds

  * verify that the file is gone

n6vo88vhlunm0j0 (centos6-64-1) 13:23:40$  test -e /tmp/delete-file.1yDd86  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:23:40$  mktemp -t delete-file.XXXXXX  
/tmp/delete-file.TDEMff

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

  * clean up the system before we begin

t21rjumdkqr2x5d (centos6-64-2) 13:23:40$  rm -rf /tmp/delete-file.TDEMff && touch /tmp/delete-file.TDEMff  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * verify we can remove a file

t21rjumdkqr2x5d (centos6-64-2) 13:23:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/delete-file.TDEMff ensure=absent
Notice: /File[/tmp/delete-file.TDEMff]/ensure: removed
file { '/tmp/delete-file.TDEMff':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.38 seconds

  * verify that the file is gone

t21rjumdkqr2x5d (centos6-64-2) 13:23:41$  test -e /tmp/delete-file.TDEMff  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/file" name="source_attribute.rb" time="26.033408"><system-out><![CDATA[
The source attribute

  * when using a puppet:/// URI with a master/agent setup

n6vo88vhlunm0j0 (centos6-64-1) 13:23:41$  mktemp -dt file_source_attr.XXXXXX  
/tmp/file_source_attr.dSE3QV

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:41$  mkdir -p /tmp/file_source_attr.dSE3QV/modules/source_test_module/files  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-dr4vb9 centos6-64-1:/tmp/file_source_attr.dSE3QV/modules/source_test_module/files/source_file {}

n6vo88vhlunm0j0 (centos6-64-1) 13:23:41$  mkdir -p /tmp/file_source_attr.dSE3QV/modules/source_test_module/manifests  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-nqfq7u centos6-64-1:/tmp/file_source_attr.dSE3QV/modules/source_test_module/manifests/init.pp {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-jbuu9u centos6-64-1:/tmp/file_source_attr.dSE3QV/site.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:23:42$  chmod -R 777 /tmp/file_source_attr.dSE3QV  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:42$  chmod -R 644 /tmp/file_source_attr.dSE3QV/modules/source_test_module/manifests/init.pp /tmp/file_source_attr.dSE3QV/modules/source_test_module/files/source_file /tmp/file_source_attr.dSE3QV/site.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:42$  chown -R root:puppet /tmp/file_source_attr.dSE3QV  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:42$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:42$  cp /etc/puppet/puppet.conf /tmp/file_source_attr.dSE3QV/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:42$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-134zg6e centos6-64-1:/tmp/file_source_attr.dSE3QV/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:42$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
manifest = /tmp/file_source_attr.dSE3QV/site.pp
node_terminus = plain
modulepath = /tmp/file_source_attr.dSE3QV/modules

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.53 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:23:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0755' to '0777'
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403123029'
Notice: /Stage[main]/Source_test_module/File[/tmp/source_attr_test]/ensure: defined content as '{md5}2f8cf7dbc6f96160ffca047485018fee'
Notice: Finished catalog run in 0.99 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 6.44 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:23:51$  cat /tmp/source_attr_test  
the content is present

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:23:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0755' to '0777'
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403123029'
Notice: /Stage[main]/Source_test_module/File[/tmp/source_attr_test]/ensure: defined content as '{md5}2f8cf7dbc6f96160ffca047485018fee'
Notice: Finished catalog run in 0.51 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.97 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:23:55$  cat /tmp/source_attr_test  
the content is present

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:55$  if [ -f '/tmp/file_source_attr.dSE3QV/puppet.conf.bak' ]; then cat '/tmp/file_source_attr.dSE3QV/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/file_source_attr.dSE3QV/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:55$  cat `puppet master --configprint pidfile`  
471
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:56$  kill 471  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:56$  kill -0 471  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:57$  kill -0 471  
bash: line 0: kill: (471) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds
Exited: 1

  * Setup testing local file sources

n6vo88vhlunm0j0 (centos6-64-1) 13:23:57$  mktemp -dt local_source_file_test.XXXXXX  
/tmp/local_source_file_test.IdUK5o

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:23:57$  mkdir -p /tmp/local_source_file_test.IdUK5o/source_mod/files  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ic2l4n centos6-64-1:/tmp/local_source_file_test.IdUK5o/source_mod/files/source {}

  * Using a local file path

n6vo88vhlunm0j0 (centos6-64-1) 13:23:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.VcICNH

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1yv2ba9 centos6-64-1:/tmp/apply_manifest.pp.VcICNH {}

n6vo88vhlunm0j0 (centos6-64-1) 13:23:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.VcICNH
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123038'
Notice: /Stage[main]/Main/File[/tmp/local_source_file_test.IdUK5o/target]/ensure: defined content as '{md5}95269c0e7d554324f6bbc5c15f7ced15'
Notice: Finished catalog run in 0.29 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.83 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:00$  cat /tmp/local_source_file_test.IdUK5o/target  
Yay, this is the local file.

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Using a puppet:/// URI with puppet apply

n6vo88vhlunm0j0 (centos6-64-1) 13:24:00$  rm -rf /tmp/local_source_file_test.IdUK5o/target  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply --modulepath=/tmp/local_source_file_test.IdUK5o -e "file { '/tmp/local_source_file_test.IdUK5o/target': source => 'puppet:///modules/source_mod/source', ensure => 'present' }"  
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Notice: /Stage[main]/Main/File[/tmp/local_source_file_test.IdUK5o/target]/ensure: defined content as '{md5}95269c0e7d554324f6bbc5c15f7ced15'
Notice: Finished catalog run in 0.31 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.56 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:02$  cat /tmp/local_source_file_test.IdUK5o/target  
Yay, this is the local file.

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Setup testing local file sources

t21rjumdkqr2x5d (centos6-64-2) 13:24:02$  mktemp -dt local_source_file_test.XXXXXX  
/tmp/local_source_file_test.iI7lM1

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:24:02$  mkdir -p /tmp/local_source_file_test.iI7lM1/source_mod/files  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-94iink centos6-64-2:/tmp/local_source_file_test.iI7lM1/source_mod/files/source {}

  * Using a local file path

t21rjumdkqr2x5d (centos6-64-2) 13:24:03$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.3oc4sM

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-7yofg4 centos6-64-2:/tmp/apply_manifest.pp.3oc4sM {}

t21rjumdkqr2x5d (centos6-64-2) 13:24:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.3oc4sM
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123044'
Notice: /Stage[main]/Main/File[/tmp/local_source_file_test.iI7lM1/target]/ensure: defined content as '{md5}95269c0e7d554324f6bbc5c15f7ced15'
Notice: Finished catalog run in 0.16 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.27 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:24:05$  cat /tmp/local_source_file_test.iI7lM1/target  
Yay, this is the local file.

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * Using a puppet:/// URI with puppet apply

t21rjumdkqr2x5d (centos6-64-2) 13:24:05$  rm -rf /tmp/local_source_file_test.iI7lM1/target  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:24:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply --modulepath=/tmp/local_source_file_test.iI7lM1 -e "file { '/tmp/local_source_file_test.iI7lM1/target': source => 'puppet:///modules/source_mod/source', ensure => 'present' }"  
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Notice: /Stage[main]/Main/File[/tmp/local_source_file_test.iI7lM1/target]/ensure: defined content as '{md5}95269c0e7d554324f6bbc5c15f7ced15'
Notice: Finished catalog run in 0.12 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.11 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:24:07$  cat /tmp/local_source_file_test.iI7lM1/target  
Yay, this is the local file.

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/file" name="symbolic_modes.rb" time="884.911233"><system-out><![CDATA[
file resource: symbolic modes

n6vo88vhlunm0j0 (centos6-64-1) 13:24:07$  mktemp -dt symbolic-modes.XXXXXX  
/tmp/symbolic-modes.FnVd79

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:07$  mkdir -p /tmp/symbolic-modes.FnVd79  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:07$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:07$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.SongMf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1m9y54k centos6-64-1:/tmp/apply_manifest.pp.SongMf {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SongMf
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123049'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.53 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:10$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
444

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.8VVv2k

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-lofiz centos6-64-1:/tmp/apply_manifest.pp.8VVv2k {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.8VVv2k
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123051'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.00 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.wFXvP6

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-17kwtme centos6-64-1:/tmp/apply_manifest.pp.wFXvP6 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wFXvP6
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123053'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.94 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:14$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
455

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.9oQOna

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-14emzas centos6-64-1:/tmp/apply_manifest.pp.9oQOna {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.9oQOna
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123056'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.81 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:16$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.rz1kS0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ndm1o8 centos6-64-1:/tmp/apply_manifest.pp.rz1kS0 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.rz1kS0
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123058'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.91 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:18$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
244

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:18$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.R7g4ys

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1o9rx68 centos6-64-1:/tmp/apply_manifest.pp.R7g4ys {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.R7g4ys
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123060'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.86 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.4snGAM

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-u39b4l centos6-64-1:/tmp/apply_manifest.pp.4snGAM {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4snGAM
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123062'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:23$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
255

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:23$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.fbTEfr

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zbbxlw centos6-64-1:/tmp/apply_manifest.pp.fbTEfr {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.fbTEfr
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123064'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.32 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:25$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:25$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.oADJqD

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1l1l1fr centos6-64-1:/tmp/apply_manifest.pp.oADJqD {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.oADJqD
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123067'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:27$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
144

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:27$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.LrPLH0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-xbhmv5 centos6-64-1:/tmp/apply_manifest.pp.LrPLH0 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LrPLH0
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123069'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.31 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:30$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ZNIipb

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xnky5d centos6-64-1:/tmp/apply_manifest.pp.ZNIipb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZNIipb
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123071'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.24 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:32$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
155

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:32$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.MY6a3b

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1m10nea centos6-64-1:/tmp/apply_manifest.pp.MY6a3b {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.MY6a3b
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123074'
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.37 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:35$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:35$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.9R6gsL

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-p6q7oo centos6-64-1:/tmp/apply_manifest.pp.9R6gsL {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.9R6gsL
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123076'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.43 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:37$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
644

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:37$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.fQSyjO

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-cwqztc centos6-64-1:/tmp/apply_manifest.pp.fQSyjO {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.fQSyjO
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123079'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.72 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:40$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.n05XR3

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-11wde2t centos6-64-1:/tmp/apply_manifest.pp.n05XR3 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.n05XR3
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123082'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:43$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
655

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:43$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ZozqYY

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1bwpw66 centos6-64-1:/tmp/apply_manifest.pp.ZozqYY {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZozqYY
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123084'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.38 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:45$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:45$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.LANV47

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zr2z1c centos6-64-1:/tmp/apply_manifest.pp.LANV47 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LANV47
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123087'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:48$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Twdkd2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-wk19m7 centos6-64-1:/tmp/apply_manifest.pp.Twdkd2 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Twdkd2
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123089'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.78 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:51$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.iwtksa

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ki6jcu centos6-64-1:/tmp/apply_manifest.pp.iwtksa {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.iwtksa
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123092'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.57 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:53$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
755

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:53$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ReBqMI

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1mmr88p centos6-64-1:/tmp/apply_manifest.pp.ReBqMI {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ReBqMI
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123095'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:56$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:56$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.HQLRRD

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ipia2h centos6-64-1:/tmp/apply_manifest.pp.HQLRRD {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.HQLRRD
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123097'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.33 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:58$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
1744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:24:58$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.VLPsPh

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-6oipcv centos6-64-1:/tmp/apply_manifest.pp.VLPsPh {}

n6vo88vhlunm0j0 (centos6-64-1) 13:24:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.VLPsPh
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123100'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.79 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.DRq6XB

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-4jf58w centos6-64-1:/tmp/apply_manifest.pp.DRq6XB {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DRq6XB
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123103'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:04$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
1755

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:04$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.7F0ebe

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.14 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1r5hbdd centos6-64-1:/tmp/apply_manifest.pp.7F0ebe {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.7F0ebe
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123106'
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.61 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:07$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:07$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.6A3sMm

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ffrbxy centos6-64-1:/tmp/apply_manifest.pp.6A3sMm {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6A3sMm
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123108'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.23 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:09$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
4744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:09$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.vyWJOz

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1iutrb centos6-64-1:/tmp/apply_manifest.pp.vyWJOz {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.vyWJOz
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123111'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:11$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Sg6Vx0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zpwltz centos6-64-1:/tmp/apply_manifest.pp.Sg6Vx0 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Sg6Vx0
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123113'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.26 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:14$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
4755

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.irzbXQ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ve3zmb centos6-64-1:/tmp/apply_manifest.pp.irzbXQ {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.irzbXQ
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123115'
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.27 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:16$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.cP63HJ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1t1l7sd centos6-64-1:/tmp/apply_manifest.pp.cP63HJ {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cP63HJ
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123118'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.31 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:19$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
5744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:19$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Pejwe9

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-edzqup centos6-64-1:/tmp/apply_manifest.pp.Pejwe9 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Pejwe9
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123120'
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:21$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.wipeUB

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-o82gi2 centos6-64-1:/tmp/apply_manifest.pp.wipeUB {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wipeUB
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123122'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:23$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
5755

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:23$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.54wPn1

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1n84yvw centos6-64-1:/tmp/apply_manifest.pp.54wPn1 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.54wPn1
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123125'
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:26$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:26$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.FCEB2L

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-erusrs centos6-64-1:/tmp/apply_manifest.pp.FCEB2L {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.FCEB2L
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123127'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.30 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:28$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
444

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:28$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.xzRY9E

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-lgh655 centos6-64-1:/tmp/apply_manifest.pp.xzRY9E {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.xzRY9E
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123130'
Notice: Finished catalog run in 0.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:31$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.KkYRjN

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1jskppc centos6-64-1:/tmp/apply_manifest.pp.KkYRjN {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.KkYRjN
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123132'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:33$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
445

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:33$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ofESXK

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1lyioi3 centos6-64-1:/tmp/apply_manifest.pp.ofESXK {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ofESXK
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123135'
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.32 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:36$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.n48x1N

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-pyjc6h centos6-64-1:/tmp/apply_manifest.pp.n48x1N {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.n48x1N
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123137'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.55 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:38$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
664

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:39$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.mGWHWG

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1hodb6r centos6-64-1:/tmp/apply_manifest.pp.mGWHWG {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.mGWHWG
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123140'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.29 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.9N5kIH

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9e6nub centos6-64-1:/tmp/apply_manifest.pp.9N5kIH {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.9N5kIH
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123143'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.53 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:44$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
665

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:44$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.dAwd0P

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-cih7v8 centos6-64-1:/tmp/apply_manifest.pp.dAwd0P {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.dAwd0P
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123145'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.87 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:46$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:46$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.cWF2OA

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1wb3q93 centos6-64-1:/tmp/apply_manifest.pp.cWF2OA {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cWF2OA
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123147'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.85 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:48$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
774

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.S2cqAu

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-x1rbcy centos6-64-1:/tmp/apply_manifest.pp.S2cqAu {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.S2cqAu
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123149'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.91 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.4LrUuU

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ib4qo7 centos6-64-1:/tmp/apply_manifest.pp.4LrUuU {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4LrUuU
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123151'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.99 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:52$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
775

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:52$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.685P9a

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-5nx76s centos6-64-1:/tmp/apply_manifest.pp.685P9a {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.685P9a
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123153'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.95 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:54$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:54$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.yrKWor

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1gtfsy6 centos6-64-1:/tmp/apply_manifest.pp.yrKWor {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yrKWor
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123155'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.86 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:56$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
1774

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:56$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Hf6q53

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-19npl0o centos6-64-1:/tmp/apply_manifest.pp.Hf6q53 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Hf6q53
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123157'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.95 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:25:58$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.rKhg9U

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-icb44p centos6-64-1:/tmp/apply_manifest.pp.rKhg9U {}

n6vo88vhlunm0j0 (centos6-64-1) 13:25:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.rKhg9U
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123160'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:00$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
1775

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:00$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.zBRmPB

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-uovwst centos6-64-1:/tmp/apply_manifest.pp.zBRmPB {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.zBRmPB
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123162'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.89 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:02$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:02$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.F7ZRZ8

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1hh91lt centos6-64-1:/tmp/apply_manifest.pp.F7ZRZ8 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.F7ZRZ8
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123164'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.01 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:05$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
6774

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:05$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.U9Ty3e

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-13uwdd8 centos6-64-1:/tmp/apply_manifest.pp.U9Ty3e {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.U9Ty3e
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123166'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.51 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:07$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.5We3st

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-h58s31 centos6-64-1:/tmp/apply_manifest.pp.5We3st {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.5We3st
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123169'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.57 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:10$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
6775

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.NQbi1C

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9tiq39 centos6-64-1:/tmp/apply_manifest.pp.NQbi1C {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.NQbi1C
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123171'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:12$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.1gIkxY

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ec9qkb centos6-64-1:/tmp/apply_manifest.pp.1gIkxY {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.1gIkxY
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123174'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:14$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
7774

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.AZMGBZ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-i4hyii centos6-64-1:/tmp/apply_manifest.pp.AZMGBZ {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.AZMGBZ
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123176'
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.41 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:17$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.IOzTOH

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.14 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-96820x centos6-64-1:/tmp/apply_manifest.pp.IOzTOH {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.IOzTOH
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123179'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.28 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:19$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
7775

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.jZI0XT

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ogiw9v centos6-64-1:/tmp/apply_manifest.pp.jZI0XT {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.jZI0XT
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123181'
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:22$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.7lpNDS

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-uo6vk2 centos6-64-1:/tmp/apply_manifest.pp.7lpNDS {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.7lpNDS
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123184'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.59 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:25$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
444

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:25$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.y862Cv

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-2umh8a centos6-64-1:/tmp/apply_manifest.pp.y862Cv {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.y862Cv
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123186'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:27$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.eARHE7

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-r1a05y centos6-64-1:/tmp/apply_manifest.pp.eARHE7 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.eARHE7
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123189'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.87 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:30$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
444

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:30$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.JLF2sG

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-60tpdk centos6-64-1:/tmp/apply_manifest.pp.JLF2sG {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.JLF2sG
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123192'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.59 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:33$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:33$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.bkxkgu

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ioesxa centos6-64-1:/tmp/apply_manifest.pp.bkxkgu {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bkxkgu
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123195'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.33 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:35$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
666

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:35$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.bmKRlw

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1p5ckim centos6-64-1:/tmp/apply_manifest.pp.bmKRlw {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bmKRlw
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123198'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.50 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:39$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.NrLWA7

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ewipvg centos6-64-1:/tmp/apply_manifest.pp.NrLWA7 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.NrLWA7
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123201'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.83 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:42$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
666

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:42$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Ir0oOF

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-cue09z centos6-64-1:/tmp/apply_manifest.pp.Ir0oOF {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Ir0oOF
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123204'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.31 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:45$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:45$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.iMF4UW

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ia58dt centos6-64-1:/tmp/apply_manifest.pp.iMF4UW {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.iMF4UW
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123206'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:47$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
777

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:47$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.frYmGb

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1pqoo9y centos6-64-1:/tmp/apply_manifest.pp.frYmGb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.frYmGb
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123209'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.28 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.CBkwcj

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ersor centos6-64-1:/tmp/apply_manifest.pp.CBkwcj {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.CBkwcj
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123211'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.42 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:52$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
777

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:52$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.SZ2sYu

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1y59opw centos6-64-1:/tmp/apply_manifest.pp.SZ2sYu {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SZ2sYu
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123214'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:54$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:54$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.bc7KaT

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-xdn61r centos6-64-1:/tmp/apply_manifest.pp.bc7KaT {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bc7KaT
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123216'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:57$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
1777

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.jyoSZb

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-5l4itw centos6-64-1:/tmp/apply_manifest.pp.jyoSZb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.jyoSZb
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123218'
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.37 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:26:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.2ICpkX

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-wvrep8 centos6-64-1:/tmp/apply_manifest.pp.2ICpkX {}

n6vo88vhlunm0j0 (centos6-64-1) 13:26:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.2ICpkX
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123221'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.82 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:02$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
1777

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:02$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.kfsst3

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-qoarbp centos6-64-1:/tmp/apply_manifest.pp.kfsst3 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.kfsst3
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123224'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:05$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:05$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.8I0Opl

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-191eta8 centos6-64-1:/tmp/apply_manifest.pp.8I0Opl {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.8I0Opl
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123226'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:07$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
7777

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:07$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.bksIBh

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1n5e7t8 centos6-64-1:/tmp/apply_manifest.pp.bksIBh {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bksIBh
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123228'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:09$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.UNjxQR

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1vpwtlx centos6-64-1:/tmp/apply_manifest.pp.UNjxQR {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.UNjxQR
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123230'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:11$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
7777

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:11$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.tGuAPc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-k4fgln centos6-64-1:/tmp/apply_manifest.pp.tGuAPc {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.tGuAPc
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123233'
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:13$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Ar7teE

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-190taia centos6-64-1:/tmp/apply_manifest.pp.Ar7teE {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Ar7teE
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123236'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.97 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:17$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
755

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:17$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Iy6yTT

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-s6lfnm centos6-64-1:/tmp/apply_manifest.pp.Iy6yTT {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Iy6yTT
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123238'
Notice: Finished catalog run in 2.48 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.95 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.IBn2Em

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9jipdz centos6-64-1:/tmp/apply_manifest.pp.IBn2Em {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.IBn2Em
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123243'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:24$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
755

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:24$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Mp7hkF

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zq754s centos6-64-1:/tmp/apply_manifest.pp.Mp7hkF {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Mp7hkF
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123245'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:26$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:26$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.O2r42R

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-l8ru0w centos6-64-1:/tmp/apply_manifest.pp.O2r42R {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.O2r42R
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123248'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.95 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:28$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
754

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:28$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.iRbmSK

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-cnr81s centos6-64-1:/tmp/apply_manifest.pp.iRbmSK {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.iRbmSK
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123250'
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.48 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:31$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.0mJrE5

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ts01lt centos6-64-1:/tmp/apply_manifest.pp.0mJrE5 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0mJrE5
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123253'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.24 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:33$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
754

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:33$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.VolgHJ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1vux9cp centos6-64-1:/tmp/apply_manifest.pp.VolgHJ {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.VolgHJ
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123255'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.85 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:36$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.rcHOWz

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1wnoph9 centos6-64-1:/tmp/apply_manifest.pp.rcHOWz {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.rcHOWz
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123258'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.53 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:39$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
750

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:39$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.IOJF44

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-16qehbn centos6-64-1:/tmp/apply_manifest.pp.IOJF44 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.IOJF44
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123261'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.24 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:42$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ucUspf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1q68tks centos6-64-1:/tmp/apply_manifest.pp.ucUspf {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ucUspf
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123266'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 5.25 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:47$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
750

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:47$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.QeLD2h

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-7h3d03 centos6-64-1:/tmp/apply_manifest.pp.QeLD2h {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.QeLD2h
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123271'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:51$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:51$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.kbGae7

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1aw6mh9 centos6-64-1:/tmp/apply_manifest.pp.kbGae7 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.kbGae7
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123275'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:56$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
777

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:56$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.6lzYET

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ugz2zw centos6-64-1:/tmp/apply_manifest.pp.6lzYET {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6lzYET
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123278'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.90 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:27:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.IsQYnJ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-gk5w1d centos6-64-1:/tmp/apply_manifest.pp.IsQYnJ {}

n6vo88vhlunm0j0 (centos6-64-1) 13:27:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.IsQYnJ
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123280'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.65 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:01$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
777

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:02$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.6rP0FZ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-s4p4v0 centos6-64-1:/tmp/apply_manifest.pp.6rP0FZ {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6rP0FZ
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123283'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.88 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:04$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:04$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.MfxFor

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-igkgbx centos6-64-1:/tmp/apply_manifest.pp.MfxFor {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.MfxFor
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123286'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.82 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:07$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
644

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:07$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.yexItj

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1i21pwc centos6-64-1:/tmp/apply_manifest.pp.yexItj {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yexItj
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123288'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.70 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:11$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.z16D78

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1mo31sg centos6-64-1:/tmp/apply_manifest.pp.z16D78 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.z16D78
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123292'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.00 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:15$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
755

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:15$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.1D3VOS

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-15dv2nc centos6-64-1:/tmp/apply_manifest.pp.1D3VOS {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.1D3VOS
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123296'
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:19$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:19$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.KQYiY7

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1h7bfw5 centos6-64-1:/tmp/apply_manifest.pp.KQYiY7 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.KQYiY7
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123301'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:22$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
644

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.BTPSs3

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1qr03q7 centos6-64-1:/tmp/apply_manifest.pp.BTPSs3 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BTPSs3
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123303'
Notice: Finished catalog run in 0.22 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.77 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:25$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.4GHlLT

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1vcexe6 centos6-64-1:/tmp/apply_manifest.pp.4GHlLT {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4GHlLT
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123307'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.45 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:28$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
755

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:28$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.M8JzzX

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-noragi centos6-64-1:/tmp/apply_manifest.pp.M8JzzX {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.M8JzzX
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123310'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.30 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:31$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:31$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.oPRsB6

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-7i5pp centos6-64-1:/tmp/apply_manifest.pp.oPRsB6 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.oPRsB6
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123313'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/ensure: created
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:34$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:34$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.j2DNIm

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-17te5xf centos6-64-1:/tmp/apply_manifest.pp.j2DNIm {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.j2DNIm
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123316'
Notice: Finished catalog run in 0.33 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.45 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:37$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.wFUjUk

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-qkfgwg centos6-64-1:/tmp/apply_manifest.pp.wFUjUk {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wFUjUk
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123319'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/ensure: created
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.51 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:40$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
755

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:40$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.SyEhID

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1mecv0q centos6-64-1:/tmp/apply_manifest.pp.SyEhID {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SyEhID
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123322'
Notice: Finished catalog run in 2.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 5.22 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:45$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:45$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 200 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:45$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 200 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:45$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.yHV4VZ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-aotu8k centos6-64-1:/tmp/apply_manifest.pp.yHV4VZ {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yHV4VZ
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123326'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0200' to '0600' (u+r)
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.01 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:47$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
600

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:47$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.H9O46D

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-c4rfbs centos6-64-1:/tmp/apply_manifest.pp.H9O46D {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.H9O46D
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123330'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.41 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:51$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XIPCmE

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-wt5t5s centos6-64-1:/tmp/apply_manifest.pp.XIPCmE {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XIPCmE
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123332'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0200' to '0600' (u+r)
Notice: Finished catalog run in 0.22 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:54$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
600

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:54$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.97VWmj

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-8chfu9 centos6-64-1:/tmp/apply_manifest.pp.97VWmj {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.97VWmj
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123335'
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:56$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.26 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:57$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 600 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:57$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 600 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:28:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.pgmxbj

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1bmi4qx centos6-64-1:/tmp/apply_manifest.pp.pgmxbj {}

n6vo88vhlunm0j0 (centos6-64-1) 13:28:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.pgmxbj
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123339'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.55 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:00$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ezuNaD

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1fp5jvz centos6-64-1:/tmp/apply_manifest.pp.ezuNaD {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ezuNaD
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123341'
Notice: Finished catalog run in 0.28 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.83 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:03$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:03$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 500 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:03$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 500 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:03$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.e02n8K

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.22 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1tndrip centos6-64-1:/tmp/apply_manifest.pp.e02n8K {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.e02n8K
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123345'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0500' to '0700' (u+w)
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:06$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
700

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:06$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.gIJfH5

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-195bv9i centos6-64-1:/tmp/apply_manifest.pp.gIJfH5 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.gIJfH5
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123349'
Notice: Finished catalog run in 0.63 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.96 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:11$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.o2ib4s

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ag89jy centos6-64-1:/tmp/apply_manifest.pp.o2ib4s {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.o2ib4s
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123353'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0500' to '0700' (u+w)
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.49 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:13$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
700

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.QZMhxK

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xehya8 centos6-64-1:/tmp/apply_manifest.pp.QZMhxK {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.QZMhxK
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123355'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:16$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:16$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 400 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:16$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 400 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.pdZ4hM

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9sb1sb centos6-64-1:/tmp/apply_manifest.pp.pdZ4hM {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.pdZ4hM
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123357'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0400' to '0600' (u+w)
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.42 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:18$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
600

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:19$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ZFs8Ro

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-z8u0md centos6-64-1:/tmp/apply_manifest.pp.ZFs8Ro {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZFs8Ro
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123360'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:21$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.oUwG14

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-upysh7 centos6-64-1:/tmp/apply_manifest.pp.oUwG14 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.oUwG14
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123363'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0400' to '0600' (u+w)
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.94 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:23$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
600

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:23$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Ldsd5V

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-104h86f centos6-64-1:/tmp/apply_manifest.pp.Ldsd5V {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Ldsd5V
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123365'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:25$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:25$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 700 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:26$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 700 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:26$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.SQPRDP

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-99n9f2 centos6-64-1:/tmp/apply_manifest.pp.SQPRDP {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SQPRDP
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123367'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.50 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:28$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Ipg3TT

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-sfk96a centos6-64-1:/tmp/apply_manifest.pp.Ipg3TT {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Ipg3TT
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123369'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.01 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:30$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:30$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 600 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:30$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 600 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:30$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.0sbU7f

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-g8axsh centos6-64-1:/tmp/apply_manifest.pp.0sbU7f {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0sbU7f
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123372'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0600' to '0700' (u+x)
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:33$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
700

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:33$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.xTc5of

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1huausg centos6-64-1:/tmp/apply_manifest.pp.xTc5of {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.xTc5of
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123374'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:35$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.776kce

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1vgm7m5 centos6-64-1:/tmp/apply_manifest.pp.776kce {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.776kce
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123376'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0600' to '0700' (u+x)
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:37$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
700

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:37$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.PDmh0T

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-l1arfq centos6-64-1:/tmp/apply_manifest.pp.PDmh0T {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.PDmh0T
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123378'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.99 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:39$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:39$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 100 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:39$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 100 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:39$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.3buZLn

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-rjjh9g centos6-64-1:/tmp/apply_manifest.pp.3buZLn {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.3buZLn
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123381'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.99 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.icSPrn

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-19j9hxb centos6-64-1:/tmp/apply_manifest.pp.icSPrn {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.icSPrn
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123383'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.99 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:44$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:44$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 200 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:44$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 200 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:44$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Wvdx7j

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-wwpc6e centos6-64-1:/tmp/apply_manifest.pp.Wvdx7j {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Wvdx7j
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123385'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0200' to '0300' (u+X)
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.87 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:46$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
300

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:46$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Odqje3

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1sq1yc0 centos6-64-1:/tmp/apply_manifest.pp.Odqje3 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Odqje3
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123387'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.QBNQeR

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1pzczsf centos6-64-1:/tmp/apply_manifest.pp.QBNQeR {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.QBNQeR
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403123390'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0200' to '0300' (u+X)
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.45 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:51$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
300

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:51$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.yFiN3G

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-e7axds centos6-64-1:/tmp/apply_manifest.pp.yFiN3G {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yFiN3G
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123392'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:53$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:53$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 400 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:53$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 400 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:53$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.42W3gK

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-32029s centos6-64-1:/tmp/apply_manifest.pp.42W3gK {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.42W3gK
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123394'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0400' to '0500' (u+X)
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:55$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
500

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:55$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.NRzfaN

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-suc816 centos6-64-1:/tmp/apply_manifest.pp.NRzfaN {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.NRzfaN
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123397'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.70 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:29:58$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.9ijnNO

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-gns12s centos6-64-1:/tmp/apply_manifest.pp.9ijnNO {}

n6vo88vhlunm0j0 (centos6-64-1) 13:29:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.9ijnNO
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123400'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0400' to '0500' (u+X)
Notice: Finished catalog run in 0.24 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.93 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:01$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
500

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.73 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:02$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.2yzNZv

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.14 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-kods8w centos6-64-1:/tmp/apply_manifest.pp.2yzNZv {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.2yzNZv
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123404'
Notice: Finished catalog run in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.76 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:05$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:05$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 700 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:05$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 700 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:05$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ilF5aK

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1wnkh8g centos6-64-1:/tmp/apply_manifest.pp.ilF5aK {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ilF5aK
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123407'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0700' to '0711' (a+X)
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.98 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:08$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
711

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:09$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ScclXn

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-pvr76v centos6-64-1:/tmp/apply_manifest.pp.ScclXn {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ScclXn
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123411'
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.43 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XSHcyV

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-v5r47m centos6-64-1:/tmp/apply_manifest.pp.XSHcyV {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XSHcyV
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123414'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0700' to '0711' (a+X)
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:15$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
711

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:15$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.WCbf0T

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-g06joz centos6-64-1:/tmp/apply_manifest.pp.WCbf0T {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.WCbf0T
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123417'
Notice: Finished catalog run in 0.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:18$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:18$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 744 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:18$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 744 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:18$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.m4HNtE

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-fdk696 centos6-64-1:/tmp/apply_manifest.pp.m4HNtE {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.m4HNtE
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123421'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0744' to '4744' (u+s)
Notice: Finished catalog run in 0.29 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.90 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:22$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
4744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Z1ICjS

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-sc106j centos6-64-1:/tmp/apply_manifest.pp.Z1ICjS {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Z1ICjS
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123425'
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.26 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:27$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.FNOyRH

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1lr6hav centos6-64-1:/tmp/apply_manifest.pp.FNOyRH {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.FNOyRH
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123429'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0744' to '4744' (u+s)
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.65 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:30$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
4744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:30$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.WbtOWu

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-11wykcl centos6-64-1:/tmp/apply_manifest.pp.WbtOWu {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.WbtOWu
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123431'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.45 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:32$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:32$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 744 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:32$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 744 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:32$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.mw5PJC

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-11fpcn1 centos6-64-1:/tmp/apply_manifest.pp.mw5PJC {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.mw5PJC
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123434'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0744' to '2744' (g+s)
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.34 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:35$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
2744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:35$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ixlv7w

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1m0yukv centos6-64-1:/tmp/apply_manifest.pp.ixlv7w {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ixlv7w
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123437'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ikZ3pe

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-p6xd34 centos6-64-1:/tmp/apply_manifest.pp.ikZ3pe {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ikZ3pe
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123440'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0744' to '2744' (g+s)
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.52 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:41$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
2744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.OrXD01

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1h00iis centos6-64-1:/tmp/apply_manifest.pp.OrXD01 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.OrXD01
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123443'
Notice: Finished catalog run in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.98 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:44$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:44$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 744 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:44$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 744 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:44$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.xolWPo

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-kumv2d centos6-64-1:/tmp/apply_manifest.pp.xolWPo {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.xolWPo
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123446'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0744' to '1744' (u+t)
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.40 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:47$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
1744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:47$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.RGzV3J

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-nupgnq centos6-64-1:/tmp/apply_manifest.pp.RGzV3J {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.RGzV3J
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123448'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.45 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:49$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.E87xWN

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-7ajtlh centos6-64-1:/tmp/apply_manifest.pp.E87xWN {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.E87xWN
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123451'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0744' to '1744' (u+t)
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.70 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:52$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
1744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:52$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.lbAAeu

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1sx9r15 centos6-64-1:/tmp/apply_manifest.pp.lbAAeu {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.lbAAeu
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123454'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:54$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:54$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 200 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:55$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 200 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:55$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.GbrE6p

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-xb08xk centos6-64-1:/tmp/apply_manifest.pp.GbrE6p {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.GbrE6p
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123456'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:30:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.7wQ0OT

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-5r4ssm centos6-64-1:/tmp/apply_manifest.pp.7wQ0OT {}

n6vo88vhlunm0j0 (centos6-64-1) 13:30:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.7wQ0OT
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123459'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.89 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:00$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:00$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 600 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:00$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 600 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:00$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.0ASDrQ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-gl4tgl centos6-64-1:/tmp/apply_manifest.pp.0ASDrQ {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0ASDrQ
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123462'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0600' to '0200' (u-r)
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.89 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:03$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
200

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:03$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XHfnxY

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-22n8wn centos6-64-1:/tmp/apply_manifest.pp.XHfnxY {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XHfnxY
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123464'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:05$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.DN1j3N

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-fqi2md centos6-64-1:/tmp/apply_manifest.pp.DN1j3N {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DN1j3N
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123467'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0600' to '0200' (u-r)
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:07$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
200

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:08$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.xeZTCI

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1yo1ye5 centos6-64-1:/tmp/apply_manifest.pp.xeZTCI {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.xeZTCI
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123469'
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.93 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:10$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:10$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 500 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:10$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 500 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ESQ87g

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ssh2in centos6-64-1:/tmp/apply_manifest.pp.ESQ87g {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ESQ87g
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123471'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.94 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.N5OEKD

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ypqke1 centos6-64-1:/tmp/apply_manifest.pp.N5OEKD {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.N5OEKD
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.20 seconds
Info: Applying configuration version '1403123474'
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.71 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:16$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.35 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:16$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 600 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:16$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 600 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.h3lvBC

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1kcifr9 centos6-64-1:/tmp/apply_manifest.pp.h3lvBC {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.h3lvBC
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123478'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0600' to '0400' (u-w)
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:19$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
400

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:19$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.H47zN0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-tyejhc centos6-64-1:/tmp/apply_manifest.pp.H47zN0 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.H47zN0
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.17 seconds
Info: Applying configuration version '1403123482'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:23$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.DaG32O

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-p6fvww centos6-64-1:/tmp/apply_manifest.pp.DaG32O {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DaG32O
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123485'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0600' to '0400' (u-w)
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:26$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
400

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:26$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.YzAnOI

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zhqzck centos6-64-1:/tmp/apply_manifest.pp.YzAnOI {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YzAnOI
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123487'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:28$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:28$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 700 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:28$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 700 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:28$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.OaqNjh

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1u8is1l centos6-64-1:/tmp/apply_manifest.pp.OaqNjh {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.OaqNjh
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123490'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '0700' to '0600' (u-x)
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:31$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
600

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:31$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.YkGAQC

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-y8wh2x centos6-64-1:/tmp/apply_manifest.pp.YkGAQC {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YkGAQC
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123494'
Notice: Finished catalog run in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.34 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XC6I71

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-y5wu4z centos6-64-1:/tmp/apply_manifest.pp.XC6I71 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XC6I71
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123497'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '0700' to '0600' (u-x)
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:38$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
600

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.H9hMoD

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-2j0wrd centos6-64-1:/tmp/apply_manifest.pp.H9hMoD {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.H9hMoD
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123500'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:40$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:40$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 600 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:41$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 600 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.v6VEPD

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1cveiw centos6-64-1:/tmp/apply_manifest.pp.v6VEPD {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.v6VEPD
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123502'
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:43$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.2XWjs6

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-6dhx55 centos6-64-1:/tmp/apply_manifest.pp.2XWjs6 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.2XWjs6
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123505'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.49 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:45$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:46$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 4744 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:46$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 4744 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:46$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.mEg7HR

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-xvizd0 centos6-64-1:/tmp/apply_manifest.pp.mEg7HR {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.mEg7HR
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123508'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '4744' to '0744' (u-s)
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.68 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:49$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:49$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.QZn7Vc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10t0aht centos6-64-1:/tmp/apply_manifest.pp.QZn7Vc {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.QZn7Vc
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123510'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.71 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:51$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.QeoQkH

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1jey1dc centos6-64-1:/tmp/apply_manifest.pp.QeoQkH {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.QeoQkH
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123513'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '4744' to '0744' (u-s)
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.46 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:54$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:54$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.BKoCmK

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ye8lgk centos6-64-1:/tmp/apply_manifest.pp.BKoCmK {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BKoCmK
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123515'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.89 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:56$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:56$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 2744 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:56$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 2744 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:56$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.bM7QZ8

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-wywqbx centos6-64-1:/tmp/apply_manifest.pp.bM7QZ8 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bM7QZ8
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403123518'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '2744' to '0744' (g-s)
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.98 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:59$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:31:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.DPAFqa

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zo81pv centos6-64-1:/tmp/apply_manifest.pp.DPAFqa {}

n6vo88vhlunm0j0 (centos6-64-1) 13:31:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DPAFqa
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123520'
Notice: Finished catalog run in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.25 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.KBTfvD

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ojnlel centos6-64-1:/tmp/apply_manifest.pp.KBTfvD {}

n6vo88vhlunm0j0 (centos6-64-1) 13:32:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.KBTfvD
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.19 seconds
Info: Applying configuration version '1403123524'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '2744' to '0744' (g-s)
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.99 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:05$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:05$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ivosta

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-3msrlb centos6-64-1:/tmp/apply_manifest.pp.ivosta {}

n6vo88vhlunm0j0 (centos6-64-1) 13:32:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ivosta
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123527'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.68 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:08$  rm -rf /tmp/symbolic-modes.FnVd79/file /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:08$  touch /tmp/symbolic-modes.FnVd79/file && chown root:puppet /tmp/symbolic-modes.FnVd79/file && chmod 1744 /tmp/symbolic-modes.FnVd79/file  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:08$  mkdir -p /tmp/symbolic-modes.FnVd79/dir && chown root:puppet /tmp/symbolic-modes.FnVd79/dir && chmod 1744 /tmp/symbolic-modes.FnVd79/dir  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:08$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.j58dmp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1w1ic3i centos6-64-1:/tmp/apply_manifest.pp.j58dmp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:32:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.j58dmp
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123530'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/file]/mode: mode changed '1744' to '0744' (u-t)
Notice: Finished catalog run in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.49 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:11$  stat --format '%a' /tmp/symbolic-modes.FnVd79/file  
744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:11$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.bu46cP

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-nsv229 centos6-64-1:/tmp/apply_manifest.pp.bu46cP {}

n6vo88vhlunm0j0 (centos6-64-1) 13:32:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bu46cP
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403123532'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:13$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.YJLpaT

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1r3xup9 centos6-64-1:/tmp/apply_manifest.pp.YJLpaT {}

n6vo88vhlunm0j0 (centos6-64-1) 13:32:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YJLpaT
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123535'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.FnVd79/dir]/mode: mode changed '1744' to '0744' (u-t)
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.35 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:16$  stat --format '%a' /tmp/symbolic-modes.FnVd79/dir  
744

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:32:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.vIJgxC

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zam8zb centos6-64-1:/tmp/apply_manifest.pp.vIJgxC {}

n6vo88vhlunm0j0 (centos6-64-1) 13:32:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.vIJgxC
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403123537'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.94 seconds

  * clean up old test things

n6vo88vhlunm0j0 (centos6-64-1) 13:32:18$  rm -rf /tmp/symbolic-modes.FnVd79  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:18$  mktemp -dt symbolic-modes.XXXXXX  
/tmp/symbolic-modes.kltQwR

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:18$  mkdir -p /tmp/symbolic-modes.kltQwR  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:18$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:18$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.sDmHGo

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-gjiktx centos6-64-2:/tmp/apply_manifest.pp.sDmHGo {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.sDmHGo
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123539'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.70 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:20$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
444

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.f2APo1

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-11rqik7 centos6-64-2:/tmp/apply_manifest.pp.f2APo1 {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.f2APo1
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123541'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.94 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.VBVoTV

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-x6djc4 centos6-64-2:/tmp/apply_manifest.pp.VBVoTV {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.VBVoTV
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123543'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.70 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:23$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
455

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:24$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.3PnFeS

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1tlvg09 centos6-64-2:/tmp/apply_manifest.pp.3PnFeS {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.3PnFeS
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123545'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.80 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:25$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:25$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.nhb7iu

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-jsruk6 centos6-64-2:/tmp/apply_manifest.pp.nhb7iu {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.nhb7iu
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123547'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.82 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:27$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
244

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:27$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.BRD9np

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1gy3kdy centos6-64-2:/tmp/apply_manifest.pp.BRD9np {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BRD9np
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123548'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.83 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:29$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.1aCUhz

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1s03lel centos6-64-2:/tmp/apply_manifest.pp.1aCUhz {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.1aCUhz
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123551'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.94 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:32$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
255

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:32$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.v8UYGq

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-hqpl9s centos6-64-2:/tmp/apply_manifest.pp.v8UYGq {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.v8UYGq
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123553'
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.79 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:34$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:34$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Qm4QuW

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-11hgvmi centos6-64-2:/tmp/apply_manifest.pp.Qm4QuW {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Qm4QuW
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123555'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.96 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:36$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
144

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XbdXOO

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ht6tfv centos6-64-2:/tmp/apply_manifest.pp.XbdXOO {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XbdXOO
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123557'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.74 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.SQHFTY

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ag5mct centos6-64-2:/tmp/apply_manifest.pp.SQHFTY {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SQHFTY
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123559'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.69 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:39$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
155

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:39$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.QR6mSu

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-em37uz centos6-64-2:/tmp/apply_manifest.pp.QR6mSu {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.QR6mSu
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123561'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.88 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:41$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.MCHSmz

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xmao4z centos6-64-2:/tmp/apply_manifest.pp.MCHSmz {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.MCHSmz
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123562'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.71 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:43$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
644

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:43$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.PFn8a6

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-708sdz centos6-64-2:/tmp/apply_manifest.pp.PFn8a6 {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.PFn8a6
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123564'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.81 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:45$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.3j7Rvz

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-2q8w4z centos6-64-2:/tmp/apply_manifest.pp.3j7Rvz {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.3j7Rvz
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123566'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.67 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:47$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
655

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:47$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.29qAzg

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-lqgym2 centos6-64-2:/tmp/apply_manifest.pp.29qAzg {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.29qAzg
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123568'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.70 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:49$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:49$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.kZUv1e

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1n8whnd centos6-64-2:/tmp/apply_manifest.pp.kZUv1e {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.kZUv1e
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123570'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.85 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:51$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:51$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.5tUnR0

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-tf2x5k centos6-64-2:/tmp/apply_manifest.pp.5tUnR0 {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.5tUnR0
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123572'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:53$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.1XrEuJ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1cdf9jh centos6-64-2:/tmp/apply_manifest.pp.1XrEuJ {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.1XrEuJ
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403123574'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:55$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
755

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:55$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.rP0wlH

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-18p19zi centos6-64-2:/tmp/apply_manifest.pp.rP0wlH {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.rP0wlH
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.18 seconds
Info: Applying configuration version '1403123576'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.96 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:57$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.PCA7EY

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-r4q1sy centos6-64-2:/tmp/apply_manifest.pp.PCA7EY {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.PCA7EY
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123578'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.75 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:59$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
1744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:32:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.pfYdLu

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-4g6pdv centos6-64-2:/tmp/apply_manifest.pp.pfYdLu {}

t21rjumdkqr2x5d (centos6-64-2) 13:32:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.pfYdLu
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123581'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.01 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.LtKTVa

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-105mxdn centos6-64-2:/tmp/apply_manifest.pp.LtKTVa {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LtKTVa
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123583'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.14 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.49 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:04$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
1755

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:04$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.X6t635

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-v2wz1i centos6-64-2:/tmp/apply_manifest.pp.X6t635 {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.X6t635
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123585'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.91 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:06$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:06$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.jJADVO

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-15r22i0 centos6-64-2:/tmp/apply_manifest.pp.jJADVO {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.jJADVO
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123587'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:08$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
4744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:08$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.dQhiAp

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1sju6jr centos6-64-2:/tmp/apply_manifest.pp.dQhiAp {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.dQhiAp
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123589'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.89 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.zC1yNa

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-wwt44b centos6-64-2:/tmp/apply_manifest.pp.zC1yNa {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.zC1yNa
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123592'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.34 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:13$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
4755

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:13$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.TKqBvJ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9mr75g centos6-64-2:/tmp/apply_manifest.pp.TKqBvJ {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.TKqBvJ
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123594'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.95 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:15$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:15$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.q4MrnH

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9njdb3 centos6-64-2:/tmp/apply_manifest.pp.q4MrnH {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.q4MrnH
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.20 seconds
Info: Applying configuration version '1403123596'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.26 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:17$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
5744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:17$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.t1Fxd0

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xy3vvx centos6-64-2:/tmp/apply_manifest.pp.t1Fxd0 {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.t1Fxd0
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.18 seconds
Info: Applying configuration version '1403123598'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.12 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:19$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.wnEf65

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-qc73ot centos6-64-2:/tmp/apply_manifest.pp.wnEf65 {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wnEf65
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123601'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.29 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:22$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
5755

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.hk5HXv

t21rjumdkqr2x5d (centos6-64-2) executed in 0.09 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-sbm5fe centos6-64-2:/tmp/apply_manifest.pp.hk5HXv {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hk5HXv
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123603'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.29 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:24$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:24$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.l1aclU

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xd4p2f centos6-64-2:/tmp/apply_manifest.pp.l1aclU {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.l1aclU
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123605'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.86 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:26$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
444

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:26$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Hsy3Qu

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-it0hqc centos6-64-2:/tmp/apply_manifest.pp.Hsy3Qu {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Hsy3Qu
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123607'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.86 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:28$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.yIeoS8

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-119lntq centos6-64-2:/tmp/apply_manifest.pp.yIeoS8 {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yIeoS8
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123609'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.95 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:30$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
445

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:30$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.2pxnJj

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-niy605 centos6-64-2:/tmp/apply_manifest.pp.2pxnJj {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.2pxnJj
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123612'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.11 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:33$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:33$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Q94SfM

t21rjumdkqr2x5d (centos6-64-2) executed in 0.08 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-21rrm1 centos6-64-2:/tmp/apply_manifest.pp.Q94SfM {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Q94SfM
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123614'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:35$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
664

t21rjumdkqr2x5d (centos6-64-2) executed in 0.14 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:35$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.JI0X1r

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1y0642e centos6-64-2:/tmp/apply_manifest.pp.JI0X1r {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.JI0X1r
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123617'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.14 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:37$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.MOZuMe

t21rjumdkqr2x5d (centos6-64-2) executed in 0.09 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ry6mb0 centos6-64-2:/tmp/apply_manifest.pp.MOZuMe {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.MOZuMe
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123619'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.10 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:40$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
665

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:40$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.BYPZpR

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-f6zqo centos6-64-2:/tmp/apply_manifest.pp.BYPZpR {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BYPZpR
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403123621'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.92 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:42$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:42$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.5RBV8c

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1i74kyp centos6-64-2:/tmp/apply_manifest.pp.5RBV8c {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.5RBV8c
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123623'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:44$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
774

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:44$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.TyxNpt

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1p6qkhb centos6-64-2:/tmp/apply_manifest.pp.TyxNpt {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.TyxNpt
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.17 seconds
Info: Applying configuration version '1403123625'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.96 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:46$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.cGzbYy

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-yoslnn centos6-64-2:/tmp/apply_manifest.pp.cGzbYy {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cGzbYy
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123627'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.91 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:48$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
775

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.O5Xutg

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-e5e6sy centos6-64-2:/tmp/apply_manifest.pp.O5Xutg {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.O5Xutg
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123629'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.13 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:50$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.jTGdKm

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-v8la1x centos6-64-2:/tmp/apply_manifest.pp.jTGdKm {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.jTGdKm
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403123631'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.90 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:52$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
1774

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:52$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.7eDu2I

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-601r7x centos6-64-2:/tmp/apply_manifest.pp.7eDu2I {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.7eDu2I
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123634'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:55$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.VMbsLh

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-qatwj centos6-64-2:/tmp/apply_manifest.pp.VMbsLh {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.VMbsLh
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123636'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.00 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:57$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
1775

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.1DUT0r

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-144z9xg centos6-64-2:/tmp/apply_manifest.pp.1DUT0r {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.1DUT0r
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123638'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.13 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:59$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:33:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.DqCZWN

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ogqquz centos6-64-2:/tmp/apply_manifest.pp.DqCZWN {}

t21rjumdkqr2x5d (centos6-64-2) 13:33:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DqCZWN
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123640'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.93 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:01$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
6774

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Cuah7y

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-yjy7rx centos6-64-2:/tmp/apply_manifest.pp.Cuah7y {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Cuah7y
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123642'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.62 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:04$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.jRkpYO

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-7844eu centos6-64-2:/tmp/apply_manifest.pp.jRkpYO {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.jRkpYO
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123646'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.93 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:07$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
6775

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:07$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.5RC34H

t21rjumdkqr2x5d (centos6-64-2) executed in 0.09 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1bm7qns centos6-64-2:/tmp/apply_manifest.pp.5RC34H {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.5RC34H
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123649'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.21 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:09$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:09$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.zGH2lh

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-v2c76v centos6-64-2:/tmp/apply_manifest.pp.zGH2lh {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.zGH2lh
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123651'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.92 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:11$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
7774

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:11$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.x7Xoxb

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1cn7q40 centos6-64-2:/tmp/apply_manifest.pp.x7Xoxb {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.x7Xoxb
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.17 seconds
Info: Applying configuration version '1403123653'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.94 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:13$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.6ofQ2l

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-101ovaw centos6-64-2:/tmp/apply_manifest.pp.6ofQ2l {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6ofQ2l
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123655'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.95 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:15$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
7775

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.4p6O9O

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1i7h85o centos6-64-2:/tmp/apply_manifest.pp.4p6O9O {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4p6O9O
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.19 seconds
Info: Applying configuration version '1403123657'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.10 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:18$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:18$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.w2rdz3

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1sh2oxa centos6-64-2:/tmp/apply_manifest.pp.w2rdz3 {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.w2rdz3
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123659'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:20$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
444

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ifktLb

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ikfv3e centos6-64-2:/tmp/apply_manifest.pp.ifktLb {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ifktLb
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123661'
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.11 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.A7d59F

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1fg0pt6 centos6-64-2:/tmp/apply_manifest.pp.A7d59F {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.A7d59F
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123663'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:24$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
444

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:24$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Rdo8bt

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-tixxsl centos6-64-2:/tmp/apply_manifest.pp.Rdo8bt {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Rdo8bt
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.18 seconds
Info: Applying configuration version '1403123666'
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.19 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:27$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:27$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.y54lzn

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ogd6m8 centos6-64-2:/tmp/apply_manifest.pp.y54lzn {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.y54lzn
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123668'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:29$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
666

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:29$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ts9kIi

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9zzo09 centos6-64-2:/tmp/apply_manifest.pp.ts9kIi {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ts9kIi
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123670'
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.10 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:31$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.axkfCF

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-opuid5 centos6-64-2:/tmp/apply_manifest.pp.axkfCF {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.axkfCF
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123672'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.15 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:33$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
666

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:34$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.FPVdaG

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-5uc5ra centos6-64-2:/tmp/apply_manifest.pp.FPVdaG {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.FPVdaG
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123675'
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.13 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:36$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.YQHF4F

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-11kq3iw centos6-64-2:/tmp/apply_manifest.pp.YQHF4F {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YQHF4F
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123677'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.12 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:38$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
777

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.RU9RdI

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10vw5y4 centos6-64-2:/tmp/apply_manifest.pp.RU9RdI {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.RU9RdI
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123679'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.78 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:40$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.tAJAmd

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1laronb centos6-64-2:/tmp/apply_manifest.pp.tAJAmd {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.tAJAmd
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123681'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.83 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:42$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
777

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:42$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.UiFFBi

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ethfn4 centos6-64-2:/tmp/apply_manifest.pp.UiFFBi {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.UiFFBi
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123683'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:44$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:44$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.0uoePS

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1hr45g7 centos6-64-2:/tmp/apply_manifest.pp.0uoePS {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0uoePS
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123685'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.90 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:46$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
1777

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:46$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ukimBC

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-8mcfif centos6-64-2:/tmp/apply_manifest.pp.ukimBC {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ukimBC
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123687'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.91 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Mp2pHs

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-k4zcga centos6-64-2:/tmp/apply_manifest.pp.Mp2pHs {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Mp2pHs
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123689'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.79 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:50$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
1777

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.TU8TB6

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1c1ksud centos6-64-2:/tmp/apply_manifest.pp.TU8TB6 {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.TU8TB6
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123692'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:52$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:52$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.I6XydI

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1wefhsw centos6-64-2:/tmp/apply_manifest.pp.I6XydI {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.I6XydI
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123694'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.91 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:54$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
7777

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:54$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.W3NEyO

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1vppkw3 centos6-64-2:/tmp/apply_manifest.pp.W3NEyO {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.W3NEyO
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.18 seconds
Info: Applying configuration version '1403123696'
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.41 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.azPTbg

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1c25duc centos6-64-2:/tmp/apply_manifest.pp.azPTbg {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.azPTbg
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123698'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.96 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:59$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
7777

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:34:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.cy41O5

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-q7fotv centos6-64-2:/tmp/apply_manifest.pp.cy41O5 {}

t21rjumdkqr2x5d (centos6-64-2) 13:34:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cy41O5
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123700'
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.15 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:01$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.02mBTy

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-18gaw2i centos6-64-2:/tmp/apply_manifest.pp.02mBTy {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.02mBTy
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123703'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.99 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:04$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
755

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:04$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.DjT0kl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1e2l3p7 centos6-64-2:/tmp/apply_manifest.pp.DjT0kl {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DjT0kl
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123705'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.86 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:06$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.PIKGTT

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1hxvq1w centos6-64-2:/tmp/apply_manifest.pp.PIKGTT {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.PIKGTT
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123707'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.84 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:08$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
755

t21rjumdkqr2x5d (centos6-64-2) executed in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:08$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.FHzdVJ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-g3i3sk centos6-64-2:/tmp/apply_manifest.pp.FHzdVJ {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.FHzdVJ
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123709'
Notice: Finished catalog run in 0.12 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.83 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:10$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.p641qY

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ls7cb0 centos6-64-2:/tmp/apply_manifest.pp.p641qY {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.p641qY
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123711'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.80 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:12$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
754

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Z4PspT

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xrj071 centos6-64-2:/tmp/apply_manifest.pp.Z4PspT {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Z4PspT
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123713'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.IfGVOM

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1uaoodf centos6-64-2:/tmp/apply_manifest.pp.IfGVOM {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.IfGVOM
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123715'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:16$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
754

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.NEDyHZ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1s3nz8w centos6-64-2:/tmp/apply_manifest.pp.NEDyHZ {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.NEDyHZ
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123717'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.99 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:18$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:18$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Yl6O8s

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1d883oh centos6-64-2:/tmp/apply_manifest.pp.Yl6O8s {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Yl6O8s
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123719'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:20$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
750

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.i1hQvX

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1nt20wl centos6-64-2:/tmp/apply_manifest.pp.i1hQvX {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.i1hQvX
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123722'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.94 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.b7mOpV

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1lnpo9p centos6-64-2:/tmp/apply_manifest.pp.b7mOpV {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.b7mOpV
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123724'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.82 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:24$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
750

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:24$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.kRuyTl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1wfgvy4 centos6-64-2:/tmp/apply_manifest.pp.kRuyTl {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.kRuyTl
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123726'
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.08 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:27$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:27$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.LEawFm

t21rjumdkqr2x5d (centos6-64-2) executed in 0.08 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1rpwfyh centos6-64-2:/tmp/apply_manifest.pp.LEawFm {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LEawFm
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123728'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.96 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:29$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
777

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:29$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.UokqFp

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-rz3rz0 centos6-64-2:/tmp/apply_manifest.pp.UokqFp {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.UokqFp
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123730'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.84 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:31$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.0BNWZl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1kzwc4l centos6-64-2:/tmp/apply_manifest.pp.0BNWZl {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0BNWZl
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123732'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.85 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:33$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
777

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:33$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.f0efCh

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ovhoz4 centos6-64-2:/tmp/apply_manifest.pp.f0efCh {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.f0efCh
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123734'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.21 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:35$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:35$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.WhMwKl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-d06yaw centos6-64-2:/tmp/apply_manifest.pp.WhMwKl {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.WhMwKl
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123736'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.94 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:37$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
644

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:37$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.qfgJVn

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-jokvy1 centos6-64-2:/tmp/apply_manifest.pp.qfgJVn {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.qfgJVn
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123738'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.88 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:39$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.gR1QLn

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10hxm3t centos6-64-2:/tmp/apply_manifest.pp.gR1QLn {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.gR1QLn
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123740'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.92 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:41$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
755

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.5xNRwE

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-16sj16w centos6-64-2:/tmp/apply_manifest.pp.5xNRwE {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.5xNRwE
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123742'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.83 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:43$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:43$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.1FJ7OB

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-4vc4ml centos6-64-2:/tmp/apply_manifest.pp.1FJ7OB {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.1FJ7OB
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123744'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.82 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:45$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
644

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:45$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.gewbRt

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-5lzrad centos6-64-2:/tmp/apply_manifest.pp.gewbRt {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.gewbRt
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123746'
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.92 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:47$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.6HxJqk

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1nb92ma centos6-64-2:/tmp/apply_manifest.pp.6HxJqk {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6HxJqk
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123748'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.95 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:49$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
755

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:49$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.e0ZQCV

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1wcarcw centos6-64-2:/tmp/apply_manifest.pp.e0ZQCV {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.e0ZQCV
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123751'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.93 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:52$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:52$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.yKGobB

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1rjqans centos6-64-2:/tmp/apply_manifest.pp.yKGobB {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yKGobB
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123753'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.82 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:54$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:54$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.CRDlRm

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1lwwzqd centos6-64-2:/tmp/apply_manifest.pp.CRDlRm {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.CRDlRm
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123755'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.87 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:56$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.cRW12b

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-e7nkok centos6-64-2:/tmp/apply_manifest.pp.cRW12b {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cRW12b
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123757'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/ensure: created
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.71 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:57$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
755

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.hHRtcn

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-e6vknu centos6-64-2:/tmp/apply_manifest.pp.hHRtcn {}

t21rjumdkqr2x5d (centos6-64-2) 13:35:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hHRtcn
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123759'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.86 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:59$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:59$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 200 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:59$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 200 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:35:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.BEQlIg

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1dwa022 centos6-64-2:/tmp/apply_manifest.pp.BEQlIg {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BEQlIg
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123761'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0200' to '0600' (u+r)
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.97 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:02$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
600

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:02$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Mm8Hn4

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1q00sj7 centos6-64-2:/tmp/apply_manifest.pp.Mm8Hn4 {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Mm8Hn4
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.17 seconds
Info: Applying configuration version '1403123766'
Notice: Finished catalog run in 0.34 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 5.38 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:07$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.q4zIJd

t21rjumdkqr2x5d (centos6-64-2) executed in 0.13 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-suw6g0 centos6-64-2:/tmp/apply_manifest.pp.q4zIJd {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.q4zIJd
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123769'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0200' to '0600' (u+r)
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.01 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:10$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
600

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.hvv3Bm

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-2rtb0u centos6-64-2:/tmp/apply_manifest.pp.hvv3Bm {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hvv3Bm
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123771'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.82 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:12$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:12$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 600 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:12$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 600 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.OR0eSe

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-w3uerb centos6-64-2:/tmp/apply_manifest.pp.OR0eSe {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.OR0eSe
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123773'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.86 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:14$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.fdkIAw

t21rjumdkqr2x5d (centos6-64-2) executed in 0.09 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1aqamax centos6-64-2:/tmp/apply_manifest.pp.fdkIAw {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.fdkIAw
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123775'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.81 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:16$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:16$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 500 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:16$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 500 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:16$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.mRvKjk

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-k9jk9x centos6-64-2:/tmp/apply_manifest.pp.mRvKjk {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.mRvKjk
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123777'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0500' to '0700' (u+w)
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.92 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:18$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
700

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:18$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.W9yWDj

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-19lnf5y centos6-64-2:/tmp/apply_manifest.pp.W9yWDj {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.W9yWDj
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123779'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.84 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.10LX4J

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1t5wq03 centos6-64-2:/tmp/apply_manifest.pp.10LX4J {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.10LX4J
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123781'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0500' to '0700' (u+w)
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.98 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:22$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
700

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ZgA4bk

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1sjd4yk centos6-64-2:/tmp/apply_manifest.pp.ZgA4bk {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZgA4bk
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123784'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.84 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:25$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:25$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 400 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:25$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 400 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:25$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.L3jQ6K

t21rjumdkqr2x5d (centos6-64-2) executed in 0.11 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-eqscyv centos6-64-2:/tmp/apply_manifest.pp.L3jQ6K {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.L3jQ6K
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123787'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0400' to '0600' (u+w)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.95 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:28$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
600

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:28$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.LBpcle

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xy0z8n centos6-64-2:/tmp/apply_manifest.pp.LBpcle {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LBpcle
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123789'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.72 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:29$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.33oO0h

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-2gpw2i centos6-64-2:/tmp/apply_manifest.pp.33oO0h {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.33oO0h
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123791'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0400' to '0600' (u+w)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.00 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:32$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
600

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:32$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.2Mn45q

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-m923vl centos6-64-2:/tmp/apply_manifest.pp.2Mn45q {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.2Mn45q
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123793'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.83 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:33$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:33$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 700 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:34$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 700 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:34$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.YOHa2Q

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1hgngta centos6-64-2:/tmp/apply_manifest.pp.YOHa2Q {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YOHa2Q
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123795'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.00 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.PeDCJt

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-de6v2k centos6-64-2:/tmp/apply_manifest.pp.PeDCJt {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.PeDCJt
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123797'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.90 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:38$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:38$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 600 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:38$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 600 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.2Wm8Km

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1kb4upf centos6-64-2:/tmp/apply_manifest.pp.2Wm8Km {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.2Wm8Km
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123799'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0600' to '0700' (u+x)
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.89 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:40$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
700

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:40$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.CxPUux

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-2a4750 centos6-64-2:/tmp/apply_manifest.pp.CxPUux {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.CxPUux
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123801'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.95 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:42$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.oWt9o3

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-le6o19 centos6-64-2:/tmp/apply_manifest.pp.oWt9o3 {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.oWt9o3
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123803'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0600' to '0700' (u+x)
Notice: Finished catalog run in 0.13 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:44$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
700

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:44$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.4fTNhk

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1o6qafc centos6-64-2:/tmp/apply_manifest.pp.4fTNhk {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4fTNhk
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123805'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.90 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:46$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:46$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 100 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:46$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 100 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:46$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.b5oVVF

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1hb97y6 centos6-64-2:/tmp/apply_manifest.pp.b5oVVF {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.b5oVVF
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123807'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.78 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.CkTi6f

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1y1mbms centos6-64-2:/tmp/apply_manifest.pp.CkTi6f {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.CkTi6f
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403123810'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.98 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:50$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:50$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 200 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.25 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:51$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 200 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:51$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.1msYsS

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1s8g5ff centos6-64-2:/tmp/apply_manifest.pp.1msYsS {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.1msYsS
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123812'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0200' to '0300' (u+X)
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.93 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:53$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
300

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:53$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XjjE6B

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-mlyjoc centos6-64-2:/tmp/apply_manifest.pp.XjjE6B {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XjjE6B
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123814'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.08 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:55$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.47kx5W

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-n4b3zj centos6-64-2:/tmp/apply_manifest.pp.47kx5W {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.47kx5W
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123816'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0200' to '0300' (u+X)
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.00 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:57$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
300

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:36:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.BMHrVB

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-3qopb5 centos6-64-2:/tmp/apply_manifest.pp.BMHrVB {}

t21rjumdkqr2x5d (centos6-64-2) 13:36:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BMHrVB
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123819'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.25 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:00$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:00$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 400 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:00$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 400 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:00$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.NW3pkV

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1s1hzm centos6-64-2:/tmp/apply_manifest.pp.NW3pkV {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.NW3pkV
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123821'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0400' to '0500' (u+X)
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.83 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:02$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
500

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:02$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.EVsalm

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1dipvmh centos6-64-2:/tmp/apply_manifest.pp.EVsalm {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.EVsalm
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123823'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.67 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:03$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.l3SXnh

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-98zqqv centos6-64-2:/tmp/apply_manifest.pp.l3SXnh {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.l3SXnh
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123825'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0400' to '0500' (u+X)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.14 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:06$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
500

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:06$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.gevuzP

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-v5rs1u centos6-64-2:/tmp/apply_manifest.pp.gevuzP {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.gevuzP
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123827'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.95 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:08$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:08$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 700 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:08$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 700 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:08$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.yvwjqg

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1f03f30 centos6-64-2:/tmp/apply_manifest.pp.yvwjqg {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yvwjqg
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.17 seconds
Info: Applying configuration version '1403123829'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0700' to '0711' (a+X)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.95 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:10$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
711

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.94bMbB

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-pu4002 centos6-64-2:/tmp/apply_manifest.pp.94bMbB {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.94bMbB
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403123831'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.22 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.SnzOMM

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9163ur centos6-64-2:/tmp/apply_manifest.pp.SnzOMM {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SnzOMM
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123834'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0700' to '0711' (a+X)
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:15$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
711

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:15$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.uq1U6J

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-db3f49 centos6-64-2:/tmp/apply_manifest.pp.uq1U6J {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.uq1U6J
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403123836'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.00 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:17$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:17$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 744 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:17$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 744 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:17$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.l8pHGV

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1wl9t79 centos6-64-2:/tmp/apply_manifest.pp.l8pHGV {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.l8pHGV
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403123838'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0744' to '4744' (u+s)
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.31 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:19$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
4744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:19$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.kM7DjG

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-hx1cek centos6-64-2:/tmp/apply_manifest.pp.kM7DjG {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.kM7DjG
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123840'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.88 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:21$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.SDWNtg

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-wgw9wp centos6-64-2:/tmp/apply_manifest.pp.SDWNtg {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SDWNtg
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123842'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0744' to '4744' (u+s)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.70 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:23$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
4744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:23$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.LMfgm1

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1gzk9nh centos6-64-2:/tmp/apply_manifest.pp.LMfgm1 {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LMfgm1
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403123844'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.09 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:25$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:25$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 744 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:25$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 744 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:25$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.WOFnCB

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1d250po centos6-64-2:/tmp/apply_manifest.pp.WOFnCB {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.WOFnCB
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123846'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0744' to '2744' (g+s)
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.76 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:27$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
2744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:27$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.BgulPh

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-dr000q centos6-64-2:/tmp/apply_manifest.pp.BgulPh {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BgulPh
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.20 seconds
Info: Applying configuration version '1403123848'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:29$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Ryibzk

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-2d3ufj centos6-64-2:/tmp/apply_manifest.pp.Ryibzk {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Ryibzk
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123851'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0744' to '2744' (g+s)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.90 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:31$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
2744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:31$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Son1Jv

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1qxlzyf centos6-64-2:/tmp/apply_manifest.pp.Son1Jv {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Son1Jv
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123853'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.85 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:33$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:33$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 744 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:34$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 744 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:34$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.MzpJ72

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1020dep centos6-64-2:/tmp/apply_manifest.pp.MzpJ72 {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.MzpJ72
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.19 seconds
Info: Applying configuration version '1403123855'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0744' to '1744' (u+t)
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:36$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
1744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.TD7LDk

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-4sj3sa centos6-64-2:/tmp/apply_manifest.pp.TD7LDk {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.TD7LDk
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403123857'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.30 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.y0InHX

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-7nj6yy centos6-64-2:/tmp/apply_manifest.pp.y0InHX {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.y0InHX
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123859'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0744' to '1744' (u+t)
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.86 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:40$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
1744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:40$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.rO50QR

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1g0e2n3 centos6-64-2:/tmp/apply_manifest.pp.rO50QR {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.rO50QR
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123862'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.99 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:42$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:42$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 200 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:42$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 200 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:42$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ht4ni8

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1dn617c centos6-64-2:/tmp/apply_manifest.pp.ht4ni8 {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ht4ni8
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403123864'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.16 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:45$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.6KT2wj

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-159y5n centos6-64-2:/tmp/apply_manifest.pp.6KT2wj {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6KT2wj
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.18 seconds
Info: Applying configuration version '1403123866'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.13 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:47$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:47$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 600 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:47$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 600 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:47$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.6xHiUO

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-kqan0 centos6-64-2:/tmp/apply_manifest.pp.6xHiUO {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6xHiUO
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123869'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0600' to '0200' (u-r)
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.14 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:50$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
200

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.wzWJEA

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-fg8qr3 centos6-64-2:/tmp/apply_manifest.pp.wzWJEA {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wzWJEA
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.18 seconds
Info: Applying configuration version '1403123871'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:52$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.wHvqVd

t21rjumdkqr2x5d (centos6-64-2) executed in 0.20 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9nq52y centos6-64-2:/tmp/apply_manifest.pp.wHvqVd {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wHvqVd
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123873'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0600' to '0200' (u-r)
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.08 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:54$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
200

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:54$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.posvcb

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ft49up centos6-64-2:/tmp/apply_manifest.pp.posvcb {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.posvcb
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123876'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.11 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:56$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:56$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 500 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:56$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 500 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:56$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.xwN9MZ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-13pbul7 centos6-64-2:/tmp/apply_manifest.pp.xwN9MZ {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.xwN9MZ
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.17 seconds
Info: Applying configuration version '1403123878'
Notice: Finished catalog run in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.21 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:37:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.aV2Eh7

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-13hrla2 centos6-64-2:/tmp/apply_manifest.pp.aV2Eh7 {}

t21rjumdkqr2x5d (centos6-64-2) 13:37:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.aV2Eh7
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123880'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:01$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:01$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 600 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:01$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 600 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.f0l3vg

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1gh9ivf centos6-64-2:/tmp/apply_manifest.pp.f0l3vg {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.f0l3vg
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.44 seconds
Info: Applying configuration version '1403123885'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0600' to '0400' (u-w)
Notice: Finished catalog run in 0.18 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 5.49 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:07$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
400

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:07$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.471mbb

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-v9g7cs centos6-64-2:/tmp/apply_manifest.pp.471mbb {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.471mbb
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123889'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.39 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:10$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.DZmDG1

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1idn39x centos6-64-2:/tmp/apply_manifest.pp.DZmDG1 {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DZmDG1
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123892'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0600' to '0400' (u-w)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.99 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:13$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
400

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:13$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.xJQQVZ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1g242tc centos6-64-2:/tmp/apply_manifest.pp.xJQQVZ {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.xJQQVZ
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123894'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.23 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:15$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:15$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 700 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:15$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 700 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:15$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.jF6rMX

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-zjxzna centos6-64-2:/tmp/apply_manifest.pp.jF6rMX {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.jF6rMX
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403123896'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '0700' to '0600' (u-x)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.19 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:17$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
600

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:17$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.vWx26K

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1tyjebh centos6-64-2:/tmp/apply_manifest.pp.vWx26K {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.vWx26K
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123898'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.84 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:19$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.31Lx3j

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-3pku76 centos6-64-2:/tmp/apply_manifest.pp.31Lx3j {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.31Lx3j
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123901'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '0700' to '0600' (u-x)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:21$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
600

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:21$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.uaVW5L

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-yqlxnx centos6-64-2:/tmp/apply_manifest.pp.uaVW5L {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.uaVW5L
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123903'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.85 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:23$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:23$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 600 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:24$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 600 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:24$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.cz5DDH

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1c1qd7l centos6-64-2:/tmp/apply_manifest.pp.cz5DDH {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cz5DDH
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123905'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.94 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:26$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.OJhbNR

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-12nqu1l centos6-64-2:/tmp/apply_manifest.pp.OJhbNR {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.OJhbNR
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123907'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.80 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:27$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:28$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 4744 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:28$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 4744 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:28$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.J3mQRC

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-tcoejd centos6-64-2:/tmp/apply_manifest.pp.J3mQRC {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.J3mQRC
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123909'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '4744' to '0744' (u-s)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.89 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:30$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:30$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.wnh2KH

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1afwpx0 centos6-64-2:/tmp/apply_manifest.pp.wnh2KH {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wnh2KH
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123911'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.83 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:32$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.kGqGxL

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1o3nmmf centos6-64-2:/tmp/apply_manifest.pp.kGqGxL {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.kGqGxL
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403123913'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '4744' to '0744' (u-s)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.00 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:34$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:34$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.kxfI5z

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-19ut9pn centos6-64-2:/tmp/apply_manifest.pp.kxfI5z {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.kxfI5z
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123915'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.84 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:36$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:36$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 2744 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:36$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 2744 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.4aBuXF

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-qo8jy4 centos6-64-2:/tmp/apply_manifest.pp.4aBuXF {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4aBuXF
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403123917'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '2744' to '0744' (g-s)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.86 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:38$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.nrX8Mt

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-hexfrv centos6-64-2:/tmp/apply_manifest.pp.nrX8Mt {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.nrX8Mt
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123919'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.93 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:40$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ecoVhz

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1tq18c9 centos6-64-2:/tmp/apply_manifest.pp.ecoVhz {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ecoVhz
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123921'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '2744' to '0744' (g-s)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.92 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:42$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:42$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.h9oP9I

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-94ip9e centos6-64-2:/tmp/apply_manifest.pp.h9oP9I {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.h9oP9I
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123923'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.84 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:44$  rm -rf /tmp/symbolic-modes.kltQwR/file /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:44$  touch /tmp/symbolic-modes.kltQwR/file && chown root:puppet /tmp/symbolic-modes.kltQwR/file && chmod 1744 /tmp/symbolic-modes.kltQwR/file  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:44$  mkdir -p /tmp/symbolic-modes.kltQwR/dir && chown root:puppet /tmp/symbolic-modes.kltQwR/dir && chmod 1744 /tmp/symbolic-modes.kltQwR/dir  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:44$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.HdfrzD

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1o9agg centos6-64-2:/tmp/apply_manifest.pp.HdfrzD {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.HdfrzD
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123925'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/file]/mode: mode changed '1744' to '0744' (u-t)
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.82 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:46$  stat --format '%a' /tmp/symbolic-modes.kltQwR/file  
744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:46$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.4AS4yF

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-174qnzd centos6-64-2:/tmp/apply_manifest.pp.4AS4yF {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4AS4yF
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123927'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.89 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.lcJqC4

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1f0znow centos6-64-2:/tmp/apply_manifest.pp.lcJqC4 {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.lcJqC4
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403123929'
Notice: /Stage[main]/Main/File[/tmp/symbolic-modes.kltQwR/dir]/mode: mode changed '1744' to '0744' (u-t)
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.85 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:50$  stat --format '%a' /tmp/symbolic-modes.kltQwR/dir  
744

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:38:50$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Qj3yBY

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1pxf48x centos6-64-2:/tmp/apply_manifest.pp.Qj3yBY {}

t21rjumdkqr2x5d (centos6-64-2) 13:38:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Qj3yBY
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.10 seconds
Info: Applying configuration version '1403123931'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.79 seconds

  * clean up old test things

t21rjumdkqr2x5d (centos6-64-2) 13:38:52$  rm -rf /tmp/symbolic-modes.kltQwR  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/file" name="ticket_7680-follow-symlinks.rb" time="0.006865"><skip type="skip"/><system-out><![CDATA[
#7680: 'links => follow' should use the file source content
Warning: No suitable hosts with: {:platform=>"windows"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/file" name="ticket_8740_should_not_enumerate_root_directory.rb" time="6.703290"><system-out><![CDATA[
#8740: should not enumerate root directory

  * clean up the system before we begin

n6vo88vhlunm0j0 (centos6-64-1) 13:38:52$  rm -f /test-socket-42992  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * create UNIX domain socket

n6vo88vhlunm0j0 (centos6-64-1) 13:38:52$  /usr/bin/ruby -e "require 'socket'; UNIXServer::new('/test-socket-42992').close"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * query for all files, which should return nothing

n6vo88vhlunm0j0 (centos6-64-1) 13:38:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file
Error: Could not run: Listing all file instances is not supported.  Please specify a file or directory, e.g. puppet resource file /etc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.94 seconds
Exited: 1

  * query '/' directory, which should return single entry

n6vo88vhlunm0j0 (centos6-64-1) 13:38:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /
file { '/':
  ensure   => 'directory',
  ctime    => 'Wed Jun 18 13:38:52 -0700 2014',
  group    => '0',
  mode     => '555',
  mtime    => 'Wed Jun 18 13:38:52 -0700 2014',
  owner    => '0',
  selrange => 's0',
  selrole  => 'object_r',
  seltype  => 'root_t',
  seluser  => 'system_u',
  type     => 'directory',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.79 seconds

  * query '/etc' directory, which should return single entry

n6vo88vhlunm0j0 (centos6-64-1) 13:38:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /etc
file { '/etc':
  ensure   => 'directory',
  ctime    => 'Wed Jun 18 13:22:34 -0700 2014',
  group    => '0',
  mode     => '755',
  mtime    => 'Wed Jun 18 13:22:34 -0700 2014',
  owner    => '0',
  selrange => 's0',
  selrole  => 'object_r',
  seltype  => 'etc_t',
  seluser  => 'system_u',
  type     => 'directory',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.79 seconds

  * query file that does not exist, which should report the file is absent

n6vo88vhlunm0j0 (centos6-64-1) 13:38:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /this/does/notexist
file { '/this/does/notexist':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.79 seconds

  * remove UNIX domain socket

n6vo88vhlunm0j0 (centos6-64-1) 13:38:56$  rm -f /test-socket-42992  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * clean up the system before we begin

t21rjumdkqr2x5d (centos6-64-2) 13:38:56$  rm -f /test-socket-42992  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * create UNIX domain socket

t21rjumdkqr2x5d (centos6-64-2) 13:38:56$  /usr/bin/ruby -e "require 'socket'; UNIXServer::new('/test-socket-42992').close"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

  * query for all files, which should return nothing

t21rjumdkqr2x5d (centos6-64-2) 13:38:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file
Error: Could not run: Listing all file instances is not supported.  Please specify a file or directory, e.g. puppet resource file /etc

t21rjumdkqr2x5d (centos6-64-2) executed in 0.86 seconds
Exited: 1

  * query '/' directory, which should return single entry

t21rjumdkqr2x5d (centos6-64-2) 13:38:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /
file { '/':
  ensure   => 'directory',
  ctime    => 'Wed Jun 18 13:38:56 -0700 2014',
  group    => '0',
  mode     => '555',
  mtime    => 'Wed Jun 18 13:38:56 -0700 2014',
  owner    => '0',
  selrange => 's0',
  selrole  => 'object_r',
  seltype  => 'root_t',
  seluser  => 'system_u',
  type     => 'directory',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.76 seconds

  * query '/etc' directory, which should return single entry

t21rjumdkqr2x5d (centos6-64-2) 13:38:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /etc
file { '/etc':
  ensure   => 'directory',
  ctime    => 'Wed Jun 18 13:22:36 -0700 2014',
  group    => '0',
  mode     => '755',
  mtime    => 'Wed Jun 18 13:22:36 -0700 2014',
  owner    => '0',
  selrange => 's0',
  selrole  => 'object_r',
  seltype  => 'etc_t',
  seluser  => 'system_u',
  type     => 'directory',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.79 seconds

  * query file that does not exist, which should report the file is absent

t21rjumdkqr2x5d (centos6-64-2) 13:38:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /this/does/notexist
file { '/this/does/notexist':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.75 seconds

  * remove UNIX domain socket

t21rjumdkqr2x5d (centos6-64-2) 13:38:59$  rm -f /test-socket-42992  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/group" name="should_create.rb" time="2.044475"><system-out><![CDATA[
should create a group

  * ensure the group does not exist

n6vo88vhlunm0j0 (centos6-64-1) 13:38:59$  if getent group pl232406; then groupdel pl232406; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * create the group

n6vo88vhlunm0j0 (centos6-64-1) 13:38:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl232406 ensure=present
Notice: /Group[pl232406]/ensure: created
group { 'pl232406':
  ensure => 'present',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.96 seconds

  * verify the group exists

n6vo88vhlunm0j0 (centos6-64-1) 13:39:00$  getent group pl232406  
pl232406:x:500:

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * delete the group

n6vo88vhlunm0j0 (centos6-64-1) 13:39:00$  if getent group pl232406; then groupdel pl232406; fi  
pl232406:x:500:

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

  * ensure the group does not exist

t21rjumdkqr2x5d (centos6-64-2) 13:39:00$  if getent group pl232406; then groupdel pl232406; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * create the group

t21rjumdkqr2x5d (centos6-64-2) 13:39:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl232406 ensure=present
Notice: /Group[pl232406]/ensure: created
group { 'pl232406':
  ensure => 'present',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.86 seconds

  * verify the group exists

t21rjumdkqr2x5d (centos6-64-2) 13:39:01$  getent group pl232406  
pl232406:x:500:

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * delete the group

t21rjumdkqr2x5d (centos6-64-2) 13:39:01$  if getent group pl232406; then groupdel pl232406; fi  
pl232406:x:500:

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/group" name="should_destroy.rb" time="2.197046"><system-out><![CDATA[
should destroy a group

  * ensure the group is present

n6vo88vhlunm0j0 (centos6-64-1) 13:39:01$  if ! getent group pl225397; then groupadd pl225397; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

  * delete the group

n6vo88vhlunm0j0 (centos6-64-1) 13:39:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl225397 ensure=absent
Notice: /Group[pl225397]/ensure: removed
group { 'pl225397':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.09 seconds

  * verify the group was deleted

n6vo88vhlunm0j0 (centos6-64-1) 13:39:02$  if getent group pl225397; then groupdel pl225397; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * ensure the group is present

t21rjumdkqr2x5d (centos6-64-2) 13:39:02$  if ! getent group pl225397; then groupadd pl225397; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

  * delete the group

t21rjumdkqr2x5d (centos6-64-2) 13:39:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl225397 ensure=absent
Notice: /Group[pl225397]/ensure: removed
group { 'pl225397':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.89 seconds

  * verify the group was deleted

t21rjumdkqr2x5d (centos6-64-2) 13:39:03$  if getent group pl225397; then groupdel pl225397; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/group" name="should_modify_gid.rb" time="6.881868"><system-out><![CDATA[
should modify gid of existing group

  * ensure that the group exists with gid 858237

n6vo88vhlunm0j0 (centos6-64-1) 13:39:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl738089 ensure=present gid=858237
Notice: /Group[pl738089]/ensure: created
group { 'pl738089':
  ensure => 'present',
  gid    => '858237',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.91 seconds

  * ensure that we can modify the GID of the group to 889350

n6vo88vhlunm0j0 (centos6-64-1) 13:39:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl738089 ensure=present gid=889350
Notice: /Group[pl738089]/gid: gid changed '858237' to '889350'
group { 'pl738089':
  ensure => 'present',
  gid    => '889350',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.06 seconds

  * verify that the GID changed

n6vo88vhlunm0j0 (centos6-64-1) 13:39:06$  getent group pl738089  
pl738089:x:889350:

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * clean up the system after the test run

n6vo88vhlunm0j0 (centos6-64-1) 13:39:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl738089 ensure=absent
Notice: /Group[pl738089]/ensure: removed
group { 'pl738089':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.92 seconds

  * ensure that the group exists with gid 858237

t21rjumdkqr2x5d (centos6-64-2) 13:39:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl738089 ensure=present gid=858237
Notice: /Group[pl738089]/ensure: created
group { 'pl738089':
  ensure => 'present',
  gid    => '858237',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.88 seconds

  * ensure that we can modify the GID of the group to 889350

t21rjumdkqr2x5d (centos6-64-2) 13:39:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl738089 ensure=present gid=889350
Notice: /Group[pl738089]/gid: gid changed '858237' to '889350'
group { 'pl738089':
  ensure => 'present',
  gid    => '889350',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.21 seconds

  * verify that the GID changed

t21rjumdkqr2x5d (centos6-64-2) 13:39:09$  getent group pl738089  
pl738089:x:889350:

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * clean up the system after the test run

t21rjumdkqr2x5d (centos6-64-2) 13:39:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl738089 ensure=absent
Notice: /Group[pl738089]/ensure: removed
group { 'pl738089':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.85 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/group" name="should_not_create_existing.rb" time="2.198820"><system-out><![CDATA[
group should not create existing group

  * ensure the group exists on the target node

n6vo88vhlunm0j0 (centos6-64-1) 13:39:10$  if ! getent group test-group-1403123950; then groupadd test-group-1403123950; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.13 seconds

  * verify that we don't try and create the existing group

n6vo88vhlunm0j0 (centos6-64-1) 13:39:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group test-group-1403123950 ensure=present
group { 'test-group-1403123950':
  ensure => 'present',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.03 seconds

  * clean up the system after the test run

n6vo88vhlunm0j0 (centos6-64-1) 13:39:11$  if getent group test-group-1403123950; then groupdel test-group-1403123950; fi  
test-group-1403123950:x:500:

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

  * ensure the group exists on the target node

t21rjumdkqr2x5d (centos6-64-2) 13:39:11$  if ! getent group test-group-1403123950; then groupadd test-group-1403123950; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds

  * verify that we don't try and create the existing group

t21rjumdkqr2x5d (centos6-64-2) 13:39:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group test-group-1403123950 ensure=present
group { 'test-group-1403123950':
  ensure => 'present',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.81 seconds

  * clean up the system after the test run

t21rjumdkqr2x5d (centos6-64-2) 13:39:12$  if getent group test-group-1403123950; then groupdel test-group-1403123950; fi  
test-group-1403123950:x:500:

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/group" name="should_not_destoy_unexisting.rb" time="1.994567"><system-out><![CDATA[
should not destroy a group that doesn't exist

  * verify the group does not already exist

n6vo88vhlunm0j0 (centos6-64-1) 13:39:12$  if getent group test-group-1403123952; then groupdel test-group-1403123952; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:12$  if getent group test-group-1403123952; then groupdel test-group-1403123952; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * verify that we don't remove the group when it doesn't exist

n6vo88vhlunm0j0 (centos6-64-1) 13:39:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group test-group-1403123952 ensure=absent
group { 'test-group-1403123952':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.08 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group test-group-1403123952 ensure=absent
group { 'test-group-1403123952':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.84 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/group" name="should_query.rb" time="1.697908"><system-out><![CDATA[
test that we can query and find a group that exists.

  * ensure that our test group exists

n6vo88vhlunm0j0 (centos6-64-1) 13:39:14$  if ! getent group pl760937; then groupadd pl760937; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * query for the resource and verify it was found

n6vo88vhlunm0j0 (centos6-64-1) 13:39:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl760937
group { 'pl760937':
  ensure => 'present',
  gid    => '500',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.78 seconds

  * clean up the group we added

n6vo88vhlunm0j0 (centos6-64-1) 13:39:15$  if getent group pl760937; then groupdel pl760937; fi  
pl760937:x:500:

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * ensure that our test group exists

t21rjumdkqr2x5d (centos6-64-2) 13:39:15$  if ! getent group pl760937; then groupadd pl760937; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * query for the resource and verify it was found

t21rjumdkqr2x5d (centos6-64-2) 13:39:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl760937
group { 'pl760937':
  ensure => 'present',
  gid    => '500',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds

  * clean up the group we added

t21rjumdkqr2x5d (centos6-64-2) 13:39:16$  if getent group pl760937; then groupdel pl760937; fi  
pl760937:x:500:

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/group" name="should_query_all.rb" time="2.417199"><system-out><![CDATA[
should query all groups

  * query natively

n6vo88vhlunm0j0 (centos6-64-1) 13:39:16$  getent group  
root:x:0:
bin:x:1:bin,daemon
daemon:x:2:bin,daemon
sys:x:3:bin,adm
adm:x:4:adm,daemon
tty:x:5:
disk:x:6:
lp:x:7:daemon
mem:x:8:
kmem:x:9:
wheel:x:10:
mail:x:12:mail,postfix
uucp:x:14:
man:x:15:
games:x:20:
gopher:x:30:
video:x:39:
dip:x:40:
ftp:x:50:
lock:x:54:
audio:x:63:
nobody:x:99:
users:x:100:
utmp:x:22:
utempter:x:35:
floppy:x:19:
vcsa:x:69:
cdrom:x:11:
tape:x:33:
dialout:x:18:
saslauth:x:76:
postdrop:x:90:
postfix:x:89:
sshd:x:74:
ntp:x:38:
puppet:x:52:
apache:x:48:
cgred:x:499:

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * query with puppet

n6vo88vhlunm0j0 (centos6-64-1) 13:39:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group
group { 'adm':
  ensure => 'present',
  gid    => '4',
}
group { 'apache':
  ensure => 'present',
  gid    => '48',
}
group { 'audio':
  ensure => 'present',
  gid    => '63',
}
group { 'bin':
  ensure => 'present',
  gid    => '1',
}
group { 'cdrom':
  ensure => 'present',
  gid    => '11',
}
group { 'cgred':
  ensure => 'present',
  gid    => '499',
}
group { 'daemon':
  ensure => 'present',
  gid    => '2',
}
group { 'dialout':
  ensure => 'present',
  gid    => '18',
}
group { 'dip':
  ensure => 'present',
  gid    => '40',
}
group { 'disk':
  ensure => 'present',
  gid    => '6',
}
group { 'floppy':
  ensure => 'present',
  gid    => '19',
}
group { 'ftp':
  ensure => 'present',
  gid    => '50',
}
group { 'games':
  ensure => 'present',
  gid    => '20',
}
group { 'gopher':
  ensure => 'present',
  gid    => '30',
}
group { 'kmem':
  ensure => 'present',
  gid    => '9',
}
group { 'lock':
  ensure => 'present',
  gid    => '54',
}
group { 'lp':
  ensure => 'present',
  gid    => '7',
}
group { 'mail':
  ensure => 'present',
  gid    => '12',
}
group { 'man':
  ensure => 'present',
  gid    => '15',
}
group { 'mem':
  ensure => 'present',
  gid    => '8',
}
group { 'nobody':
  ensure => 'present',
  gid    => '99',
}
group { 'ntp':
  ensure => 'present',
  gid    => '38',
}
group { 'postdrop':
  ensure => 'present',
  gid    => '90',
}
group { 'postfix':
  ensure => 'present',
  gid    => '89',
}
group { 'puppet':
  ensure => 'present',
  gid    => '52',
}
group { 'root':
  ensure => 'present',
  gid    => '0',
}
group { 'saslauth':
  ensure => 'present',
  gid    => '76',
}
group { 'sshd':
  ensure => 'present',
  gid    => '74',
}
group { 'sys':
  ensure => 'present',
  gid    => '3',
}
group { 'tape':
  ensure => 'present',
  gid    => '33',
}
group { 'tty':
  ensure => 'present',
  gid    => '5',
}
group { 'users':
  ensure => 'present',
  gid    => '100',
}
group { 'utempter':
  ensure => 'present',
  gid    => '35',
}
group { 'utmp':
  ensure => 'present',
  gid    => '22',
}
group { 'uucp':
  ensure => 'present',
  gid    => '14',
}
group { 'vcsa':
  ensure => 'present',
  gid    => '69',
}
group { 'video':
  ensure => 'present',
  gid    => '39',
}
group { 'wheel':
  ensure => 'present',
  gid    => '10',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.52 seconds

  * query natively

t21rjumdkqr2x5d (centos6-64-2) 13:39:17$  getent group  
root:x:0:
bin:x:1:bin,daemon
daemon:x:2:bin,daemon
sys:x:3:bin,adm
adm:x:4:adm,daemon
tty:x:5:
disk:x:6:
lp:x:7:daemon
mem:x:8:
kmem:x:9:
wheel:x:10:
mail:x:12:mail,postfix
uucp:x:14:
man:x:15:
games:x:20:
gopher:x:30:
video:x:39:
dip:x:40:
ftp:x:50:
lock:x:54:
audio:x:63:
nobody:x:99:
users:x:100:
utmp:x:22:
utempter:x:35:
floppy:x:19:
vcsa:x:69:
cdrom:x:11:
tape:x:33:
dialout:x:18:
saslauth:x:76:
postdrop:x:90:
postfix:x:89:
sshd:x:74:
ntp:x:38:
puppet:x:52:

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * query with puppet

t21rjumdkqr2x5d (centos6-64-2) 13:39:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group
group { 'adm':
  ensure => 'present',
  gid    => '4',
}
group { 'audio':
  ensure => 'present',
  gid    => '63',
}
group { 'bin':
  ensure => 'present',
  gid    => '1',
}
group { 'cdrom':
  ensure => 'present',
  gid    => '11',
}
group { 'daemon':
  ensure => 'present',
  gid    => '2',
}
group { 'dialout':
  ensure => 'present',
  gid    => '18',
}
group { 'dip':
  ensure => 'present',
  gid    => '40',
}
group { 'disk':
  ensure => 'present',
  gid    => '6',
}
group { 'floppy':
  ensure => 'present',
  gid    => '19',
}
group { 'ftp':
  ensure => 'present',
  gid    => '50',
}
group { 'games':
  ensure => 'present',
  gid    => '20',
}
group { 'gopher':
  ensure => 'present',
  gid    => '30',
}
group { 'kmem':
  ensure => 'present',
  gid    => '9',
}
group { 'lock':
  ensure => 'present',
  gid    => '54',
}
group { 'lp':
  ensure => 'present',
  gid    => '7',
}
group { 'mail':
  ensure => 'present',
  gid    => '12',
}
group { 'man':
  ensure => 'present',
  gid    => '15',
}
group { 'mem':
  ensure => 'present',
  gid    => '8',
}
group { 'nobody':
  ensure => 'present',
  gid    => '99',
}
group { 'ntp':
  ensure => 'present',
  gid    => '38',
}
group { 'postdrop':
  ensure => 'present',
  gid    => '90',
}
group { 'postfix':
  ensure => 'present',
  gid    => '89',
}
group { 'puppet':
  ensure => 'present',
  gid    => '52',
}
group { 'root':
  ensure => 'present',
  gid    => '0',
}
group { 'saslauth':
  ensure => 'present',
  gid    => '76',
}
group { 'sshd':
  ensure => 'present',
  gid    => '74',
}
group { 'sys':
  ensure => 'present',
  gid    => '3',
}
group { 'tape':
  ensure => 'present',
  gid    => '33',
}
group { 'tty':
  ensure => 'present',
  gid    => '5',
}
group { 'users':
  ensure => 'present',
  gid    => '100',
}
group { 'utempter':
  ensure => 'present',
  gid    => '35',
}
group { 'utmp':
  ensure => 'present',
  gid    => '22',
}
group { 'uucp':
  ensure => 'present',
  gid    => '14',
}
group { 'vcsa':
  ensure => 'present',
  gid    => '69',
}
group { 'video':
  ensure => 'present',
  gid    => '39',
}
group { 'wheel':
  ensure => 'present',
  gid    => '10',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.84 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/host" name="should_create.rb" time="2.143092"><system-out><![CDATA[
host should create

n6vo88vhlunm0j0 (centos6-64-1) 13:39:18$  mktemp -t host-create.XXXXXX  
/tmp/host-create.4RkzKJ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * clean up for the test

n6vo88vhlunm0j0 (centos6-64-1) 13:39:18$  rm -f /tmp/host-create.4RkzKJ  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * create the host record

n6vo88vhlunm0j0 (centos6-64-1) 13:39:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test ensure=present ip=127.0.0.1 target=/tmp/host-create.4RkzKJ
Notice: /Host[test]/ensure: created
host { 'test':
  ensure => 'present',
  ip     => '127.0.0.1',
  target => '/tmp/host-create.4RkzKJ',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.03 seconds

  * verify that the record was created

n6vo88vhlunm0j0 (centos6-64-1) 13:39:19$  cat /tmp/host-create.4RkzKJ ; rm -f /tmp/host-create.4RkzKJ  
# HEADER: This file was autogenerated at Wed Jun 18 13:39:19 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.1	test

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:19$  mktemp -t host-create.XXXXXX  
/tmp/host-create.C1svOD

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * clean up for the test

t21rjumdkqr2x5d (centos6-64-2) 13:39:19$  rm -f /tmp/host-create.C1svOD  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * create the host record

t21rjumdkqr2x5d (centos6-64-2) 13:39:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test ensure=present ip=127.0.0.1 target=/tmp/host-create.C1svOD
Notice: /Host[test]/ensure: created
host { 'test':
  ensure => 'present',
  ip     => '127.0.0.1',
  target => '/tmp/host-create.C1svOD',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.93 seconds

  * verify that the record was created

t21rjumdkqr2x5d (centos6-64-2) 13:39:20$  cat /tmp/host-create.C1svOD ; rm -f /tmp/host-create.C1svOD  
# HEADER: This file was autogenerated at Wed Jun 18 13:39:20 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.1	test

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/host" name="should_create_aliases.rb" time="2.097434"><system-out><![CDATA[
host should create aliases

n6vo88vhlunm0j0 (centos6-64-1) 13:39:20$  mktemp -t host-create-aliases.XXXXXX  
/tmp/host-create-aliases.gk9CK9

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * clean up the system for testing

n6vo88vhlunm0j0 (centos6-64-1) 13:39:20$  rm -f /tmp/host-create-aliases.gk9CK9  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * create the record

n6vo88vhlunm0j0 (centos6-64-1) 13:39:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test ensure=present ip=127.0.0.7 target=/tmp/host-create-aliases.gk9CK9 host_aliases=alias
Notice: /Host[test]/ensure: created
host { 'test':
  ensure       => 'present',
  host_aliases => ['alias'],
  ip           => '127.0.0.7',
  target       => '/tmp/host-create-aliases.gk9CK9',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.07 seconds

  * verify that the aliases were added

n6vo88vhlunm0j0 (centos6-64-1) 13:39:22$  cat /tmp/host-create-aliases.gk9CK9 ; rm -f /tmp/host-create-aliases.gk9CK9  
# HEADER: This file was autogenerated at Wed Jun 18 13:39:21 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.7	test	alias

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:22$  mktemp -t host-create-aliases.XXXXXX  
/tmp/host-create-aliases.ZXmC4U

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * clean up the system for testing

t21rjumdkqr2x5d (centos6-64-2) 13:39:22$  rm -f /tmp/host-create-aliases.ZXmC4U  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * create the record

t21rjumdkqr2x5d (centos6-64-2) 13:39:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test ensure=present ip=127.0.0.7 target=/tmp/host-create-aliases.ZXmC4U host_aliases=alias
Notice: /Host[test]/ensure: created
host { 'test':
  ensure       => 'present',
  host_aliases => ['alias'],
  ip           => '127.0.0.7',
  target       => '/tmp/host-create-aliases.ZXmC4U',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.86 seconds

  * verify that the aliases were added

t21rjumdkqr2x5d (centos6-64-2) 13:39:22$  cat /tmp/host-create-aliases.ZXmC4U ; rm -f /tmp/host-create-aliases.ZXmC4U  
# HEADER: This file was autogenerated at Wed Jun 18 13:39:22 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.7	test	alias

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/host" name="should_destroy.rb" time="2.090092"><system-out><![CDATA[
should be able to remove a host record

n6vo88vhlunm0j0 (centos6-64-1) 13:39:23$  mktemp -t host-destroy.XXXXXX  
/tmp/host-destroy.jl3RvN

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * set up files for the test

n6vo88vhlunm0j0 (centos6-64-1) 13:39:23$  printf '127.0.0.7 test1
' > /tmp/host-destroy.jl3RvN  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * delete the resource from the file

n6vo88vhlunm0j0 (centos6-64-1) 13:39:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test1 target=/tmp/host-destroy.jl3RvN ensure=absent ip=127.0.0.7
Notice: /Host[test1]/ensure: removed
host { 'test1':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.02 seconds

  * verify that the content was removed

n6vo88vhlunm0j0 (centos6-64-1) 13:39:24$  cat /tmp/host-destroy.jl3RvN; rm -f /tmp/host-destroy.jl3RvN  
# HEADER: This file was autogenerated at Wed Jun 18 13:39:23 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.


n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * clean up after the test

n6vo88vhlunm0j0 (centos6-64-1) 13:39:24$  rm -f /tmp/host-destroy.jl3RvN  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:24$  mktemp -t host-destroy.XXXXXX  
/tmp/host-destroy.UuxtfO

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * set up files for the test

t21rjumdkqr2x5d (centos6-64-2) 13:39:24$  printf '127.0.0.7 test1
' > /tmp/host-destroy.UuxtfO  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

  * delete the resource from the file

t21rjumdkqr2x5d (centos6-64-2) 13:39:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test1 target=/tmp/host-destroy.UuxtfO ensure=absent ip=127.0.0.7
Notice: /Host[test1]/ensure: removed
host { 'test1':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.84 seconds

  * verify that the content was removed

t21rjumdkqr2x5d (centos6-64-2) 13:39:25$  cat /tmp/host-destroy.UuxtfO; rm -f /tmp/host-destroy.UuxtfO  
# HEADER: This file was autogenerated at Wed Jun 18 13:39:24 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.


t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * clean up after the test

t21rjumdkqr2x5d (centos6-64-2) 13:39:25$  rm -f /tmp/host-destroy.UuxtfO  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/host" name="should_modify_alias.rb" time="2.204845"><system-out><![CDATA[
should be able to modify a host alias

n6vo88vhlunm0j0 (centos6-64-1) 13:39:25$  mktemp -t host-modify-alias.XXXXXX  
/tmp/host-modify-alias.J5wygt

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * set up files for the test

n6vo88vhlunm0j0 (centos6-64-1) 13:39:25$  printf '127.0.0.8 test alias
' > /tmp/host-modify-alias.J5wygt  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * modify the resource

n6vo88vhlunm0j0 (centos6-64-1) 13:39:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test target=/tmp/host-modify-alias.J5wygt ensure=present ip=127.0.0.8 host_aliases=banzai
Notice: /Host[test]/host_aliases: host_aliases changed 'alias' to 'banzai'
host { 'test':
  ensure       => 'present',
  host_aliases => ['banzai'],
  ip           => '127.0.0.8',
  target       => '/tmp/host-modify-alias.J5wygt',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.01 seconds

  * verify that the content was updated

n6vo88vhlunm0j0 (centos6-64-1) 13:39:26$  cat /tmp/host-modify-alias.J5wygt; rm -f /tmp/host-modify-alias.J5wygt  
# HEADER: This file was autogenerated at Wed Jun 18 13:39:26 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.8	test	banzai

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * clean up after the test

n6vo88vhlunm0j0 (centos6-64-1) 13:39:26$  rm -f /tmp/host-modify-alias.J5wygt  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:26$  mktemp -t host-modify-alias.XXXXXX  
/tmp/host-modify-alias.PqqHBe

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds

  * set up files for the test

t21rjumdkqr2x5d (centos6-64-2) 13:39:26$  printf '127.0.0.8 test alias
' > /tmp/host-modify-alias.PqqHBe  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * modify the resource

t21rjumdkqr2x5d (centos6-64-2) 13:39:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test target=/tmp/host-modify-alias.PqqHBe ensure=present ip=127.0.0.8 host_aliases=banzai
Notice: /Host[test]/host_aliases: host_aliases changed 'alias' to 'banzai'
host { 'test':
  ensure       => 'present',
  host_aliases => ['banzai'],
  ip           => '127.0.0.8',
  target       => '/tmp/host-modify-alias.PqqHBe',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.89 seconds

  * verify that the content was updated

t21rjumdkqr2x5d (centos6-64-2) 13:39:27$  cat /tmp/host-modify-alias.PqqHBe; rm -f /tmp/host-modify-alias.PqqHBe  
# HEADER: This file was autogenerated at Wed Jun 18 13:39:27 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.8	test	banzai

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * clean up after the test

t21rjumdkqr2x5d (centos6-64-2) 13:39:27$  rm -f /tmp/host-modify-alias.PqqHBe  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/host" name="should_modify_ip.rb" time="2.245927"><system-out><![CDATA[
should be able to modify a host address

n6vo88vhlunm0j0 (centos6-64-1) 13:39:27$  mktemp -t host-modify-ip.XXXXXX  
/tmp/host-modify-ip.Tnm2M2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * set up files for the test

n6vo88vhlunm0j0 (centos6-64-1) 13:39:27$  printf '127.0.0.9 test alias
' > /tmp/host-modify-ip.Tnm2M2  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * modify the resource

n6vo88vhlunm0j0 (centos6-64-1) 13:39:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test target=/tmp/host-modify-ip.Tnm2M2 ensure=present ip=127.0.0.10 host_aliases=alias
Notice: /Host[test]/ip: ip changed '127.0.0.9' to '127.0.0.10'
host { 'test':
  ensure       => 'present',
  host_aliases => ['alias'],
  ip           => '127.0.0.10',
  target       => '/tmp/host-modify-ip.Tnm2M2',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.10 seconds

  * verify that the content was updated

n6vo88vhlunm0j0 (centos6-64-1) 13:39:28$  cat /tmp/host-modify-ip.Tnm2M2; rm -f /tmp/host-modify-ip.Tnm2M2  
# HEADER: This file was autogenerated at Wed Jun 18 13:39:28 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.10	test	alias

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * clean up after the test

n6vo88vhlunm0j0 (centos6-64-1) 13:39:28$  rm -f /tmp/host-modify-ip.Tnm2M2  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:28$  mktemp -t host-modify-ip.XXXXXX  
/tmp/host-modify-ip.4CGwN4

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * set up files for the test

t21rjumdkqr2x5d (centos6-64-2) 13:39:28$  printf '127.0.0.9 test alias
' > /tmp/host-modify-ip.4CGwN4  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * modify the resource

t21rjumdkqr2x5d (centos6-64-2) 13:39:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test target=/tmp/host-modify-ip.4CGwN4 ensure=present ip=127.0.0.10 host_aliases=alias
Notice: /Host[test]/ip: ip changed '127.0.0.9' to '127.0.0.10'
host { 'test':
  ensure       => 'present',
  host_aliases => ['alias'],
  ip           => '127.0.0.10',
  target       => '/tmp/host-modify-ip.4CGwN4',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.90 seconds

  * verify that the content was updated

t21rjumdkqr2x5d (centos6-64-2) 13:39:29$  cat /tmp/host-modify-ip.4CGwN4; rm -f /tmp/host-modify-ip.4CGwN4  
# HEADER: This file was autogenerated at Wed Jun 18 13:39:29 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.10	test	alias

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * clean up after the test

t21rjumdkqr2x5d (centos6-64-2) 13:39:29$  rm -f /tmp/host-modify-ip.4CGwN4  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/host" name="should_not_create_existing.rb" time="1.842058"><system-out><![CDATA[
should not create host if it exists

n6vo88vhlunm0j0 (centos6-64-1) 13:39:29$  mktemp -t host-not-create-existing.XXXXXX  
/tmp/host-not-create-existing.RGAAd5

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * set up the system for the test

n6vo88vhlunm0j0 (centos6-64-1) 13:39:29$  printf '127.0.0.2 test alias
' > /tmp/host-not-create-existing.RGAAd5  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * tell puppet to ensure the host exists

n6vo88vhlunm0j0 (centos6-64-1) 13:39:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test target=/tmp/host-not-create-existing.RGAAd5 ensure=present ip=127.0.0.2 host_aliases=alias
host { 'test':
  ensure       => 'present',
  host_aliases => ['alias'],
  ip           => '127.0.0.2',
  target       => '/tmp/host-not-create-existing.RGAAd5',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.84 seconds

  * clean up after we created things

n6vo88vhlunm0j0 (centos6-64-1) 13:39:30$  rm -f /tmp/host-not-create-existing.RGAAd5  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:30$  mktemp -t host-not-create-existing.XXXXXX  
/tmp/host-not-create-existing.kEta1a

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * set up the system for the test

t21rjumdkqr2x5d (centos6-64-2) 13:39:30$  printf '127.0.0.2 test alias
' > /tmp/host-not-create-existing.kEta1a  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * tell puppet to ensure the host exists

t21rjumdkqr2x5d (centos6-64-2) 13:39:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test target=/tmp/host-not-create-existing.kEta1a ensure=present ip=127.0.0.2 host_aliases=alias
host { 'test':
  ensure       => 'present',
  host_aliases => ['alias'],
  ip           => '127.0.0.2',
  target       => '/tmp/host-not-create-existing.kEta1a',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.79 seconds

  * clean up after we created things

t21rjumdkqr2x5d (centos6-64-2) 13:39:31$  rm -f /tmp/host-not-create-existing.kEta1a  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/host" name="should_query.rb" time="2.081115"><system-out><![CDATA[
should query hosts out of a hosts file

n6vo88vhlunm0j0 (centos6-64-1) 13:39:31$  mktemp -t host-query.XXXXXX  
/tmp/host-query.cNsm4G

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * set up the system for the test

n6vo88vhlunm0j0 (centos6-64-1) 13:39:31$  printf '127.0.0.1 localhost.local localhost
' > /tmp/host-query.cNsm4G  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * fetch the list of hosts from puppet

n6vo88vhlunm0j0 (centos6-64-1) 13:39:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host localhost target=/tmp/host-query.cNsm4G
Notice: /Host[localhost]/target: target changed '/etc/hosts' to '/tmp/host-query.cNsm4G'
host { 'localhost':
  ensure => 'present',
  target => '/tmp/host-query.cNsm4G',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.02 seconds

  * clean up the system

n6vo88vhlunm0j0 (centos6-64-1) 13:39:32$  rm -f /tmp/host-query.cNsm4G  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:32$  mktemp -t host-query.XXXXXX  
/tmp/host-query.ebpaUk

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * set up the system for the test

t21rjumdkqr2x5d (centos6-64-2) 13:39:32$  printf '127.0.0.1 localhost.local localhost
' > /tmp/host-query.ebpaUk  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * fetch the list of hosts from puppet

t21rjumdkqr2x5d (centos6-64-2) 13:39:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host localhost target=/tmp/host-query.ebpaUk
Notice: /Host[localhost]/target: target changed '/etc/hosts' to '/tmp/host-query.ebpaUk'
host { 'localhost':
  ensure => 'present',
  target => '/tmp/host-query.ebpaUk',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.92 seconds

  * clean up the system

t21rjumdkqr2x5d (centos6-64-2) 13:39:33$  rm -f /tmp/host-query.ebpaUk  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/host" name="should_query_all.rb" time="1.787396"><system-out><![CDATA[
should query all hosts from hosts file

n6vo88vhlunm0j0 (centos6-64-1) 13:39:33$  mktemp -t host-query-all.XXXXXX  
/tmp/host-query-all.gWwoIm

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * configure the system for testing (including file backups)

n6vo88vhlunm0j0 (centos6-64-1) 13:39:33$  cp /etc/hosts /tmp/host-query-all.gWwoIm  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:39:33$  cat > /etc/hosts  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * query all host records using puppet

n6vo88vhlunm0j0 (centos6-64-1) 13:39:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host
host { 'test1':
  ensure       => 'present',
  host_aliases => ['test1.local'],
  ip           => '127.0.0.1',
  target       => '/etc/hosts',
}
host { 'test2':
  ensure       => 'present',
  host_aliases => ['test2.local'],
  ip           => '127.0.0.2',
  target       => '/etc/hosts',
}
host { 'test3':
  ensure       => 'present',
  host_aliases => ['test3.local'],
  ip           => '127.0.0.3',
  target       => '/etc/hosts',
}
host { 'test4':
  ensure       => 'present',
  host_aliases => ['test4.local'],
  ip           => '127.0.0.4',
  target       => '/etc/hosts',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

  * clean up the system afterwards

n6vo88vhlunm0j0 (centos6-64-1) 13:39:34$  cat /tmp/host-query-all.gWwoIm > /etc/hosts && rm -f /tmp/host-query-all.gWwoIm  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:34$  mktemp -t host-query-all.XXXXXX  
/tmp/host-query-all.g5Ghk2

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * configure the system for testing (including file backups)

t21rjumdkqr2x5d (centos6-64-2) 13:39:34$  cp /etc/hosts /tmp/host-query-all.g5Ghk2  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:34$  cat > /etc/hosts  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * query all host records using puppet

t21rjumdkqr2x5d (centos6-64-2) 13:39:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host
host { 'test1':
  ensure       => 'present',
  host_aliases => ['test1.local'],
  ip           => '127.0.0.1',
  target       => '/etc/hosts',
}
host { 'test2':
  ensure       => 'present',
  host_aliases => ['test2.local'],
  ip           => '127.0.0.2',
  target       => '/etc/hosts',
}
host { 'test3':
  ensure       => 'present',
  host_aliases => ['test3.local'],
  ip           => '127.0.0.3',
  target       => '/etc/hosts',
}
host { 'test4':
  ensure       => 'present',
  host_aliases => ['test4.local'],
  ip           => '127.0.0.4',
  target       => '/etc/hosts',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.78 seconds

  * clean up the system afterwards

t21rjumdkqr2x5d (centos6-64-2) 13:39:35$  cat /tmp/host-query-all.g5Ghk2 > /etc/hosts && rm -f /tmp/host-query-all.g5Ghk2  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/host" name="ticket_4131_should_not_create_without_ip.rb" time="1.815527"><system-out><![CDATA[
#4131: should not create host without IP attribute

n6vo88vhlunm0j0 (centos6-64-1) 13:39:35$  mktemp -t 4131-require-ip.XXXXXX  
/tmp/4131-require-ip.z0fV1q

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * configure the target system for the test

n6vo88vhlunm0j0 (centos6-64-1) 13:39:35$  rm -rf /tmp/4131-require-ip.z0fV1q ; touch /tmp/4131-require-ip.z0fV1q  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * try to create the host, which should fail

n6vo88vhlunm0j0 (centos6-64-1) 13:39:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test target=/tmp/4131-require-ip.z0fV1q host_aliases=alias
Notice: /Host[test]/ensure: created
Error: /Host[test]: Could not evaluate: ip is a required attribute for hosts
host { 'test':
  ensure       => 'present',
  host_aliases => ['alias'],
  target       => '/tmp/4131-require-ip.z0fV1q',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.80 seconds

  * verify that the host was not added to the file

n6vo88vhlunm0j0 (centos6-64-1) 13:39:36$  cat /tmp/4131-require-ip.z0fV1q ; rm -f /tmp/4131-require-ip.z0fV1q  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:36$  mktemp -t 4131-require-ip.XXXXXX  
/tmp/4131-require-ip.DIatiO

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * configure the target system for the test

t21rjumdkqr2x5d (centos6-64-2) 13:39:36$  rm -rf /tmp/4131-require-ip.DIatiO ; touch /tmp/4131-require-ip.DIatiO  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds

  * try to create the host, which should fail

t21rjumdkqr2x5d (centos6-64-2) 13:39:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host test target=/tmp/4131-require-ip.DIatiO host_aliases=alias
Notice: /Host[test]/ensure: created
Error: /Host[test]: Could not evaluate: ip is a required attribute for hosts
host { 'test':
  ensure       => 'present',
  host_aliases => ['alias'],
  target       => '/tmp/4131-require-ip.DIatiO',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.79 seconds

  * verify that the host was not added to the file

t21rjumdkqr2x5d (centos6-64-2) 13:39:37$  cat /tmp/4131-require-ip.DIatiO ; rm -f /tmp/4131-require-ip.DIatiO  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/package" name="does_not_exist.rb" time="3.434932"><skip type="skip"/><system-out><![CDATA[
Puppet returns only resource package declaration when querying an uninstalled package

  * test puppet resource package

n6vo88vhlunm0j0 (centos6-64-1) 13:39:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  package not-installed-on-this-host
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
package { 'not-installed-on-this-host':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.79 seconds

  * test puppet resource package

t21rjumdkqr2x5d (centos6-64-2) 13:39:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  package not-installed-on-this-host
Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
package { 'not-installed-on-this-host':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.64 seconds
Warning: No suitable hosts with: {:platform=>/debian|ubuntu/}

No suitable hosts found
]]></system-out><system-err><![CDATA[Warning: The package type's allow_virtual parameter will be changing its default value from false to true in a future release. If you do not want to allow virtual packages, please explicitly set allow_virtual to false.
   (at /usr/lib/ruby/site_ruby/1.8/puppet/type.rb:816:in `set_default')
]]></system-err></testcase><testcase classname="tests/resource/package/ips" name="basic_tests.rb" time="0.007136"><skip type="skip"/><system-out><![CDATA[
Package:IPS basic tests
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/package/ips" name="should_be_holdable.rb" time="0.000706"><skip type="skip"/><system-out><![CDATA[
Package:IPS versionable
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/package/ips" name="should_be_idempotent.rb" time="0.000612"><skip type="skip"/><system-out><![CDATA[
Package:IPS idempotency
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/package/ips" name="should_be_updatable.rb" time="0.000528"><skip type="skip"/><system-out><![CDATA[
Package:IPS test for updatable (update, latest)
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/package/ips" name="should_be_versionable.rb" time="0.000505"><skip type="skip"/><system-out><![CDATA[
Package:IPS versionable
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/package/ips" name="should_create.rb" time="0.000452"><skip type="skip"/><system-out><![CDATA[
Package:IPS basic tests
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/package/ips" name="should_query.rb" time="0.000441"><skip type="skip"/><system-out><![CDATA[
Package:IPS query
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/package/ips" name="should_remove.rb" time="0.004129"><skip type="skip"/><system-out><![CDATA[
Package:IPS basic tests
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/scheduled_task" name="should_create.rb" time="0.000404"><skip type="skip"/><system-out><![CDATA[
should create a scheduled task
Warning: No suitable hosts with: {:platform=>"windows"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/scheduled_task" name="should_destroy.rb" time="0.000353"><skip type="skip"/><system-out><![CDATA[
should delete a scheduled task
Warning: No suitable hosts with: {:platform=>"windows"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/scheduled_task" name="should_modify.rb" time="0.000348"><skip type="skip"/><system-out><![CDATA[
should modify a scheduled task
Warning: No suitable hosts with: {:platform=>"windows"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/scheduled_task" name="should_query.rb" time="0.000426"><skip type="skip"/><system-out><![CDATA[
test that we can query and find a scheduled task that exists.
Warning: No suitable hosts with: {:platform=>"windows"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/service" name="AIX_service_provider.rb" time="0.000662"><skip type="skip"/><system-out><![CDATA[
AIX Service Provider Testing
Warning: No suitable hosts with: {:platform=>"aix"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/service" name="should_not_change_the_system.rb" time="16.554055"><system-out><![CDATA[
`puppet resource service` should list running services without changing the system

  * list running services and make sure ssh reports running

n6vo88vhlunm0j0 (centos6-64-1) 13:39:40$  puppet resource service  
service { 'auditd':
  ensure => 'running',
  enable => 'true',
}
service { 'blk-availability':
  ensure => 'running',
  enable => 'true',
}
service { 'cgconfig':
  ensure => 'stopped',
  enable => 'false',
}
service { 'cgred':
  ensure => 'stopped',
  enable => 'false',
}
service { 'control-alt-delete':
  ensure => 'stopped',
  enable => 'true',
}
service { 'crond':
  ensure => 'running',
  enable => 'true',
}
service { 'htcacheclean':
  ensure => 'stopped',
  enable => 'false',
}
service { 'httpd':
  ensure => 'stopped',
  enable => 'false',
}
service { 'init-system-dbus':
  ensure => 'stopped',
  enable => 'true',
}
service { 'ip6tables':
  ensure => 'stopped',
  enable => 'false',
}
service { 'iptables':
  ensure => 'stopped',
  enable => 'false',
}
service { 'kexec-disable':
  ensure => 'stopped',
  enable => 'true',
}
service { 'lvm2-lvmetad':
  ensure => 'stopped',
  enable => 'false',
}
service { 'lvm2-monitor':
  ensure => 'stopped',
  enable => 'true',
}
service { 'netconsole':
  ensure => 'stopped',
  enable => 'false',
}
service { 'netfs':
  ensure => 'running',
  enable => 'true',
}
service { 'network':
  ensure => 'running',
  enable => 'true',
}
service { 'ntpd':
  ensure => 'stopped',
  enable => 'false',
}
service { 'ntpdate':
  ensure => 'stopped',
  enable => 'false',
}
service { 'plymouth-shutdown':
  ensure => 'stopped',
  enable => 'true',
}
service { 'postfix':
  ensure => 'running',
  enable => 'true',
}
service { 'prefdm':
  ensure => 'stopped',
  enable => 'true',
}
service { 'puppet':
  ensure => 'stopped',
  enable => 'false',
}
service { 'puppetmaster':
  ensure => 'stopped',
  enable => 'false',
}
service { 'puppetqueue':
  ensure => 'stopped',
  enable => 'false',
}
service { 'quit-plymouth':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rc':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rcS-emergency':
  ensure => 'stopped',
  enable => 'false',
}
service { 'rcS-sulogin':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rdisc':
  ensure => 'stopped',
  enable => 'false',
}
service { 'restorecond':
  ensure => 'stopped',
  enable => 'false',
}
service { 'rsyslog':
  ensure => 'running',
  enable => 'true',
}
service { 'sandbox':
  ensure => 'running',
  enable => 'false',
}
service { 'saslauthd':
  ensure => 'stopped',
  enable => 'false',
}
service { 'splash-manager':
  ensure => 'stopped',
  enable => 'true',
}
service { 'sshd':
  ensure => 'running',
  enable => 'true',
}
service { 'start-ttys':
  ensure => 'stopped',
  enable => 'true',
}
service { 'udev-post':
  ensure => 'running',
  enable => 'true',
}
service { 'vmware-tools':
  ensure => 'running',
  enable => 'true',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.83 seconds

  * make sure nothing on the system was changed and ssh is still running

n6vo88vhlunm0j0 (centos6-64-1) 13:39:44$  puppet resource service  
service { 'auditd':
  ensure => 'running',
  enable => 'true',
}
service { 'blk-availability':
  ensure => 'running',
  enable => 'true',
}
service { 'cgconfig':
  ensure => 'stopped',
  enable => 'false',
}
service { 'cgred':
  ensure => 'stopped',
  enable => 'false',
}
service { 'control-alt-delete':
  ensure => 'stopped',
  enable => 'true',
}
service { 'crond':
  ensure => 'running',
  enable => 'true',
}
service { 'htcacheclean':
  ensure => 'stopped',
  enable => 'false',
}
service { 'httpd':
  ensure => 'stopped',
  enable => 'false',
}
service { 'init-system-dbus':
  ensure => 'stopped',
  enable => 'true',
}
service { 'ip6tables':
  ensure => 'stopped',
  enable => 'false',
}
service { 'iptables':
  ensure => 'stopped',
  enable => 'false',
}
service { 'kexec-disable':
  ensure => 'stopped',
  enable => 'true',
}
service { 'lvm2-lvmetad':
  ensure => 'stopped',
  enable => 'false',
}
service { 'lvm2-monitor':
  ensure => 'stopped',
  enable => 'true',
}
service { 'netconsole':
  ensure => 'stopped',
  enable => 'false',
}
service { 'netfs':
  ensure => 'running',
  enable => 'true',
}
service { 'network':
  ensure => 'running',
  enable => 'true',
}
service { 'ntpd':
  ensure => 'stopped',
  enable => 'false',
}
service { 'ntpdate':
  ensure => 'stopped',
  enable => 'false',
}
service { 'plymouth-shutdown':
  ensure => 'stopped',
  enable => 'true',
}
service { 'postfix':
  ensure => 'running',
  enable => 'true',
}
service { 'prefdm':
  ensure => 'stopped',
  enable => 'true',
}
service { 'puppet':
  ensure => 'stopped',
  enable => 'false',
}
service { 'puppetmaster':
  ensure => 'stopped',
  enable => 'false',
}
service { 'puppetqueue':
  ensure => 'stopped',
  enable => 'false',
}
service { 'quit-plymouth':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rc':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rcS-emergency':
  ensure => 'stopped',
  enable => 'false',
}
service { 'rcS-sulogin':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rdisc':
  ensure => 'stopped',
  enable => 'false',
}
service { 'restorecond':
  ensure => 'stopped',
  enable => 'false',
}
service { 'rsyslog':
  ensure => 'running',
  enable => 'true',
}
service { 'sandbox':
  ensure => 'running',
  enable => 'false',
}
service { 'saslauthd':
  ensure => 'stopped',
  enable => 'false',
}
service { 'splash-manager':
  ensure => 'stopped',
  enable => 'true',
}
service { 'sshd':
  ensure => 'running',
  enable => 'true',
}
service { 'start-ttys':
  ensure => 'stopped',
  enable => 'true',
}
service { 'udev-post':
  ensure => 'running',
  enable => 'true',
}
service { 'vmware-tools':
  ensure => 'running',
  enable => 'true',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.69 seconds

  * list running services and make sure ssh reports running

t21rjumdkqr2x5d (centos6-64-2) 13:39:48$  puppet resource service  
service { 'auditd':
  ensure => 'running',
  enable => 'true',
}
service { 'blk-availability':
  ensure => 'running',
  enable => 'true',
}
service { 'control-alt-delete':
  ensure => 'stopped',
  enable => 'true',
}
service { 'crond':
  ensure => 'running',
  enable => 'true',
}
service { 'init-system-dbus':
  ensure => 'stopped',
  enable => 'true',
}
service { 'ip6tables':
  ensure => 'stopped',
  enable => 'false',
}
service { 'iptables':
  ensure => 'stopped',
  enable => 'false',
}
service { 'kexec-disable':
  ensure => 'stopped',
  enable => 'true',
}
service { 'lvm2-lvmetad':
  ensure => 'stopped',
  enable => 'false',
}
service { 'lvm2-monitor':
  ensure => 'stopped',
  enable => 'true',
}
service { 'netconsole':
  ensure => 'stopped',
  enable => 'false',
}
service { 'netfs':
  ensure => 'running',
  enable => 'true',
}
service { 'network':
  ensure => 'running',
  enable => 'true',
}
service { 'ntpd':
  ensure => 'stopped',
  enable => 'false',
}
service { 'ntpdate':
  ensure => 'stopped',
  enable => 'false',
}
service { 'plymouth-shutdown':
  ensure => 'stopped',
  enable => 'true',
}
service { 'postfix':
  ensure => 'running',
  enable => 'true',
}
service { 'prefdm':
  ensure => 'stopped',
  enable => 'true',
}
service { 'puppet':
  ensure => 'stopped',
  enable => 'false',
}
service { 'quit-plymouth':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rc':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rcS-emergency':
  ensure => 'stopped',
  enable => 'false',
}
service { 'rcS-sulogin':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rdisc':
  ensure => 'stopped',
  enable => 'false',
}
service { 'restorecond':
  ensure => 'stopped',
  enable => 'false',
}
service { 'rsyslog':
  ensure => 'running',
  enable => 'true',
}
service { 'sandbox':
  ensure => 'running',
  enable => 'false',
}
service { 'saslauthd':
  ensure => 'stopped',
  enable => 'false',
}
service { 'splash-manager':
  ensure => 'stopped',
  enable => 'true',
}
service { 'sshd':
  ensure => 'running',
  enable => 'true',
}
service { 'start-ttys':
  ensure => 'stopped',
  enable => 'true',
}
service { 'udev-post':
  ensure => 'running',
  enable => 'true',
}
service { 'vmware-tools':
  ensure => 'running',
  enable => 'true',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 4.71 seconds

  * make sure nothing on the system was changed and ssh is still running

t21rjumdkqr2x5d (centos6-64-2) 13:39:52$  puppet resource service  
service { 'auditd':
  ensure => 'running',
  enable => 'true',
}
service { 'blk-availability':
  ensure => 'running',
  enable => 'true',
}
service { 'control-alt-delete':
  ensure => 'stopped',
  enable => 'true',
}
service { 'crond':
  ensure => 'running',
  enable => 'true',
}
service { 'init-system-dbus':
  ensure => 'stopped',
  enable => 'true',
}
service { 'ip6tables':
  ensure => 'stopped',
  enable => 'false',
}
service { 'iptables':
  ensure => 'stopped',
  enable => 'false',
}
service { 'kexec-disable':
  ensure => 'stopped',
  enable => 'true',
}
service { 'lvm2-lvmetad':
  ensure => 'stopped',
  enable => 'false',
}
service { 'lvm2-monitor':
  ensure => 'stopped',
  enable => 'true',
}
service { 'netconsole':
  ensure => 'stopped',
  enable => 'false',
}
service { 'netfs':
  ensure => 'running',
  enable => 'true',
}
service { 'network':
  ensure => 'running',
  enable => 'true',
}
service { 'ntpd':
  ensure => 'stopped',
  enable => 'false',
}
service { 'ntpdate':
  ensure => 'stopped',
  enable => 'false',
}
service { 'plymouth-shutdown':
  ensure => 'stopped',
  enable => 'true',
}
service { 'postfix':
  ensure => 'running',
  enable => 'true',
}
service { 'prefdm':
  ensure => 'stopped',
  enable => 'true',
}
service { 'puppet':
  ensure => 'stopped',
  enable => 'false',
}
service { 'quit-plymouth':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rc':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rcS-emergency':
  ensure => 'stopped',
  enable => 'false',
}
service { 'rcS-sulogin':
  ensure => 'stopped',
  enable => 'true',
}
service { 'rdisc':
  ensure => 'stopped',
  enable => 'false',
}
service { 'restorecond':
  ensure => 'stopped',
  enable => 'false',
}
service { 'rsyslog':
  ensure => 'running',
  enable => 'true',
}
service { 'sandbox':
  ensure => 'running',
  enable => 'false',
}
service { 'saslauthd':
  ensure => 'stopped',
  enable => 'false',
}
service { 'splash-manager':
  ensure => 'stopped',
  enable => 'true',
}
service { 'sshd':
  ensure => 'running',
  enable => 'true',
}
service { 'start-ttys':
  ensure => 'stopped',
  enable => 'true',
}
service { 'udev-post':
  ensure => 'running',
  enable => 'true',
}
service { 'vmware-tools':
  ensure => 'running',
  enable => 'true',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 4.32 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/service" name="smf_basic_tests.rb" time="0.007162"><skip type="skip"/><system-out><![CDATA[
SMF: basic tests
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/service" name="smf_should_be_idempotent.rb" time="0.000687"><skip type="skip"/><system-out><![CDATA[
SMF: should be idempotent
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/service" name="smf_should_create.rb" time="0.000591"><skip type="skip"/><system-out><![CDATA[
SMF: should create a service given a manifest
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/service" name="smf_should_query.rb" time="0.000555"><skip type="skip"/><system-out><![CDATA[
SMF: should query instances
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/service" name="smf_should_stop.rb" time="0.000572"><skip type="skip"/><system-out><![CDATA[
SMF: should stop a given service
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/service" name="ticket_14297_handle_upstart.rb" time="0.000442"><skip type="skip"/><system-out><![CDATA[
Upstart Testing
Warning: No suitable hosts with: {:platform=>"ubuntu"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/service" name="ticket_4123_should_list_all_running_redhat.rb" time="0.000329"><skip type="skip"/><system-out><![CDATA[
#4123: should list all running services on Redhat/CentOS

  * Validate services running agreement ralsh vs. OS service count

Test not supported on this plaform
]]></system-out></testcase><testcase classname="tests/resource/service" name="ticket_4124_should_list_all_disabled.rb" time="0.000342"><skip type="skip"/><system-out><![CDATA[
#4124: should list all disabled services on Redhat/CentOS

  * Validate disabled services agreement ralsh vs. OS service count

Test not supported on this plaform
]]></system-out></testcase><testcase classname="tests/resource/tidy" name="should_remove_old_files.rb" time="4.807843"><system-out><![CDATA[
Tidying files by date

  * Create a directory of old and new files

n6vo88vhlunm0j0 (centos6-64-1) 13:39:57$  mktemp -dt tidy-test.XXXXXX  
/tmp/tidy-test.JApArp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:39:57$  mkdir -p /tmp/tidy-test.JApArp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:39:57$  touch -t 7001020304 /tmp/tidy-test.JApArp/{one,two,three,four,five}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:39:57$  touch /tmp/tidy-test.JApArp/{a,b,c,d,e}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Run a tidy resource to remove the old files

n6vo88vhlunm0j0 (centos6-64-1) 13:39:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.l7AgjN

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-pfy58q centos6-64-1:/tmp/apply_manifest.pp.l7AgjN {}

n6vo88vhlunm0j0 (centos6-64-1) 13:39:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.l7AgjN
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Notice: /Stage[main]/Main/Tidy[/tmp/tidy-test.JApArp]: Tidying File[/tmp/tidy-test.JApArp/two]
Notice: /Stage[main]/Main/Tidy[/tmp/tidy-test.JApArp]: Tidying File[/tmp/tidy-test.JApArp/three]
Notice: /Stage[main]/Main/Tidy[/tmp/tidy-test.JApArp]: Tidying File[/tmp/tidy-test.JApArp/four]
Notice: /Stage[main]/Main/Tidy[/tmp/tidy-test.JApArp]: Tidying File[/tmp/tidy-test.JApArp/five]
Notice: /Stage[main]/Main/Tidy[/tmp/tidy-test.JApArp]: Tidying File[/tmp/tidy-test.JApArp/one]
Info: Applying configuration version '1403123998'
Notice: /Stage[main]/Main/File[/tmp/tidy-test.JApArp/five]/ensure: removed
Notice: /Stage[main]/Main/File[/tmp/tidy-test.JApArp/three]/ensure: removed
Notice: /Stage[main]/Main/File[/tmp/tidy-test.JApArp/one]/ensure: removed
Notice: /Stage[main]/Main/File[/tmp/tidy-test.JApArp/two]/ensure: removed
Notice: /Stage[main]/Main/File[/tmp/tidy-test.JApArp/four]/ensure: removed
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.22 seconds

  * Ensure the old files are gone

n6vo88vhlunm0j0 (centos6-64-1) 13:39:59$  [ -f /tmp/tidy-test.JApArp/one -o -f /tmp/tidy-test.JApArp/two -o -f /tmp/tidy-test.JApArp/three -o -f /tmp/tidy-test.JApArp/four -o -f /tmp/tidy-test.JApArp/five ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1

  * Ensure the new files are still present

n6vo88vhlunm0j0 (centos6-64-1) 13:39:59$  [ -f /tmp/tidy-test.JApArp/a -a -f /tmp/tidy-test.JApArp/b -a -f /tmp/tidy-test.JApArp/c -a -f /tmp/tidy-test.JApArp/d -a -f /tmp/tidy-test.JApArp/e ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Create a directory of old and new files

t21rjumdkqr2x5d (centos6-64-2) 13:39:59$  mktemp -dt tidy-test.XXXXXX  
/tmp/tidy-test.TVXpfS

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:59$  mkdir -p /tmp/tidy-test.TVXpfS  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:59$  touch -t 7001020304 /tmp/tidy-test.TVXpfS/{one,two,three,four,five}  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:39:59$  touch /tmp/tidy-test.TVXpfS/{a,b,c,d,e}  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * Run a tidy resource to remove the old files

t21rjumdkqr2x5d (centos6-64-2) 13:39:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.zQFsE8

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-7794i centos6-64-2:/tmp/apply_manifest.pp.zQFsE8 {}

t21rjumdkqr2x5d (centos6-64-2) 13:39:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.zQFsE8
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Notice: /Stage[main]/Main/Tidy[/tmp/tidy-test.TVXpfS]: Tidying File[/tmp/tidy-test.TVXpfS/two]
Notice: /Stage[main]/Main/Tidy[/tmp/tidy-test.TVXpfS]: Tidying File[/tmp/tidy-test.TVXpfS/three]
Notice: /Stage[main]/Main/Tidy[/tmp/tidy-test.TVXpfS]: Tidying File[/tmp/tidy-test.TVXpfS/four]
Notice: /Stage[main]/Main/Tidy[/tmp/tidy-test.TVXpfS]: Tidying File[/tmp/tidy-test.TVXpfS/five]
Notice: /Stage[main]/Main/Tidy[/tmp/tidy-test.TVXpfS]: Tidying File[/tmp/tidy-test.TVXpfS/one]
Info: Applying configuration version '1403124000'
Notice: /Stage[main]/Main/File[/tmp/tidy-test.TVXpfS/four]/ensure: removed
Notice: /Stage[main]/Main/File[/tmp/tidy-test.TVXpfS/three]/ensure: removed
Notice: /Stage[main]/Main/File[/tmp/tidy-test.TVXpfS/two]/ensure: removed
Notice: /Stage[main]/Main/File[/tmp/tidy-test.TVXpfS/five]/ensure: removed
Notice: /Stage[main]/Main/File[/tmp/tidy-test.TVXpfS/one]/ensure: removed
Notice: Finished catalog run in 0.16 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.03 seconds

  * Ensure the old files are gone

t21rjumdkqr2x5d (centos6-64-2) 13:40:01$  [ -f /tmp/tidy-test.TVXpfS/one -o -f /tmp/tidy-test.TVXpfS/two -o -f /tmp/tidy-test.TVXpfS/three -o -f /tmp/tidy-test.TVXpfS/four -o -f /tmp/tidy-test.TVXpfS/five ]  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
Exited: 1

  * Ensure the new files are still present

t21rjumdkqr2x5d (centos6-64-2) 13:40:01$  [ -f /tmp/tidy-test.TVXpfS/a -a -f /tmp/tidy-test.TVXpfS/b -a -f /tmp/tidy-test.TVXpfS/c -a -f /tmp/tidy-test.TVXpfS/d -a -f /tmp/tidy-test.TVXpfS/e ]  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/user" name="should_create.rb" time="4.906779"><system-out><![CDATA[
should create a user

  * ensure the user and group do not exist

n6vo88vhlunm0j0 (centos6-64-1) 13:40:01$  if getent passwd pl811432; then userdel pl811432; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:01$  if getent group pl811432; then groupdel pl811432; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * create the user

n6vo88vhlunm0j0 (centos6-64-1) 13:40:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl811432 ensure=present
Notice: /User[pl811432]/ensure: created
user { 'pl811432':
  ensure => 'present',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.19 seconds

  * verify the user exists

n6vo88vhlunm0j0 (centos6-64-1) 13:40:03$  getent passwd pl811432  
pl811432:x:500:500::/home/pl811432:/bin/bash

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:03$  getent group pl811432  
pl811432:x:500:

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * delete the user, and group, if any

n6vo88vhlunm0j0 (centos6-64-1) 13:40:03$  if getent passwd pl811432; then userdel pl811432; fi  
pl811432:x:500:500::/home/pl811432:/bin/bash

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:03$  if getent group pl811432; then groupdel pl811432; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * ensure the user and group do not exist

t21rjumdkqr2x5d (centos6-64-2) 13:40:03$  if getent passwd pl811432; then userdel pl811432; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.34 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:03$  if getent group pl811432; then groupdel pl811432; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.08 seconds

  * create the user

t21rjumdkqr2x5d (centos6-64-2) 13:40:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl811432 ensure=present
Notice: /User[pl811432]/ensure: created
user { 'pl811432':
  ensure => 'present',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 2.65 seconds

  * verify the user exists

t21rjumdkqr2x5d (centos6-64-2) 13:40:06$  getent passwd pl811432  
pl811432:x:500:500::/home/pl811432:/bin/bash

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:06$  getent group pl811432  
pl811432:x:500:

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * delete the user, and group, if any

t21rjumdkqr2x5d (centos6-64-2) 13:40:06$  if getent passwd pl811432; then userdel pl811432; fi  
pl811432:x:500:500::/home/pl811432:/bin/bash

t21rjumdkqr2x5d (centos6-64-2) executed in 0.16 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:06$  if getent group pl811432; then groupdel pl811432; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/user" name="should_create_with_gid.rb" time="7.019987"><system-out><![CDATA[
verifies that puppet resource creates a user and assigns the correct group

  * user should not exist

n6vo88vhlunm0j0 (centos6-64-1) 13:40:06$  if getent passwd pl391517; then userdel pl391517; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * group should exist

n6vo88vhlunm0j0 (centos6-64-1) 13:40:06$  getent group gp622333 || groupadd gp622333  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

  * create user with group

n6vo88vhlunm0j0 (centos6-64-1) 13:40:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl391517 ensure=present gid=gp622333
Notice: /User[pl391517]/ensure: created
user { 'pl391517':
  ensure => 'present',
  gid    => '500',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.41 seconds

  * verify the group exists and find the gid

n6vo88vhlunm0j0 (centos6-64-1) 13:40:08$  getent group gp622333  
gp622333:x:500:

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * verify that the user has that as their gid

n6vo88vhlunm0j0 (centos6-64-1) 13:40:08$  getent passwd pl391517  
pl391517:x:500:500::/home/pl391517:/bin/bash

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * clean up after the test is done

n6vo88vhlunm0j0 (centos6-64-1) 13:40:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl391517 ensure=absent
Notice: /User[pl391517]/ensure: removed
user { 'pl391517':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.42 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group gp622333 ensure=absent
Notice: /Group[gp622333]/ensure: removed
group { 'gp622333':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.11 seconds

  * user should not exist

t21rjumdkqr2x5d (centos6-64-2) 13:40:10$  if getent passwd pl391517; then userdel pl391517; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * group should exist

t21rjumdkqr2x5d (centos6-64-2) 13:40:11$  getent group gp622333 || groupadd gp622333  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * create user with group

t21rjumdkqr2x5d (centos6-64-2) 13:40:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl391517 ensure=present gid=gp622333
Notice: /User[pl391517]/ensure: created
user { 'pl391517':
  ensure => 'present',
  gid    => '500',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.91 seconds

  * verify the group exists and find the gid

t21rjumdkqr2x5d (centos6-64-2) 13:40:11$  getent group gp622333  
gp622333:x:500:

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * verify that the user has that as their gid

t21rjumdkqr2x5d (centos6-64-2) 13:40:11$  getent passwd pl391517  
pl391517:x:500:500::/home/pl391517:/bin/bash

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * clean up after the test is done

t21rjumdkqr2x5d (centos6-64-2) 13:40:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl391517 ensure=absent
Notice: /User[pl391517]/ensure: removed
user { 'pl391517':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.94 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group gp622333 ensure=absent
Notice: /Group[gp622333]/ensure: removed
group { 'gp622333':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.89 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/user" name="should_destroy.rb" time="2.954240"><system-out><![CDATA[
should delete a user

  * ensure the user is present

n6vo88vhlunm0j0 (centos6-64-1) 13:40:13$  if ! getent passwd pl694201; then useradd pl694201; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.38 seconds

  * delete the user

n6vo88vhlunm0j0 (centos6-64-1) 13:40:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl694201 ensure=absent
Notice: /User[pl694201]/ensure: removed
user { 'pl694201':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.27 seconds

  * verify the user was deleted

n6vo88vhlunm0j0 (centos6-64-1) 13:40:15$  if getent passwd pl694201; then userdel pl694201; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * ensure the user is present

t21rjumdkqr2x5d (centos6-64-2) 13:40:15$  if ! getent passwd pl694201; then useradd pl694201; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.26 seconds

  * delete the user

t21rjumdkqr2x5d (centos6-64-2) 13:40:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl694201 ensure=absent
Notice: /User[pl694201]/ensure: removed
user { 'pl694201':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.99 seconds

  * verify the user was deleted

t21rjumdkqr2x5d (centos6-64-2) 13:40:16$  if getent passwd pl694201; then userdel pl694201; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/user" name="should_modify.rb" time="2.780798"><system-out><![CDATA[
should modify a user

  * ensure the user is present

n6vo88vhlunm0j0 (centos6-64-1) 13:40:16$  if ! getent passwd pl677745; then useradd pl677745; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.25 seconds

  * modify the user

n6vo88vhlunm0j0 (centos6-64-1) 13:40:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl677745 ensure=present comment=commentpl677745
Notice: /User[pl677745]/comment: comment changed '' to 'commentpl677745'
user { 'pl677745':
  ensure  => 'present',
  comment => 'commentpl677745',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.02 seconds

  * verify the user was modified

n6vo88vhlunm0j0 (centos6-64-1) 13:40:18$  getent passwd pl677745  
pl677745:x:500:500:commentpl677745:/home/pl677745:/bin/bash

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * delete the user

n6vo88vhlunm0j0 (centos6-64-1) 13:40:18$  if getent passwd pl677745; then userdel pl677745; fi  
pl677745:x:500:500:commentpl677745:/home/pl677745:/bin/bash

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:18$  if getent group pl677745; then groupdel pl677745; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * ensure the user is present

t21rjumdkqr2x5d (centos6-64-2) 13:40:18$  if ! getent passwd pl677745; then useradd pl677745; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.21 seconds

  * modify the user

t21rjumdkqr2x5d (centos6-64-2) 13:40:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl677745 ensure=present comment=commentpl677745
Notice: /User[pl677745]/comment: comment changed '' to 'commentpl677745'
user { 'pl677745':
  ensure  => 'present',
  comment => 'commentpl677745',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.01 seconds

  * verify the user was modified

t21rjumdkqr2x5d (centos6-64-2) 13:40:19$  getent passwd pl677745  
pl677745:x:500:500:commentpl677745:/home/pl677745:/bin/bash

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * delete the user

t21rjumdkqr2x5d (centos6-64-2) 13:40:19$  if getent passwd pl677745; then userdel pl677745; fi  
pl677745:x:500:500:commentpl677745:/home/pl677745:/bin/bash

t21rjumdkqr2x5d (centos6-64-2) executed in 0.12 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:19$  if getent group pl677745; then groupdel pl677745; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/user" name="should_modify_gid.rb" time="13.639316"><system-out><![CDATA[
verify that we can modify the gid

  * ensure that the groups both exist

n6vo88vhlunm0j0 (centos6-64-1) 13:40:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl87839old ensure=present
Notice: /Group[pl87839old]/ensure: created
group { 'pl87839old':
  ensure => 'present',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.91 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl87839new ensure=present
Notice: /Group[pl87839new]/ensure: created
group { 'pl87839new':
  ensure => 'present',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.98 seconds

  * ensure the user exists and has the old group

n6vo88vhlunm0j0 (centos6-64-1) 13:40:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl87839 ensure=present gid=pl87839old
Notice: /User[pl87839]/ensure: created
user { 'pl87839':
  ensure => 'present',
  gid    => '500',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.10 seconds

  * verify that the user has the correct gid

n6vo88vhlunm0j0 (centos6-64-1) 13:40:22$  getent group pl87839old  
pl87839old:x:500:

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:22$  getent passwd pl87839  
pl87839:x:500:500::/home/pl87839:/bin/bash

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * modify the GID of the user

n6vo88vhlunm0j0 (centos6-64-1) 13:40:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl87839 ensure=present gid=pl87839new
Notice: /User[pl87839]/gid: gid changed '500' to 'pl87839new'
user { 'pl87839':
  ensure => 'present',
  gid    => '501',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.99 seconds

  * verify that the user has the updated gid

n6vo88vhlunm0j0 (centos6-64-1) 13:40:23$  getent group pl87839new  
pl87839new:x:501:

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:23$  getent passwd pl87839  
pl87839:x:500:501::/home/pl87839:/bin/bash

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * ensure that we remove the things we made

n6vo88vhlunm0j0 (centos6-64-1) 13:40:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl87839 ensure=absent
Notice: /User[pl87839]/ensure: removed
user { 'pl87839':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.99 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl87839old ensure=absent
Notice: /Group[pl87839old]/ensure: removed
group { 'pl87839old':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.98 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl87839new ensure=absent
Notice: /Group[pl87839new]/ensure: removed
group { 'pl87839new':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.16 seconds

  * ensure that the groups both exist

t21rjumdkqr2x5d (centos6-64-2) 13:40:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl87839old ensure=present
Notice: /Group[pl87839old]/ensure: created
group { 'pl87839old':
  ensure => 'present',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.75 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl87839new ensure=present
Notice: /Group[pl87839new]/ensure: created
group { 'pl87839new':
  ensure => 'present',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.77 seconds

  * ensure the user exists and has the old group

t21rjumdkqr2x5d (centos6-64-2) 13:40:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl87839 ensure=present gid=pl87839old
Notice: /User[pl87839]/ensure: created
user { 'pl87839':
  ensure => 'present',
  gid    => '500',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.95 seconds

  * verify that the user has the correct gid

t21rjumdkqr2x5d (centos6-64-2) 13:40:29$  getent group pl87839old  
pl87839old:x:500:

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:29$  getent passwd pl87839  
pl87839:x:500:500::/home/pl87839:/bin/bash

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * modify the GID of the user

t21rjumdkqr2x5d (centos6-64-2) 13:40:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl87839 ensure=present gid=pl87839new
Notice: /User[pl87839]/gid: gid changed '500' to 'pl87839new'
user { 'pl87839':
  ensure => 'present',
  gid    => '501',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.11 seconds

  * verify that the user has the updated gid

t21rjumdkqr2x5d (centos6-64-2) 13:40:30$  getent group pl87839new  
pl87839new:x:501:

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:30$  getent passwd pl87839  
pl87839:x:500:501::/home/pl87839:/bin/bash

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * ensure that we remove the things we made

t21rjumdkqr2x5d (centos6-64-2) 13:40:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl87839 ensure=absent
Notice: /User[pl87839]/ensure: removed
user { 'pl87839':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl87839old ensure=absent
Notice: /Group[pl87839old]/ensure: removed
group { 'pl87839old':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.81 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group pl87839new ensure=absent
Notice: /Group[pl87839new]/ensure: removed
group { 'pl87839new':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.88 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/user" name="should_modify_when_not_managing_home.rb" time="6.460716"><system-out><![CDATA[
should modify a user when no longer managing home (#20726)

  * ensure the user is present with managehome

n6vo88vhlunm0j0 (centos6-64-1) 13:40:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl247714 ensure=present managehome=true password=Passwrd-7740
Notice: /User[pl247714]/ensure: created
user { 'pl247714':
  ensure   => 'present',
  password => 'Passwrd-7740',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.21 seconds

  * find the current home dir

n6vo88vhlunm0j0 (centos6-64-1) 13:40:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl247714
user { 'pl247714':
  ensure           => 'present',
  gid              => '500',
  home             => '/home/pl247714',
  password         => 'Passwrd-7740',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/bin/bash',
  uid              => '500',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.96 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:35$  test -d '/home/pl247714'  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * modify the user

n6vo88vhlunm0j0 (centos6-64-1) 13:40:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl247714 ensure=present home='/home/pl247714_foo'
Notice: /User[pl247714]/home: home changed '/home/pl247714' to '/home/pl247714_foo'
user { 'pl247714':
  ensure => 'present',
  home   => '/home/pl247714_foo',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.08 seconds

  * verify that home directory still exists since we did not specify managehome

n6vo88vhlunm0j0 (centos6-64-1) 13:40:36$  test -d '/home/pl247714'  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * ensure the user is present with managehome

t21rjumdkqr2x5d (centos6-64-2) 13:40:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl247714 ensure=present managehome=true password=Passwrd-7740
Notice: /User[pl247714]/ensure: created
user { 'pl247714':
  ensure   => 'present',
  password => 'Passwrd-7740',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.10 seconds

  * find the current home dir

t21rjumdkqr2x5d (centos6-64-2) 13:40:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl247714
user { 'pl247714':
  ensure           => 'present',
  gid              => '500',
  home             => '/home/pl247714',
  password         => 'Passwrd-7740',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/bin/bash',
  uid              => '500',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.92 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:38$  test -d '/home/pl247714'  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * modify the user

t21rjumdkqr2x5d (centos6-64-2) 13:40:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl247714 ensure=present home='/home/pl247714_foo'
Notice: /User[pl247714]/home: home changed '/home/pl247714' to '/home/pl247714_foo'
user { 'pl247714':
  ensure => 'present',
  home   => '/home/pl247714_foo',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.88 seconds

  * verify that home directory still exists since we did not specify managehome

t21rjumdkqr2x5d (centos6-64-2) 13:40:39$  test -d '/home/pl247714'  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * delete the user

n6vo88vhlunm0j0 (centos6-64-1) 13:40:39$  if getent passwd pl247714; then userdel pl247714; fi  
pl247714:x:500:500::/home/pl247714_foo:/bin/bash

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:39$  if getent group pl247714; then groupdel pl247714; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * delete the user

t21rjumdkqr2x5d (centos6-64-2) 13:40:39$  if getent passwd pl247714; then userdel pl247714; fi  
pl247714:x:500:500::/home/pl247714_foo:/bin/bash

t21rjumdkqr2x5d (centos6-64-2) executed in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:39$  if getent group pl247714; then groupdel pl247714; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/user" name="should_modify_while_managing_home.rb" time="3.222507"><pending type="pending"/><system-out><![CDATA[
should modify a user without changing home directory (pending #19542)

  * ensure the user is present with managehome

n6vo88vhlunm0j0 (centos6-64-1) 13:40:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl188935 ensure=present managehome=true password=Passwrd-2705
Notice: /User[pl188935]/ensure: created
user { 'pl188935':
  ensure   => 'present',
  password => 'Passwrd-2705',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.22 seconds

  * find the current home dir

n6vo88vhlunm0j0 (centos6-64-1) 13:40:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl188935
user { 'pl188935':
  ensure           => 'present',
  gid              => '500',
  home             => '/home/pl188935',
  password         => 'Passwrd-2705',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/bin/bash',
  uid              => '500',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.87 seconds

  * modify the user

n6vo88vhlunm0j0 (centos6-64-1) 13:40:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl188935 ensure=present managehome=true home='/home/pl188935_foo'
Notice: /User[pl188935]/home: home changed '/home/pl188935' to '/home/pl188935_foo'
user { 'pl188935':
  ensure => 'present',
  home   => '/home/pl188935_foo',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.99 seconds
Warning: 
when #19542 is reimplemented correctly

  * delete the user

n6vo88vhlunm0j0 (centos6-64-1) 13:40:42$  if getent passwd pl188935; then userdel pl188935; fi  
pl188935:x:500:500::/home/pl188935_foo:/bin/bash

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:42$  if getent group pl188935; then groupdel pl188935; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/user" name="should_not_create_existing.rb" time="1.818987"><system-out><![CDATA[
tests that user resource will not add users that already exist.

  * verify that we don't try to create a user account that already exists

n6vo88vhlunm0j0 (centos6-64-1) 13:40:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user root ensure=present
user { 'root':
  ensure => 'present',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.97 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user root ensure=present
user { 'root':
  ensure => 'present',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.84 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/user" name="should_not_destoy_unexisting.rb" time="2.036549"><system-out><![CDATA[
ensure that puppet does not report removing a user that does not exist

  * verify that user pl125431 does not exist

n6vo88vhlunm0j0 (centos6-64-1) 13:40:44$  if getent passwd pl125431; then userdel pl125431; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:44$  if getent passwd pl125431; then userdel pl125431; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * ensure absent doesn't try and do anything

n6vo88vhlunm0j0 (centos6-64-1) 13:40:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl125431 ensure=absent
user { 'pl125431':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl125431 ensure=absent
user { 'pl125431':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.90 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/user" name="should_query.rb" time="2.757526"><system-out><![CDATA[
test that we can query and find a user that exists.

  * ensure that our test user exists

n6vo88vhlunm0j0 (centos6-64-1) 13:40:46$  if ! getent passwd pl909359; then useradd pl909359; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.28 seconds

  * query for the resource and verify it was found

n6vo88vhlunm0j0 (centos6-64-1) 13:40:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl909359
user { 'pl909359':
  ensure           => 'present',
  gid              => '500',
  home             => '/home/pl909359',
  password         => '!!',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/bin/bash',
  uid              => '500',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.89 seconds

  * clean up the user and group we added

n6vo88vhlunm0j0 (centos6-64-1) 13:40:47$  if getent passwd pl909359; then userdel pl909359; fi  
pl909359:x:500:500::/home/pl909359:/bin/bash

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:47$  if getent group pl909359; then groupdel pl909359; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * ensure that our test user exists

t21rjumdkqr2x5d (centos6-64-2) 13:40:48$  if ! getent passwd pl909359; then useradd pl909359; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.24 seconds

  * query for the resource and verify it was found

t21rjumdkqr2x5d (centos6-64-2) 13:40:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user pl909359
user { 'pl909359':
  ensure           => 'present',
  gid              => '500',
  home             => '/home/pl909359',
  password         => '!!',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/bin/bash',
  uid              => '500',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.06 seconds

  * clean up the user and group we added

t21rjumdkqr2x5d (centos6-64-2) 13:40:49$  if getent passwd pl909359; then userdel pl909359; fi  
pl909359:x:500:500::/home/pl909359:/bin/bash

t21rjumdkqr2x5d (centos6-64-2) executed in 0.14 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:49$  if getent group pl909359; then groupdel pl909359; fi  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/user" name="should_query_all.rb" time="1.996122"><system-out><![CDATA[
should query all users

  * query natively

n6vo88vhlunm0j0 (centos6-64-1) 13:40:49$  getent passwd  
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
uucp:x:10:14:uucp:/var/spool/uucp:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
gopher:x:13:30:gopher:/var/gopher:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody:x:99:99:Nobody:/:/sbin/nologin
vcsa:x:69:69:virtual console memory owner:/dev:/sbin/nologin
saslauth:x:499:76:"Saslauthd user":/var/empty/saslauth:/sbin/nologin
postfix:x:89:89::/var/spool/postfix:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
ntp:x:38:38::/etc/ntp:/sbin/nologin
puppet:x:52:52:Puppet:/var/lib/puppet:/sbin/nologin
apache:x:48:48:Apache:/var/www:/sbin/nologin

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * query with puppet

n6vo88vhlunm0j0 (centos6-64-1) 13:40:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user
user { 'adm':
  ensure           => 'present',
  comment          => 'adm',
  gid              => '4',
  groups           => ['sys', 'adm'],
  home             => '/var/adm',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '3',
}
user { 'apache':
  ensure           => 'present',
  comment          => 'Apache',
  gid              => '48',
  home             => '/var/www',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '48',
}
user { 'bin':
  ensure           => 'present',
  comment          => 'bin',
  gid              => '1',
  groups           => ['bin', 'daemon', 'sys'],
  home             => '/bin',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '1',
}
user { 'daemon':
  ensure           => 'present',
  comment          => 'daemon',
  gid              => '2',
  groups           => ['bin', 'daemon', 'adm', 'lp'],
  home             => '/sbin',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '2',
}
user { 'ftp':
  ensure           => 'present',
  comment          => 'FTP User',
  gid              => '50',
  home             => '/var/ftp',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '14',
}
user { 'games':
  ensure           => 'present',
  comment          => 'games',
  gid              => '100',
  home             => '/usr/games',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '12',
}
user { 'gopher':
  ensure           => 'present',
  comment          => 'gopher',
  gid              => '30',
  home             => '/var/gopher',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '13',
}
user { 'halt':
  ensure           => 'present',
  comment          => 'halt',
  gid              => '0',
  home             => '/sbin',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/halt',
  uid              => '7',
}
user { 'lp':
  ensure           => 'present',
  comment          => 'lp',
  gid              => '7',
  home             => '/var/spool/lpd',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '4',
}
user { 'mail':
  ensure           => 'present',
  comment          => 'mail',
  gid              => '12',
  groups           => ['mail'],
  home             => '/var/spool/mail',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '8',
}
user { 'nobody':
  ensure           => 'present',
  comment          => 'Nobody',
  gid              => '99',
  home             => '/',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '99',
}
user { 'ntp':
  ensure           => 'present',
  gid              => '38',
  home             => '/etc/ntp',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '38',
}
user { 'operator':
  ensure           => 'present',
  comment          => 'operator',
  gid              => '0',
  home             => '/root',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '11',
}
user { 'postfix':
  ensure           => 'present',
  gid              => '89',
  groups           => ['mail'],
  home             => '/var/spool/postfix',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '89',
}
user { 'puppet':
  ensure           => 'present',
  comment          => 'Puppet',
  gid              => '52',
  home             => '/var/lib/puppet',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '52',
}
user { 'root':
  ensure           => 'present',
  comment          => 'root',
  gid              => '0',
  home             => '/root',
  password         => '$6$UqPBD2iiJ6hfZItD$F6y5nkT9D11aZ5RTrK3B4guAu0S9GlQlwDfJDbSVbg8Xdp/S2CmzB.L/xcW8D/Yz19aN5gsHdDz2gE.HNH1Q31',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/bin/bash',
  uid              => '0',
}
user { 'saslauth':
  ensure           => 'present',
  comment          => '"Saslauthd user"',
  gid              => '76',
  home             => '/var/empty/saslauth',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '499',
}
user { 'shutdown':
  ensure           => 'present',
  comment          => 'shutdown',
  gid              => '0',
  home             => '/sbin',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/shutdown',
  uid              => '6',
}
user { 'sshd':
  ensure           => 'present',
  comment          => 'Privilege-separated SSH',
  gid              => '74',
  home             => '/var/empty/sshd',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '74',
}
user { 'sync':
  ensure           => 'present',
  comment          => 'sync',
  gid              => '0',
  home             => '/sbin',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/bin/sync',
  uid              => '5',
}
user { 'uucp':
  ensure           => 'present',
  comment          => 'uucp',
  gid              => '14',
  home             => '/var/spool/uucp',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '10',
}
user { 'vcsa':
  ensure           => 'present',
  comment          => 'virtual console memory owner',
  gid              => '69',
  home             => '/dev',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '69',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.96 seconds

  * query natively

t21rjumdkqr2x5d (centos6-64-2) 13:40:50$  getent passwd  
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
uucp:x:10:14:uucp:/var/spool/uucp:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
gopher:x:13:30:gopher:/var/gopher:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody:x:99:99:Nobody:/:/sbin/nologin
vcsa:x:69:69:virtual console memory owner:/dev:/sbin/nologin
saslauth:x:499:76:"Saslauthd user":/var/empty/saslauth:/sbin/nologin
postfix:x:89:89::/var/spool/postfix:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
ntp:x:38:38::/etc/ntp:/sbin/nologin
puppet:x:52:52:Puppet:/var/lib/puppet:/sbin/nologin

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * query with puppet

t21rjumdkqr2x5d (centos6-64-2) 13:40:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user
user { 'adm':
  ensure           => 'present',
  comment          => 'adm',
  gid              => '4',
  groups           => ['sys', 'adm'],
  home             => '/var/adm',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '3',
}
user { 'bin':
  ensure           => 'present',
  comment          => 'bin',
  gid              => '1',
  groups           => ['bin', 'daemon', 'sys'],
  home             => '/bin',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '1',
}
user { 'daemon':
  ensure           => 'present',
  comment          => 'daemon',
  gid              => '2',
  groups           => ['bin', 'daemon', 'adm', 'lp'],
  home             => '/sbin',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '2',
}
user { 'ftp':
  ensure           => 'present',
  comment          => 'FTP User',
  gid              => '50',
  home             => '/var/ftp',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '14',
}
user { 'games':
  ensure           => 'present',
  comment          => 'games',
  gid              => '100',
  home             => '/usr/games',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '12',
}
user { 'gopher':
  ensure           => 'present',
  comment          => 'gopher',
  gid              => '30',
  home             => '/var/gopher',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '13',
}
user { 'halt':
  ensure           => 'present',
  comment          => 'halt',
  gid              => '0',
  home             => '/sbin',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/halt',
  uid              => '7',
}
user { 'lp':
  ensure           => 'present',
  comment          => 'lp',
  gid              => '7',
  home             => '/var/spool/lpd',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '4',
}
user { 'mail':
  ensure           => 'present',
  comment          => 'mail',
  gid              => '12',
  groups           => ['mail'],
  home             => '/var/spool/mail',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '8',
}
user { 'nobody':
  ensure           => 'present',
  comment          => 'Nobody',
  gid              => '99',
  home             => '/',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '99',
}
user { 'ntp':
  ensure           => 'present',
  gid              => '38',
  home             => '/etc/ntp',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '38',
}
user { 'operator':
  ensure           => 'present',
  comment          => 'operator',
  gid              => '0',
  home             => '/root',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '11',
}
user { 'postfix':
  ensure           => 'present',
  gid              => '89',
  groups           => ['mail'],
  home             => '/var/spool/postfix',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '89',
}
user { 'puppet':
  ensure           => 'present',
  comment          => 'Puppet',
  gid              => '52',
  home             => '/var/lib/puppet',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '52',
}
user { 'root':
  ensure           => 'present',
  comment          => 'root',
  gid              => '0',
  home             => '/root',
  password         => '$6$UqPBD2iiJ6hfZItD$F6y5nkT9D11aZ5RTrK3B4guAu0S9GlQlwDfJDbSVbg8Xdp/S2CmzB.L/xcW8D/Yz19aN5gsHdDz2gE.HNH1Q31',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/bin/bash',
  uid              => '0',
}
user { 'saslauth':
  ensure           => 'present',
  comment          => '"Saslauthd user"',
  gid              => '76',
  home             => '/var/empty/saslauth',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '499',
}
user { 'shutdown':
  ensure           => 'present',
  comment          => 'shutdown',
  gid              => '0',
  home             => '/sbin',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/shutdown',
  uid              => '6',
}
user { 'sshd':
  ensure           => 'present',
  comment          => 'Privilege-separated SSH',
  gid              => '74',
  home             => '/var/empty/sshd',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '74',
}
user { 'sync':
  ensure           => 'present',
  comment          => 'sync',
  gid              => '0',
  home             => '/sbin',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/bin/sync',
  uid              => '5',
}
user { 'uucp':
  ensure           => 'present',
  comment          => 'uucp',
  gid              => '14',
  home             => '/var/spool/uucp',
  password         => '*',
  password_max_age => '99999',
  password_min_age => '0',
  shell            => '/sbin/nologin',
  uid              => '10',
}
user { 'vcsa':
  ensure           => 'present',
  comment          => 'virtual console memory owner',
  gid              => '69',
  home             => '/dev',
  password         => '!!',
  password_max_age => '-1',
  password_min_age => '-1',
  shell            => '/sbin/nologin',
  uid              => '69',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.97 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/resource/zfs" name="basic_tests.rb" time="0.007224"><skip type="skip"/><system-out><![CDATA[
ZFS: configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zfs" name="should_be_idempotent.rb" time="0.000667"><skip type="skip"/><system-out><![CDATA[
ZFS: configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zfs" name="should_create.rb" time="0.000450"><skip type="skip"/><system-out><![CDATA[
ZFS: should create
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zfs" name="should_query.rb" time="0.000491"><skip type="skip"/><system-out><![CDATA[
ZFS: configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zfs" name="should_remove.rb" time="0.000411"><skip type="skip"/><system-out><![CDATA[
ZFS: configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zone" name="dataset.rb" time="0.000740"><skip type="skip"/><system-out><![CDATA[
Zone: dataset configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zone" name="set_ip.rb" time="0.000706"><skip type="skip"/><system-out><![CDATA[
Zone:IP ip-type and ip configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zone" name="set_path.rb" time="0.000628"><skip type="skip"/><system-out><![CDATA[
Zone:Path configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zone" name="should_be_created_and_removed.rb" time="0.000529"><skip type="skip"/><system-out><![CDATA[
Zone: should be created and removed
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zone" name="should_be_idempotent.rb" time="0.000482"><skip type="skip"/><system-out><![CDATA[
Zone: should be idempotent
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zone" name="statemachine.rb" time="0.000467"><skip type="skip"/><system-out><![CDATA[
Zone:Statemachine configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zone" name="stepstates.rb" time="0.000533"><skip type="skip"/><system-out><![CDATA[
Zone:statemachine single states
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zone" name="ticket_4840_should_create_zone_with_zpool.rb" time="0.000434"><skip type="skip"/><system-out><![CDATA[
Zone: ticket #4840 - verify that the given manifest works.
Warning: No suitable hosts with: {:platform=>"solaris:pending"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zpool" name="basic_tests.rb" time="0.000616"><skip type="skip"/><system-out><![CDATA[
ZPool: configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zpool" name="should_be_idempotent.rb" time="0.000455"><skip type="skip"/><system-out><![CDATA[
ZPool: configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zpool" name="should_create.rb" time="0.005804"><skip type="skip"/><system-out><![CDATA[
ZPool: configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zpool" name="should_query.rb" time="0.000436"><skip type="skip"/><system-out><![CDATA[
ZPool: configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/resource/zpool" name="should_remove.rb" time="0.000498"><skip type="skip"/><system-out><![CDATA[
ZPool: configuration
Warning: No suitable hosts with: {:platform=>"solaris"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests/security" name="cve-2013-1640_facter_string.rb" time="4.072782"><system-out><![CDATA[
CVE 2013-1640 Remote Code Execution

n6vo88vhlunm0j0 (centos6-64-1) 13:40:51$   FACTER_string="<%= %x{ /bin/echo hax0rd }  %>"  puppet apply -e  'notice(inline_template("<%= \"I am Safe\" %>"))'   
Notice: Scope(Class[main]): I am Safe
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.06 seconds
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.21 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:40:53$   FACTER_string="<%= %x{ /bin/echo hax0rd }  %>"  puppet apply -e  'notice(inline_template("<%= \"I am Safe\" %>"))'   
Notice: Scope(Class[main]): I am Safe
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.86 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/security" name="cve-2013-1652_improper_query_params.rb" time="12.193104"><system-out><![CDATA[
CVE 2013-1652 Improper query parameter validation

n6vo88vhlunm0j0 (centos6-64-1) 13:40:55$  mktemp -dt cve-2013-1652_improper_query_params.rb.XXXXXX  
/tmp/cve-2013-1652_improper_query_params.rb.SybVpK

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:55$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:55$  cp /etc/puppet/puppet.conf /tmp/cve-2013-1652_improper_query_params.rb.SybVpK/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:55$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1gzj5as centos6-64-1:/tmp/cve-2013-1652_improper_query_params.rb.SybVpK/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:55$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:40:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.40 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:40:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0777' to '0755'
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403124060'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.32 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Notice: /File[/var/lib/puppet/facts.d]/mode: mode changed '0777' to '0755'
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403124060'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.15 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint certname
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.58 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostcert
/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.59 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostprivkey
/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.59 seconds

  * Attempt to retrieve another nodes catalog

t21rjumdkqr2x5d (centos6-64-2) 13:41:05$  curl -g --cert "/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem" --key "/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem" -k -H 'Accept: pson' 'https://n6vo88vhlunm0j0:8140/production/catalog/t21rjumdkqr2x5d.delivery.puppetlabs.net?use_node=---%20!ruby/object:Puppet::Node%0A%20%20name:%20n6vo88vhlunm0j0%0A%20%20classes:%20[]%0A%20%20parameters:%20%7B%7D%0A%20%20facts:%20%7B%7D'  
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0    44   Invalid option use_node for a remote request 0    44    0     0    307      0 --:--:-- --:--:-- --:--:--   916  0    44    0    44    0     0    305      0 --:--:-- --:--:-- --:--:--   916

t21rjumdkqr2x5d (centos6-64-2) executed in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:06$  if [ -f '/tmp/cve-2013-1652_improper_query_params.rb.SybVpK/puppet.conf.bak' ]; then cat '/tmp/cve-2013-1652_improper_query_params.rb.SybVpK/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cve-2013-1652_improper_query_params.rb.SybVpK/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:06$  cat `puppet master --configprint pidfile`  
25153
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:06$  kill 25153  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:06$  kill -0 25153  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:07$  kill -0 25153  
bash: line 0: kill: (25153) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1
]]></system-out><system-err><![CDATA[  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0    44    0    44    0     0    307      0 --:--:-- --:--:-- --:--:--   916
  0    44    0    44    0     0    305      0 --:--:-- --:--:-- --:--:--   916
]]></system-err></testcase><testcase classname="tests/security" name="cve-2013-1652_poison_other_node_cache.rb" time="10.388701"><system-out><![CDATA[
CVE 2013-1652 Poison node cache

  * Determine suitability of the test

n6vo88vhlunm0j0 (centos6-64-1) 13:41:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet --version  
3.6.2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.43 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:08$  mktemp -dt cve-2013-1652_poison_other_node_cache.rb.XXXXXX  
/tmp/cve-2013-1652_poison_other_node_cache.rb.v2REwE

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:08$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:08$  cp /etc/puppet/puppet.conf /tmp/cve-2013-1652_poison_other_node_cache.rb.v2REwE/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:08$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1dydxd4 centos6-64-1:/tmp/cve-2013-1652_poison_other_node_cache.rb.v2REwE/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:08$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.62 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:41:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403124073'
Notice: Finished catalog run in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.39 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint certname
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.67 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostcert
/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.59 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostprivkey
/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.91 seconds

  * Attempt to poison the master's node cache

n6vo88vhlunm0j0 (centos6-64-1) 13:41:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  --configprint yamldir
/var/lib/puppet/yaml

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:16$  rm -rf /var/lib/puppet/yaml/node/you.lose.yaml  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:16$  rm -rf /var/lib/puppet/yaml/node/*  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:16$  curl -g --cert "/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem" --key "/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem" -k -H 'Accept: pson' 'https://n6vo88vhlunm0j0:8140/production/node/n6vo88vhlunm0j0.delivery.puppetlabs.net?instance=---+%21ruby%2Fobject%3APuppet%3A%3ANode%0A+classes%3A%0A+-+foo%0A+name%3A+you.lose%0A+parameters%3A+%7B%7D%0A+time%3A+2013-02-28+15%3A12%3A30.367008+-08%3A00'  
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0Invalid instance type Hash, expected Puppet::Node  0    49    0    49    0     0    383      0 --:--:-- --:--:-- --:--:--  1139

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:16$  [ ! -f /var/lib/puppet/yaml/node/you.lose.yaml ]  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:16$  if [ -f '/tmp/cve-2013-1652_poison_other_node_cache.rb.v2REwE/puppet.conf.bak' ]; then cat '/tmp/cve-2013-1652_poison_other_node_cache.rb.v2REwE/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cve-2013-1652_poison_other_node_cache.rb.v2REwE/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:16$  cat `puppet master --configprint pidfile`  
25344
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.52 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:17$  kill 25344  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:17$  kill -0 25344  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:18$  kill -0 25344  
bash: line 0: kill: (25344) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/security" name="cve-2013-1653_puppet_kick.rb" time="7.510202"><system-out><![CDATA[
CVE 2013-1653: Puppet Kick Remote Code Exploit

  * Determine suitability of the test

n6vo88vhlunm0j0 (centos6-64-1) 13:41:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet --version  
3.6.2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.61 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet --version  
3.6.2

t21rjumdkqr2x5d (centos6-64-2) executed in 0.50 seconds
Warning: This test does not support nodes that are both master and agents

t21rjumdkqr2x5d (centos6-64-2) 13:41:19$  mktemp -dt puppet-kick-auth.XXXXXX  
/tmp/puppet-kick-auth.lfWAiL

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:19$  mktemp -dt puppet-kick-auth.XXXXXX  
/tmp/puppet-kick-auth.ZNbeaZ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Daemonize the agent
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ggjhbn centos6-64-2:/tmp/puppet-kick-auth.lfWAiL/auth.conf {}

t21rjumdkqr2x5d (centos6-64-2) 13:41:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --debug --daemonize --server n6vo88vhlunm0j0 --listen --no-client --rest_authconfig /tmp/puppet-kick-auth.lfWAiL/auth.conf
Debug: Puppet::Type::User::ProviderLdap: true value when expecting false
Debug: Puppet::Type::User::ProviderDirectoryservice: file /usr/bin/dsimport does not exist
Debug: Puppet::Type::User::ProviderUser_role_add: file roleadd does not exist
Debug: Puppet::Type::User::ProviderPw: file pw does not exist
Debug: Puppet::Type::Group::ProviderLdap: true value when expecting false
Debug: Puppet::Type::Group::ProviderDirectoryservice: file /usr/bin/dscl does not exist
Debug: Puppet::Type::Group::ProviderPw: file pw does not exist
Debug: Using settings: adding file resource 'hostprivkey': 'File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'publickeydir': 'File[/var/lib/puppet/ssl/public_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys"}'
Debug: Using settings: adding file resource 'plugindest': 'File[/var/lib/puppet/lib]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/lib"}'
Debug: Using settings: adding file resource 'classfile': 'File[/var/lib/puppet/classes.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/classes.txt"}'
Debug: Using settings: adding file resource 'lastrunreport': 'File[/var/lib/puppet/state/last_run_report.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_report.yaml"}'
Debug: Using settings: adding file resource 'statedir': 'File[/var/lib/puppet/state]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"1755", :loglevel=>:debug, :path=>"/var/lib/puppet/state"}'
Debug: Using settings: adding file resource 'clientbucketdir': 'File[/var/lib/puppet/clientbucket]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/clientbucket"}'
Debug: Using settings: adding file resource 'localcacert': 'File[/var/lib/puppet/ssl/certs/ca.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/ca.pem"}'
Debug: Using settings: adding file resource 'privatekeydir': 'File[/var/lib/puppet/ssl/private_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys"}'
Debug: Using settings: adding file resource 'pluginfactdest': 'File[/var/lib/puppet/facts.d]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/facts.d"}'
Debug: Using settings: adding file resource 'graphdir': 'File[/var/lib/puppet/state/graphs]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/state/graphs"}'
Debug: Using settings: adding file resource 'confdir': 'File[/etc/puppet]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/etc/puppet"}'
Debug: Using settings: adding file resource 'statefile': 'File[/var/lib/puppet/state/state.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"660", :loglevel=>:debug, :path=>"/var/lib/puppet/state/state.yaml"}'
Debug: Using settings: adding file resource 'hostcert': 'File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'ssldir': 'File[/var/lib/puppet/ssl]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"771", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl"}'
Debug: Using settings: adding file resource 'client_datadir': 'File[/var/lib/puppet/client_data]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_data"}'
Debug: Using settings: adding file resource 'lastrunfile': 'File[/var/lib/puppet/state/last_run_summary.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_summary.yaml"}'
Debug: Using settings: adding file resource 'rundir': 'File[/var/run/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/run/puppet"}'
Debug: Using settings: adding file resource 'hostpubkey': 'File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'requestdir': 'File[/var/lib/puppet/ssl/certificate_requests]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certificate_requests"}'
Debug: Using settings: adding file resource 'resourcefile': 'File[/var/lib/puppet/state/resources.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/resources.txt"}'
Debug: Using settings: adding file resource 'logdir': 'File[/var/log/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/log/puppet"}'
Debug: Using settings: adding file resource 'privatedir': 'File[/var/lib/puppet/ssl/private]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private"}'
Debug: Using settings: adding file resource 'vardir': 'File[/var/lib/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet"}'
Debug: Using settings: adding file resource 'hostcrl': 'File[/var/lib/puppet/ssl/crl.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/crl.pem"}'
Debug: Using settings: adding file resource 'certdir': 'File[/var/lib/puppet/ssl/certs]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs"}'
Debug: Using settings: adding file resource 'clientyamldir': 'File[/var/lib/puppet/client_yaml]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_yaml"}'
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/lib]/seluser: Found seluser default 'system_u' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrole: Found selrole default 'object_r' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrange: Found selrange default 's0' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/classes.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrange: Found selrange default 's0' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/clientbucket]/seluser: Found seluser default 'system_u' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrole: Found selrole default 'object_r' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrange: Found selrange default 's0' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/private_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/facts.d]/seluser: Found seluser default 'system_u' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrole: Found selrole default 'object_r' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrange: Found selrange default 's0' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/state/graphs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrange: Found selrange default 's0' for /var/lib/puppet/state/graphs
Debug: /File[/etc/puppet]/seluser: Found seluser default 'system_u' for /etc/puppet
Debug: /File[/etc/puppet]/selrole: Found selrole default 'object_r' for /etc/puppet
Debug: /File[/etc/puppet]/seltype: Found seltype default 'puppet_etc_t' for /etc/puppet
Debug: /File[/etc/puppet]/selrange: Found selrange default 's0' for /etc/puppet
Debug: /File[/var/lib/puppet/state/state.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/client_data]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrange: Found selrange default 's0' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/run/puppet]/seluser: Found seluser default 'system_u' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrole: Found selrole default 'object_r' for /var/run/puppet
Debug: /File[/var/run/puppet]/seltype: Found seltype default 'puppet_var_run_t' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrange: Found selrange default 's0' for /var/run/puppet
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/state/resources.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/log/puppet]/seluser: Found seluser default 'system_u' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrole: Found selrole default 'object_r' for /var/log/puppet
Debug: /File[/var/log/puppet]/seltype: Found seltype default 'puppet_log_t' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrange: Found selrange default 's0' for /var/log/puppet
Debug: /File[/var/lib/puppet/ssl/private]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet]/seluser: Found seluser default 'system_u' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrole: Found selrole default 'object_r' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrange: Found selrange default 's0' for /var/lib/puppet
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/certs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/client_yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/public_keys]
Debug: /File[/var/lib/puppet/state/graphs]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/client_data]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/facts.d]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/classes.txt]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/client_yaml]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/crl.pem]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/private]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/lib]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/clientbucket]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/state/resources.txt]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/certs]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/certificate_requests]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/state/state.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl/private_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/private_keys]
Debug: /File[/var/lib/puppet/ssl/public_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seluser: seluser changed 'unconfined_u' to 'system_u'
Debug: /File[/var/lib/puppet/state/state.yaml]/seluser: seluser changed 'unconfined_u' to 'system_u'
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seluser: seluser changed 'unconfined_u' to 'system_u'
Debug: Finishing transaction 70068187130940

t21rjumdkqr2x5d (centos6-64-2) executed in 1.26 seconds

  * Wait for agent to start listening

t21rjumdkqr2x5d (centos6-64-2) 13:41:20$  curl -k https://t21rjumdkqr2x5d:8139  

curl: (7) couldn't connect to host

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
Exited: 7

t21rjumdkqr2x5d (centos6-64-2) 13:41:21$  curl -k https://t21rjumdkqr2x5d:8139  
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0The environment must be purely alphanumeric, not ''  0    51    0    51    0     0    445      0 --:--:-- --:--:-- --:--:--  1062

t21rjumdkqr2x5d (centos6-64-2) executed in 0.15 seconds

  * Attempt to exploit t21rjumdkqr2x5d

t21rjumdkqr2x5d (centos6-64-2) 13:41:21$  rm -rf /tmp/cve-2013-1653-has-worked  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:21$  rm -rf /tmp/puppet-kick-auth.ZNbeaZ/exploit.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostcert
/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.77 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostprivkey
/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.84 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-betx6k centos6-64-1:/tmp/puppet-kick-auth.ZNbeaZ/exploit.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:41:23$  chmod +x /tmp/puppet-kick-auth.ZNbeaZ/exploit.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:23$  /tmp/puppet-kick-auth.ZNbeaZ/exploit.rb  

Could not intern from yaml: Run does not accept safe_level

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.65 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:24$  [ ! -f /tmp/cve-2013-1653-has-worked ]  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint pidfile
/var/run/puppet/agent.pid

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.60 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:25$  [ -f /var/run/puppet/agent.pid ] && kill `cat /var/run/puppet/agent.pid` || true  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:25$  rm -rf /tmp/cve-2013-1653-has-worked  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint pidfile
/var/run/puppet/agent.pid

t21rjumdkqr2x5d (centos6-64-2) executed in 0.58 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:25$  [ -f /var/run/puppet/agent.pid ] && kill `cat /var/run/puppet/agent.pid` || true  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:25$  rm -rf /tmp/cve-2013-1653-has-worked  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/security" name="cve-2013-1654_sslv2_downgrade_agent.rb" time="12.670761"><system-out><![CDATA[
CVE 2013-1654 SSL2 Downgrade of Agent connection

n6vo88vhlunm0j0 (centos6-64-1) 13:41:25$  /usr/bin/ruby -ropenssl -e "puts OpenSSL::SSL::SSLContext::METHODS.include?(:SSLv2)"
  
true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostcert
/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.58 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostprivkey
/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.60 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint localcacert
/var/lib/puppet/ssl/certs/ca.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.59 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:27$  mktemp -dt puppet-sslv2.XXXXXX  
/tmp/puppet-sslv2.SSRZAr

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9codgs centos6-64-1:/tmp/puppet-sslv2.SSRZAr/sslserver.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:41:27$  /usr/bin/ruby /tmp/puppet-sslv2.SSRZAr/sslserver.rb &>/dev/null &  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:27$  curl -m1 -k https://n6vo88vhlunm0j0:8150  

curl: (7) couldn't connect to host

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 7

n6vo88vhlunm0j0 (centos6-64-1) 13:41:28$  curl -m1 -k https://n6vo88vhlunm0j0:8150  

curl: (35) SSL connect error

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.37 seconds
Exited: 35

n6vo88vhlunm0j0 (centos6-64-1) 13:41:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --debug --test --server n6vo88vhlunm0j0 --masterport 8150  
Debug: Puppet::Type::User::ProviderLdap: true value when expecting false
Debug: Puppet::Type::User::ProviderUser_role_add: file rolemod does not exist
Debug: Puppet::Type::User::ProviderDirectoryservice: file /usr/bin/dsimport does not exist
Debug: Puppet::Type::User::ProviderPw: file pw does not exist
Debug: Puppet::Type::Group::ProviderLdap: true value when expecting false
Debug: Puppet::Type::Group::ProviderDirectoryservice: file /usr/bin/dscl does not exist
Debug: Puppet::Type::Group::ProviderPw: file pw does not exist
Debug: Using settings: adding file resource 'hostprivkey': 'File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'publickeydir': 'File[/var/lib/puppet/ssl/public_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys"}'
Debug: Using settings: adding file resource 'plugindest': 'File[/var/lib/puppet/lib]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/lib"}'
Debug: Using settings: adding file resource 'classfile': 'File[/var/lib/puppet/classes.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/classes.txt"}'
Debug: Using settings: adding file resource 'lastrunreport': 'File[/var/lib/puppet/state/last_run_report.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_report.yaml"}'
Debug: Using settings: adding file resource 'statedir': 'File[/var/lib/puppet/state]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"1755", :loglevel=>:debug, :path=>"/var/lib/puppet/state"}'
Debug: Using settings: adding file resource 'clientbucketdir': 'File[/var/lib/puppet/clientbucket]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/clientbucket"}'
Debug: Using settings: adding file resource 'localcacert': 'File[/var/lib/puppet/ssl/certs/ca.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/ca.pem"}'
Debug: Using settings: adding file resource 'privatekeydir': 'File[/var/lib/puppet/ssl/private_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys"}'
Debug: Using settings: adding file resource 'pluginfactdest': 'File[/var/lib/puppet/facts.d]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/facts.d"}'
Debug: Using settings: adding file resource 'graphdir': 'File[/var/lib/puppet/state/graphs]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/state/graphs"}'
Debug: Using settings: adding file resource 'confdir': 'File[/etc/puppet]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/etc/puppet"}'
Debug: Using settings: adding file resource 'statefile': 'File[/var/lib/puppet/state/state.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"660", :loglevel=>:debug, :path=>"/var/lib/puppet/state/state.yaml"}'
Debug: Using settings: adding file resource 'hostcert': 'File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'ssldir': 'File[/var/lib/puppet/ssl]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"771", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl"}'
Debug: Using settings: adding file resource 'client_datadir': 'File[/var/lib/puppet/client_data]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_data"}'
Debug: Using settings: adding file resource 'lastrunfile': 'File[/var/lib/puppet/state/last_run_summary.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_summary.yaml"}'
Debug: Using settings: adding file resource 'rundir': 'File[/var/run/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/run/puppet"}'
Debug: Using settings: adding file resource 'hostpubkey': 'File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'requestdir': 'File[/var/lib/puppet/ssl/certificate_requests]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certificate_requests"}'
Debug: Using settings: adding file resource 'resourcefile': 'File[/var/lib/puppet/state/resources.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/resources.txt"}'
Debug: Using settings: adding file resource 'logdir': 'File[/var/log/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/log/puppet"}'
Debug: Using settings: adding file resource 'privatedir': 'File[/var/lib/puppet/ssl/private]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private"}'
Debug: Using settings: adding file resource 'hiera_config': 'File[/etc/puppet/hiera.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :loglevel=>:debug, :path=>"/etc/puppet/hiera.yaml"}'
Debug: Using settings: adding file resource 'vardir': 'File[/var/lib/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet"}'
Debug: Using settings: adding file resource 'hostcrl': 'File[/var/lib/puppet/ssl/crl.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/crl.pem"}'
Debug: Using settings: adding file resource 'certdir': 'File[/var/lib/puppet/ssl/certs]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs"}'
Debug: Using settings: adding file resource 'clientyamldir': 'File[/var/lib/puppet/client_yaml]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_yaml"}'
Debug: /File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/lib]/seluser: Found seluser default 'system_u' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrole: Found selrole default 'object_r' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrange: Found selrange default 's0' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/classes.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrange: Found selrange default 's0' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/clientbucket]/seluser: Found seluser default 'system_u' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrole: Found selrole default 'object_r' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrange: Found selrange default 's0' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/private_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/facts.d]/seluser: Found seluser default 'system_u' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrole: Found selrole default 'object_r' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrange: Found selrange default 's0' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/state/graphs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrange: Found selrange default 's0' for /var/lib/puppet/state/graphs
Debug: /File[/etc/puppet]/seluser: Found seluser default 'system_u' for /etc/puppet
Debug: /File[/etc/puppet]/selrole: Found selrole default 'object_r' for /etc/puppet
Debug: /File[/etc/puppet]/seltype: Found seltype default 'puppet_etc_t' for /etc/puppet
Debug: /File[/etc/puppet]/selrange: Found selrange default 's0' for /etc/puppet
Debug: /File[/var/lib/puppet/state/state.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/client_data]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrange: Found selrange default 's0' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/run/puppet]/seluser: Found seluser default 'system_u' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrole: Found selrole default 'object_r' for /var/run/puppet
Debug: /File[/var/run/puppet]/seltype: Found seltype default 'puppet_var_run_t' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrange: Found selrange default 's0' for /var/run/puppet
Debug: /File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/state/resources.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/log/puppet]/seluser: Found seluser default 'system_u' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrole: Found selrole default 'object_r' for /var/log/puppet
Debug: /File[/var/log/puppet]/seltype: Found seltype default 'puppet_log_t' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrange: Found selrange default 's0' for /var/log/puppet
Debug: /File[/var/lib/puppet/ssl/private]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private
Debug: /File[/etc/puppet/hiera.yaml]/seluser: Found seluser default 'system_u' for /etc/puppet/hiera.yaml
Debug: /File[/etc/puppet/hiera.yaml]/selrole: Found selrole default 'object_r' for /etc/puppet/hiera.yaml
Debug: /File[/etc/puppet/hiera.yaml]/seltype: Found seltype default 'puppet_etc_t' for /etc/puppet/hiera.yaml
Debug: /File[/etc/puppet/hiera.yaml]/selrange: Found selrange default 's0' for /etc/puppet/hiera.yaml
Debug: /File[/var/lib/puppet]/seluser: Found seluser default 'system_u' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrole: Found selrole default 'object_r' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrange: Found selrange default 's0' for /var/lib/puppet
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/certs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/client_yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/ssl/private]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state/resources.txt]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/private_keys]
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/client_yaml]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/crl.pem]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/ssl/certs]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state/graphs]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/classes.txt]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/private_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/public_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/etc/puppet/hiera.yaml]: Autorequiring File[/etc/puppet]
Debug: /File[/var/lib/puppet/ssl/certificate_requests]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/client_data]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/state/state.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/public_keys]
Debug: /File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/facts.d]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/clientbucket]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/lib]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seluser: seluser changed 'unconfined_u' to 'system_u'
Debug: /File[/var/lib/puppet/state/state.yaml]/seluser: seluser changed 'unconfined_u' to 'system_u'
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seluser: seluser changed 'unconfined_u' to 'system_u'
Debug: Finishing transaction 69924863550580
Debug: Using settings: adding file resource 'hostprivkey': 'File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'publickeydir': 'File[/var/lib/puppet/ssl/public_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys"}'
Debug: Using settings: adding file resource 'plugindest': 'File[/var/lib/puppet/lib]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/lib"}'
Debug: Using settings: adding file resource 'statedir': 'File[/var/lib/puppet/state]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"1755", :loglevel=>:debug, :path=>"/var/lib/puppet/state"}'
Debug: Using settings: adding file resource 'localcacert': 'File[/var/lib/puppet/ssl/certs/ca.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/ca.pem"}'
Debug: Using settings: adding file resource 'privatekeydir': 'File[/var/lib/puppet/ssl/private_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys"}'
Debug: Using settings: adding file resource 'pluginfactdest': 'File[/var/lib/puppet/facts.d]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/facts.d"}'
Debug: Using settings: adding file resource 'confdir': 'File[/etc/puppet]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/etc/puppet"}'
Debug: Using settings: adding file resource 'hostcert': 'File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'ssldir': 'File[/var/lib/puppet/ssl]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"771", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl"}'
Debug: Using settings: adding file resource 'rundir': 'File[/var/run/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/run/puppet"}'
Debug: Using settings: adding file resource 'hostpubkey': 'File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'requestdir': 'File[/var/lib/puppet/ssl/certificate_requests]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certificate_requests"}'
Debug: Using settings: adding file resource 'logdir': 'File[/var/log/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/log/puppet"}'
Debug: Using settings: adding file resource 'privatedir': 'File[/var/lib/puppet/ssl/private]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private"}'
Debug: Using settings: adding file resource 'hiera_config': 'File[/etc/puppet/hiera.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :loglevel=>:debug, :path=>"/etc/puppet/hiera.yaml"}'
Debug: Using settings: adding file resource 'vardir': 'File[/var/lib/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet"}'
Debug: Using settings: adding file resource 'hostcrl': 'File[/var/lib/puppet/ssl/crl.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/crl.pem"}'
Debug: Using settings: adding file resource 'certdir': 'File[/var/lib/puppet/ssl/certs]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs"}'
Debug: /File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/lib]/seluser: Found seluser default 'system_u' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrole: Found selrole default 'object_r' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrange: Found selrange default 's0' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/state]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrange: Found selrange default 's0' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/private_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/facts.d]/seluser: Found seluser default 'system_u' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrole: Found selrole default 'object_r' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrange: Found selrange default 's0' for /var/lib/puppet/facts.d
Debug: /File[/etc/puppet]/seluser: Found seluser default 'system_u' for /etc/puppet
Debug: /File[/etc/puppet]/selrole: Found selrole default 'object_r' for /etc/puppet
Debug: /File[/etc/puppet]/seltype: Found seltype default 'puppet_etc_t' for /etc/puppet
Debug: /File[/etc/puppet]/selrange: Found selrange default 's0' for /etc/puppet
Debug: /File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl
Debug: /File[/var/run/puppet]/seluser: Found seluser default 'system_u' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrole: Found selrole default 'object_r' for /var/run/puppet
Debug: /File[/var/run/puppet]/seltype: Found seltype default 'puppet_var_run_t' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrange: Found selrange default 's0' for /var/run/puppet
Debug: /File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/log/puppet]/seluser: Found seluser default 'system_u' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrole: Found selrole default 'object_r' for /var/log/puppet
Debug: /File[/var/log/puppet]/seltype: Found seltype default 'puppet_log_t' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrange: Found selrange default 's0' for /var/log/puppet
Debug: /File[/var/lib/puppet/ssl/private]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private
Debug: /File[/etc/puppet/hiera.yaml]/seluser: Found seluser default 'system_u' for /etc/puppet/hiera.yaml
Debug: /File[/etc/puppet/hiera.yaml]/selrole: Found selrole default 'object_r' for /etc/puppet/hiera.yaml
Debug: /File[/etc/puppet/hiera.yaml]/seltype: Found seltype default 'puppet_etc_t' for /etc/puppet/hiera.yaml
Debug: /File[/etc/puppet/hiera.yaml]/selrange: Found selrange default 's0' for /etc/puppet/hiera.yaml
Debug: /File[/var/lib/puppet]/seluser: Found seluser default 'system_u' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrole: Found selrole default 'object_r' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrange: Found selrange default 's0' for /var/lib/puppet
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/certs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/lib]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/ssl/crl.pem]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/facts.d]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/state]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/public_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/private_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/public_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/public_keys]
Debug: /File[/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/private_keys]
Debug: /File[/var/lib/puppet/ssl/certs]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/private]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/certificate_requests]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/etc/puppet/hiera.yaml]: Autorequiring File[/etc/puppet]
Debug: Finishing transaction 69924863138720
Debug: Using cached certificate for ca
Debug: Using cached certificate for n6vo88vhlunm0j0.delivery.puppetlabs.net
Debug: Using settings: adding file resource 'classfile': 'File[/var/lib/puppet/classes.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/classes.txt"}'
Debug: Using settings: adding file resource 'lastrunreport': 'File[/var/lib/puppet/state/last_run_report.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_report.yaml"}'
Debug: Using settings: adding file resource 'clientbucketdir': 'File[/var/lib/puppet/clientbucket]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/clientbucket"}'
Debug: Using settings: adding file resource 'graphdir': 'File[/var/lib/puppet/state/graphs]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/state/graphs"}'
Debug: Using settings: adding file resource 'statefile': 'File[/var/lib/puppet/state/state.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"660", :loglevel=>:debug, :path=>"/var/lib/puppet/state/state.yaml"}'
Debug: Using settings: adding file resource 'client_datadir': 'File[/var/lib/puppet/client_data]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_data"}'
Debug: Using settings: adding file resource 'lastrunfile': 'File[/var/lib/puppet/state/last_run_summary.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_summary.yaml"}'
Debug: Using settings: adding file resource 'resourcefile': 'File[/var/lib/puppet/state/resources.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/resources.txt"}'
Debug: Using settings: adding file resource 'clientyamldir': 'File[/var/lib/puppet/client_yaml]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_yaml"}'
Debug: /File[/var/lib/puppet/classes.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/clientbucket]/seluser: Found seluser default 'system_u' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrole: Found selrole default 'object_r' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrange: Found selrange default 's0' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/state/graphs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrange: Found selrange default 's0' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/state.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/client_data]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrange: Found selrange default 's0' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/resources.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/client_yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/client_yaml
Debug: Finishing transaction 69924864430660
Debug: Loaded state in 0.01 seconds
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: node supports formats: pson b64_zlib_yaml yaml raw
Debug: Using cached certificate for ca
Debug: Using cached certificate for n6vo88vhlunm0j0.delivery.puppetlabs.net
Debug: Using cached certificate_revocation_list for ca
Warning: Unable to fetch my node definition, but the agent run will continue:
Warning: Connection reset by peer - SSL_connect
Info: Retrieving pluginfacts
Debug: /File[/var/lib/puppet/facts.d]/seluser: Found seluser default 'system_u' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrole: Found selrole default 'object_r' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrange: Found selrange default 's0' for /var/lib/puppet/facts.d
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: file_metadata supports formats: pson b64_zlib_yaml yaml raw
Error: /File[/var/lib/puppet/facts.d]: Failed to generate additional resources using 'eval_generate': Connection reset by peer - SSL_connect
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: file_metadata supports formats: pson b64_zlib_yaml yaml raw
Error: /File[/var/lib/puppet/facts.d]: Could not evaluate: Could not retrieve file metadata for puppet://n6vo88vhlunm0j0/pluginfacts: Connection reset by peer - SSL_connect
Wrapped exception:
Connection reset by peer - SSL_connect
Debug: Finishing transaction 69924874060100
Info: Retrieving plugin
Debug: /File[/var/lib/puppet/lib]/seluser: Found seluser default 'system_u' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrole: Found selrole default 'object_r' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrange: Found selrange default 's0' for /var/lib/puppet/lib
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: file_metadata supports formats: pson b64_zlib_yaml yaml raw
Error: /File[/var/lib/puppet/lib]: Failed to generate additional resources using 'eval_generate': Connection reset by peer - SSL_connect
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: file_metadata supports formats: pson b64_zlib_yaml yaml raw
Error: /File[/var/lib/puppet/lib]: Could not evaluate: Could not retrieve file metadata for puppet://n6vo88vhlunm0j0/plugins: Connection reset by peer - SSL_connect
Wrapped exception:
Connection reset by peer - SSL_connect
Debug: Finishing transaction 69924872731620
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: catalog supports formats: pson b64_zlib_yaml yaml dot raw
Error: Could not retrieve catalog from remote server: Connection reset by peer - SSL_connect
Warning: Not using cache on failed catalog
Error: Could not retrieve catalog; skipping run
Error: Could not send report: Connection reset by peer - SSL_connect

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.52 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:41:32$  /usr/bin/ruby -ropenssl -e "puts OpenSSL::SSL::SSLContext::METHODS.include?(:SSLv2)"
  
true

t21rjumdkqr2x5d (centos6-64-2) executed in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostcert
/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.61 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostprivkey
/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.63 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint localcacert
/var/lib/puppet/ssl/certs/ca.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.54 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:34$  mktemp -dt puppet-sslv2.XXXXXX  
/tmp/puppet-sslv2.1TYo6Z

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-2wxnd centos6-64-2:/tmp/puppet-sslv2.1TYo6Z/sslserver.rb {}

t21rjumdkqr2x5d (centos6-64-2) 13:41:34$  /usr/bin/ruby /tmp/puppet-sslv2.1TYo6Z/sslserver.rb &>/dev/null &  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:34$  curl -m1 -k https://t21rjumdkqr2x5d:8150  

curl: (7) couldn't connect to host

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
Exited: 7

t21rjumdkqr2x5d (centos6-64-2) 13:41:35$  curl -m1 -k https://t21rjumdkqr2x5d:8150  

curl: (35) SSL connect error

t21rjumdkqr2x5d (centos6-64-2) executed in 0.09 seconds
Exited: 35

t21rjumdkqr2x5d (centos6-64-2) 13:41:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --debug --test --server t21rjumdkqr2x5d --masterport 8150  
Debug: Puppet::Type::User::ProviderLdap: true value when expecting false
Debug: Puppet::Type::User::ProviderUser_role_add: file rolemod does not exist
Debug: Puppet::Type::User::ProviderDirectoryservice: file /usr/bin/dsimport does not exist
Debug: Puppet::Type::User::ProviderPw: file pw does not exist
Debug: Puppet::Type::Group::ProviderLdap: true value when expecting false
Debug: Puppet::Type::Group::ProviderDirectoryservice: file /usr/bin/dscl does not exist
Debug: Puppet::Type::Group::ProviderPw: file pw does not exist
Debug: Using settings: adding file resource 'hostprivkey': 'File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'publickeydir': 'File[/var/lib/puppet/ssl/public_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys"}'
Debug: Using settings: adding file resource 'plugindest': 'File[/var/lib/puppet/lib]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/lib"}'
Debug: Using settings: adding file resource 'classfile': 'File[/var/lib/puppet/classes.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/classes.txt"}'
Debug: Using settings: adding file resource 'lastrunreport': 'File[/var/lib/puppet/state/last_run_report.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_report.yaml"}'
Debug: Using settings: adding file resource 'statedir': 'File[/var/lib/puppet/state]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"1755", :loglevel=>:debug, :path=>"/var/lib/puppet/state"}'
Debug: Using settings: adding file resource 'clientbucketdir': 'File[/var/lib/puppet/clientbucket]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/clientbucket"}'
Debug: Using settings: adding file resource 'localcacert': 'File[/var/lib/puppet/ssl/certs/ca.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/ca.pem"}'
Debug: Using settings: adding file resource 'privatekeydir': 'File[/var/lib/puppet/ssl/private_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys"}'
Debug: Using settings: adding file resource 'pluginfactdest': 'File[/var/lib/puppet/facts.d]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/facts.d"}'
Debug: Using settings: adding file resource 'graphdir': 'File[/var/lib/puppet/state/graphs]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/state/graphs"}'
Debug: Using settings: adding file resource 'confdir': 'File[/etc/puppet]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/etc/puppet"}'
Debug: Using settings: adding file resource 'statefile': 'File[/var/lib/puppet/state/state.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"660", :loglevel=>:debug, :path=>"/var/lib/puppet/state/state.yaml"}'
Debug: Using settings: adding file resource 'httplog': 'File[/var/log/puppet/http.log]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/log/puppet/http.log"}'
Debug: Using settings: adding file resource 'hostcert': 'File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'ssldir': 'File[/var/lib/puppet/ssl]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"771", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl"}'
Debug: Using settings: adding file resource 'client_datadir': 'File[/var/lib/puppet/client_data]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_data"}'
Debug: Using settings: adding file resource 'lastrunfile': 'File[/var/lib/puppet/state/last_run_summary.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_summary.yaml"}'
Debug: Using settings: adding file resource 'rundir': 'File[/var/run/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/run/puppet"}'
Debug: Using settings: adding file resource 'hostpubkey': 'File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'requestdir': 'File[/var/lib/puppet/ssl/certificate_requests]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certificate_requests"}'
Debug: Using settings: adding file resource 'resourcefile': 'File[/var/lib/puppet/state/resources.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/resources.txt"}'
Debug: Using settings: adding file resource 'logdir': 'File[/var/log/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/log/puppet"}'
Debug: Using settings: adding file resource 'privatedir': 'File[/var/lib/puppet/ssl/private]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private"}'
Debug: Using settings: adding file resource 'vardir': 'File[/var/lib/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet"}'
Debug: Using settings: adding file resource 'hostcrl': 'File[/var/lib/puppet/ssl/crl.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/crl.pem"}'
Debug: Using settings: adding file resource 'certdir': 'File[/var/lib/puppet/ssl/certs]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs"}'
Debug: Using settings: adding file resource 'clientyamldir': 'File[/var/lib/puppet/client_yaml]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_yaml"}'
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/lib]/seluser: Found seluser default 'system_u' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrole: Found selrole default 'object_r' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrange: Found selrange default 's0' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/classes.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrange: Found selrange default 's0' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/clientbucket]/seluser: Found seluser default 'system_u' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrole: Found selrole default 'object_r' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrange: Found selrange default 's0' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/private_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/facts.d]/seluser: Found seluser default 'system_u' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrole: Found selrole default 'object_r' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrange: Found selrange default 's0' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/state/graphs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrange: Found selrange default 's0' for /var/lib/puppet/state/graphs
Debug: /File[/etc/puppet]/seluser: Found seluser default 'system_u' for /etc/puppet
Debug: /File[/etc/puppet]/selrole: Found selrole default 'object_r' for /etc/puppet
Debug: /File[/etc/puppet]/seltype: Found seltype default 'puppet_etc_t' for /etc/puppet
Debug: /File[/etc/puppet]/selrange: Found selrange default 's0' for /etc/puppet
Debug: /File[/var/lib/puppet/state/state.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/log/puppet/http.log]/seluser: Found seluser default 'system_u' for /var/log/puppet/http.log
Debug: /File[/var/log/puppet/http.log]/selrole: Found selrole default 'object_r' for /var/log/puppet/http.log
Debug: /File[/var/log/puppet/http.log]/seltype: Found seltype default 'puppet_log_t' for /var/log/puppet/http.log
Debug: /File[/var/log/puppet/http.log]/selrange: Found selrange default 's0' for /var/log/puppet/http.log
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/client_data]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrange: Found selrange default 's0' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/run/puppet]/seluser: Found seluser default 'system_u' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrole: Found selrole default 'object_r' for /var/run/puppet
Debug: /File[/var/run/puppet]/seltype: Found seltype default 'puppet_var_run_t' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrange: Found selrange default 's0' for /var/run/puppet
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/state/resources.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/log/puppet]/seluser: Found seluser default 'system_u' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrole: Found selrole default 'object_r' for /var/log/puppet
Debug: /File[/var/log/puppet]/seltype: Found seltype default 'puppet_log_t' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrange: Found selrange default 's0' for /var/log/puppet
Debug: /File[/var/lib/puppet/ssl/private]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet]/seluser: Found seluser default 'system_u' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrole: Found selrole default 'object_r' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrange: Found selrange default 's0' for /var/lib/puppet
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/certs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/client_yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/state/graphs]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl/crl.pem]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state/state.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/classes.txt]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/private_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/public_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl/certs]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/certificate_requests]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/client_data]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/facts.d]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/clientbucket]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/lib]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/public_keys]
Debug: /File[/var/log/puppet/http.log]: Autorequiring File[/var/log/puppet]
Debug: /File[/var/lib/puppet/ssl/private]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state/resources.txt]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/private_keys]
Debug: /File[/var/log/puppet/http.log]/mode: mode changed '0644' to '0640'
Debug: /File[/var/log/puppet/http.log]/seluser: seluser changed 'unconfined_u' to 'system_u'
Debug: Finishing transaction 69859863732460
Debug: Using settings: adding file resource 'hostprivkey': 'File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'publickeydir': 'File[/var/lib/puppet/ssl/public_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys"}'
Debug: Using settings: adding file resource 'plugindest': 'File[/var/lib/puppet/lib]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/lib"}'
Debug: Using settings: adding file resource 'statedir': 'File[/var/lib/puppet/state]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"1755", :loglevel=>:debug, :path=>"/var/lib/puppet/state"}'
Debug: Using settings: adding file resource 'localcacert': 'File[/var/lib/puppet/ssl/certs/ca.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/ca.pem"}'
Debug: Using settings: adding file resource 'privatekeydir': 'File[/var/lib/puppet/ssl/private_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys"}'
Debug: Using settings: adding file resource 'pluginfactdest': 'File[/var/lib/puppet/facts.d]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/facts.d"}'
Debug: Using settings: adding file resource 'confdir': 'File[/etc/puppet]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/etc/puppet"}'
Debug: Using settings: adding file resource 'httplog': 'File[/var/log/puppet/http.log]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/log/puppet/http.log"}'
Debug: Using settings: adding file resource 'hostcert': 'File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'ssldir': 'File[/var/lib/puppet/ssl]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"771", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl"}'
Debug: Using settings: adding file resource 'rundir': 'File[/var/run/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/run/puppet"}'
Debug: Using settings: adding file resource 'hostpubkey': 'File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'requestdir': 'File[/var/lib/puppet/ssl/certificate_requests]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certificate_requests"}'
Debug: Using settings: adding file resource 'logdir': 'File[/var/log/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/log/puppet"}'
Debug: Using settings: adding file resource 'privatedir': 'File[/var/lib/puppet/ssl/private]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private"}'
Debug: Using settings: adding file resource 'vardir': 'File[/var/lib/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet"}'
Debug: Using settings: adding file resource 'hostcrl': 'File[/var/lib/puppet/ssl/crl.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/crl.pem"}'
Debug: Using settings: adding file resource 'certdir': 'File[/var/lib/puppet/ssl/certs]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs"}'
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/lib]/seluser: Found seluser default 'system_u' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrole: Found selrole default 'object_r' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrange: Found selrange default 's0' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/state]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrange: Found selrange default 's0' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/private_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/facts.d]/seluser: Found seluser default 'system_u' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrole: Found selrole default 'object_r' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrange: Found selrange default 's0' for /var/lib/puppet/facts.d
Debug: /File[/etc/puppet]/seluser: Found seluser default 'system_u' for /etc/puppet
Debug: /File[/etc/puppet]/selrole: Found selrole default 'object_r' for /etc/puppet
Debug: /File[/etc/puppet]/seltype: Found seltype default 'puppet_etc_t' for /etc/puppet
Debug: /File[/etc/puppet]/selrange: Found selrange default 's0' for /etc/puppet
Debug: /File[/var/log/puppet/http.log]/seluser: Found seluser default 'system_u' for /var/log/puppet/http.log
Debug: /File[/var/log/puppet/http.log]/selrole: Found selrole default 'object_r' for /var/log/puppet/http.log
Debug: /File[/var/log/puppet/http.log]/seltype: Found seltype default 'puppet_log_t' for /var/log/puppet/http.log
Debug: /File[/var/log/puppet/http.log]/selrange: Found selrange default 's0' for /var/log/puppet/http.log
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl
Debug: /File[/var/run/puppet]/seluser: Found seluser default 'system_u' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrole: Found selrole default 'object_r' for /var/run/puppet
Debug: /File[/var/run/puppet]/seltype: Found seltype default 'puppet_var_run_t' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrange: Found selrange default 's0' for /var/run/puppet
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/log/puppet]/seluser: Found seluser default 'system_u' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrole: Found selrole default 'object_r' for /var/log/puppet
Debug: /File[/var/log/puppet]/seltype: Found seltype default 'puppet_log_t' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrange: Found selrange default 's0' for /var/log/puppet
Debug: /File[/var/lib/puppet/ssl/private]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet]/seluser: Found seluser default 'system_u' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrole: Found selrole default 'object_r' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrange: Found selrange default 's0' for /var/lib/puppet
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/certs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/log/puppet/http.log]: Autorequiring File[/var/log/puppet]
Debug: /File[/var/lib/puppet/state]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/private_keys]
Debug: /File[/var/lib/puppet/facts.d]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/crl.pem]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/certificate_requests]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/public_keys]
Debug: /File[/var/lib/puppet/ssl]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/ssl/private]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/private_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/lib]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/public_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: Finishing transaction 69859863359460
Debug: Using cached certificate for ca
Debug: Using cached certificate for t21rjumdkqr2x5d.delivery.puppetlabs.net
Debug: Using settings: adding file resource 'classfile': 'File[/var/lib/puppet/classes.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/classes.txt"}'
Debug: Using settings: adding file resource 'lastrunreport': 'File[/var/lib/puppet/state/last_run_report.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_report.yaml"}'
Debug: Using settings: adding file resource 'clientbucketdir': 'File[/var/lib/puppet/clientbucket]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/clientbucket"}'
Debug: Using settings: adding file resource 'graphdir': 'File[/var/lib/puppet/state/graphs]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/state/graphs"}'
Debug: Using settings: adding file resource 'statefile': 'File[/var/lib/puppet/state/state.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"660", :loglevel=>:debug, :path=>"/var/lib/puppet/state/state.yaml"}'
Debug: Using settings: adding file resource 'client_datadir': 'File[/var/lib/puppet/client_data]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_data"}'
Debug: Using settings: adding file resource 'lastrunfile': 'File[/var/lib/puppet/state/last_run_summary.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_summary.yaml"}'
Debug: Using settings: adding file resource 'resourcefile': 'File[/var/lib/puppet/state/resources.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/resources.txt"}'
Debug: Using settings: adding file resource 'clientyamldir': 'File[/var/lib/puppet/client_yaml]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_yaml"}'
Debug: /File[/var/lib/puppet/classes.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/clientbucket]/seluser: Found seluser default 'system_u' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrole: Found selrole default 'object_r' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrange: Found selrange default 's0' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/state/graphs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrange: Found selrange default 's0' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/state.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/client_data]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrange: Found selrange default 's0' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/resources.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/client_yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/client_yaml
Debug: Finishing transaction 69859894994540
Debug: Loaded state in 0.00 seconds
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: node supports formats: pson b64_zlib_yaml yaml raw
Debug: Using cached certificate for ca
Debug: Using cached certificate for t21rjumdkqr2x5d.delivery.puppetlabs.net
Debug: Using cached certificate_revocation_list for ca
Warning: Unable to fetch my node definition, but the agent run will continue:
Warning: Connection reset by peer - SSL_connect
Info: Retrieving pluginfacts
Debug: /File[/var/lib/puppet/facts.d]/seluser: Found seluser default 'system_u' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrole: Found selrole default 'object_r' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrange: Found selrange default 's0' for /var/lib/puppet/facts.d
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: file_metadata supports formats: pson b64_zlib_yaml yaml raw
Error: /File[/var/lib/puppet/facts.d]: Failed to generate additional resources using 'eval_generate': Connection reset by peer - SSL_connect
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: file_metadata supports formats: pson b64_zlib_yaml yaml raw
Error: /File[/var/lib/puppet/facts.d]: Could not evaluate: Could not retrieve file metadata for puppet://t21rjumdkqr2x5d/pluginfacts: Connection reset by peer - SSL_connect
Wrapped exception:
Connection reset by peer - SSL_connect
Debug: Finishing transaction 69859863501060
Info: Retrieving plugin
Debug: /File[/var/lib/puppet/lib]/seluser: Found seluser default 'system_u' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrole: Found selrole default 'object_r' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrange: Found selrange default 's0' for /var/lib/puppet/lib
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: file_metadata supports formats: pson b64_zlib_yaml yaml raw
Error: /File[/var/lib/puppet/lib]: Failed to generate additional resources using 'eval_generate': Connection reset by peer - SSL_connect
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: file_metadata supports formats: pson b64_zlib_yaml yaml raw
Error: /File[/var/lib/puppet/lib]: Could not evaluate: Could not retrieve file metadata for puppet://t21rjumdkqr2x5d/plugins: Connection reset by peer - SSL_connect
Wrapped exception:
Connection reset by peer - SSL_connect
Debug: Finishing transaction 69859863099760
Debug: Failed to load library 'msgpack' for feature 'msgpack'
Debug: Puppet::Network::Format[msgpack]: feature msgpack is missing
Debug: catalog supports formats: pson b64_zlib_yaml yaml dot raw
Error: Could not retrieve catalog from remote server: Connection reset by peer - SSL_connect
Warning: Not using cache on failed catalog
Error: Could not retrieve catalog; skipping run
Error: Could not send report: Connection reset by peer - SSL_connect

t21rjumdkqr2x5d (centos6-64-2) executed in 2.49 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:41:38$  ps -ef | grep sslserver.rb | grep -v grep | awk '{ print $2 }' | xargs kill || echo "ruby sslserver.rb not running"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:38$  rm -rf /tmp/puppet-sslv2.SSRZAr  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:38$  ps -ef | grep sslserver.rb | grep -v grep | awk '{ print $2 }' | xargs kill || echo "ruby sslserver.rb not running"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:38$  rm -rf /tmp/puppet-sslv2.1TYo6Z  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/security" name="cve-2013-1654_sslv2_downgrade_master.rb" time="5.475081"><system-out><![CDATA[
CVE 2013-1654 SSL2 Downgrade of Master connection

n6vo88vhlunm0j0 (centos6-64-1) 13:41:38$  openssl -v  
openssl:Error: '-v' is an invalid command.

Standard commands
asn1parse         ca                ciphers           cms               
crl               crl2pkcs7         dgst              dh                
dhparam           dsa               dsaparam          ec                
ecparam           enc               engine            errstr            
gendh             gendsa            genpkey           genrsa            
nseq              ocsp              passwd            pkcs12            
pkcs7             pkcs8             pkey              pkeyparam         
pkeyutl           prime             rand              req               
rsa               rsautl            s_client          s_server          
s_time            sess_id           smime             speed             
spkac             ts                verify            version           
x509              

Message Digest commands (see the `dgst' command for more details)
md2               md4               md5               rmd160            
sha               sha1              

Cipher commands (see the `enc' command for more details)
aes-128-cbc       aes-128-ecb       aes-192-cbc       aes-192-ecb       
aes-256-cbc       aes-256-ecb       base64            bf                
bf-cbc            bf-cfb            bf-ecb            bf-ofb            
camellia-128-cbc  camellia-128-ecb  camellia-192-cbc  camellia-192-ecb  
camellia-256-cbc  camellia-256-ecb  cast              cast-cbc          
cast5-cbc         cast5-cfb         cast5-ecb         cast5-ofb         
des               des-cbc           des-cfb           des-ecb           
des-ede           des-ede-cbc       des-ede-cfb       des-ede-ofb       
des-ede3          des-ede3-cbc      des-ede3-cfb      des-ede3-ofb      
des-ofb           des3              desx              idea              
idea-cbc          idea-cfb          idea-ecb          idea-ofb          
rc2               rc2-40-cbc        rc2-64-cbc        rc2-cbc           
rc2-cfb           rc2-ecb           rc2-ofb           rc4               
rc4-40            seed              seed-cbc          seed-cfb          
seed-ecb          seed-ofb          zlib              


n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:41:38$  openssl -v  
openssl:Error: '-v' is an invalid command.

Standard commands
asn1parse         ca                ciphers           cms               
crl               crl2pkcs7         dgst              dh                
dhparam           dsa               dsaparam          ec                
ecparam           enc               engine            errstr            
gendh             gendsa            genpkey           genrsa            
nseq              ocsp              passwd            pkcs12            
pkcs7             pkcs8             pkey              pkeyparam         
pkeyutl           prime             rand              req               
rsa               rsautl            s_client          s_server          
s_time            sess_id           smime             speed             
spkac             ts                verify            version           
x509              

Message Digest commands (see the `dgst' command for more details)
md2               md4               md5               rmd160            
sha               sha1              

Cipher commands (see the `enc' command for more details)
aes-128-cbc       aes-128-ecb       aes-192-cbc       aes-192-ecb       
aes-256-cbc       aes-256-ecb       base64            bf                
bf-cbc            bf-cfb            bf-ecb            bf-ofb            
camellia-128-cbc  camellia-128-ecb  camellia-192-cbc  camellia-192-ecb  
camellia-256-cbc  camellia-256-ecb  cast              cast-cbc          
cast5-cbc         cast5-cfb         cast5-ecb         cast5-ofb         
des               des-cbc           des-cfb           des-ecb           
des-ede           des-ede-cbc       des-ede-cfb       des-ede-ofb       
des-ede3          des-ede3-cbc      des-ede3-cfb      des-ede3-ofb      
des-ofb           des3              desx              idea              
idea-cbc          idea-cfb          idea-ecb          idea-ofb          
rc2               rc2-40-cbc        rc2-64-cbc        rc2-cbc           
rc2-cfb           rc2-ecb           rc2-ofb           rc4               
rc4-40            seed              seed-cbc          seed-cfb          
seed-ecb          seed-ofb          zlib              


t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:38$  /usr/bin/ruby -ropenssl -e "puts OpenSSL::SSL::SSLContext::METHODS.include?(:SSLv2)"
  
true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:38$  mktemp -dt cve-2013-1654_sslv2_downgrade_master.rb.XXXXXX  
/tmp/cve-2013-1654_sslv2_downgrade_master.rb.6VaJu1

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:38$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:38$  cp /etc/puppet/puppet.conf /tmp/cve-2013-1654_sslv2_downgrade_master.rb.6VaJu1/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:38$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-31100n centos6-64-1:/tmp/cve-2013-1654_sslv2_downgrade_master.rb.6VaJu1/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:38$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.53 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:41:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostcert
/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.68 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostprivkey
/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.56 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint localcacert
/var/lib/puppet/ssl/certs/ca.pem

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.57 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:42$  openssl s_client -connect n6vo88vhlunm0j0:8140 -cert "/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem" -key "/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem" -CAfile "/var/lib/puppet/ssl/certs/ca.pem" -ssl2 -msg < /dev/null  
CONNECTED(00000003)
>>> SSL 2.0 [length 002e], CLIENT-HELLO
    01 00 02 00 15 00 00 00 10 07 00 c0 05 00 80 03
    00 80 01 00 80 06 00 40 04 00 80 02 00 80 f0 07
    74 fa 5e 08 92 fd 33 99 13 6a d8 7e a4 76
write:errno=104
---
no peer certificate available
---
No client certificate CA names sent
---
SSL handshake has read 0 bytes and written 48 bytes
---
New, (NONE), Cipher is (NONE)
Secure Renegotiation IS NOT supported
Compression: NONE
Expansion: NONE
SSL-Session:
    Protocol  : SSLv2
    Cipher    : 0000
    Session-ID: 
    Session-ID-ctx: 
    Master-Key: 
    Key-Arg   : None
    Krb5 Principal: None
    PSK identity: None
    PSK identity hint: None
    Start Time: 1403124102
    Timeout   : 300 (sec)
    Verify return code: 0 (ok)
---

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:41:42$  if [ -f '/tmp/cve-2013-1654_sslv2_downgrade_master.rb.6VaJu1/puppet.conf.bak' ]; then cat '/tmp/cve-2013-1654_sslv2_downgrade_master.rb.6VaJu1/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cve-2013-1654_sslv2_downgrade_master.rb.6VaJu1/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:42$  cat `puppet master --configprint pidfile`  
25811
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.53 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:42$  kill 25811  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:42$  kill -0 25811  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:43$  kill -0 25811  
bash: line 0: kill: (25811) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1
]]></system-out><system-err><![CDATA[write:errno=104
]]></system-err></testcase><testcase classname="tests/security" name="cve-2013-2275_report_acl.rb" time="5.307170"><system-out><![CDATA[
(#19531) report save access control

  * Verify puppet only allows saving reports from the node matching the certificate

n6vo88vhlunm0j0 (centos6-64-1) 13:41:43$  mktemp -dt cve-2013-2275_report_acl.rb.XXXXXX  
/tmp/cve-2013-2275_report_acl.rb.OK7phg

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:43$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:43$  cp /etc/puppet/puppet.conf /tmp/cve-2013-2275_report_acl.rb.OK7phg/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:43$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-9musc3 centos6-64-1:/tmp/cve-2013-2275_report_acl.rb.OK7phg/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:44$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.31 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:41:45$  curl -k -X PUT --cacert "$(puppet master --configprint cacert)" --cert "$(puppet master --configprint hostcert)" --key "$(puppet master --configprint hostprivkey)" -H 'Content-Type: text/yaml' -d '--- !ruby/object:Puppet::Transaction::Report
  host: mccune
  metrics: {}
  logs: []
  kind: inspect
  puppet_version: "2.7.20"
  status: failed
  report_format: 3
' "https://n6vo88vhlunm0j0:8140/production/report/mccune"  
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0   164      0   1798 --:--:-- --:--:-- --:--:--  1798Forbidden request: n6vo88vhlunm0j0.delivery.puppetlabs.net(10.18.82.75) access to /report/mccune [save] authenticated  at :79289   125  125   125    0   164    945   1240 --:--:-- --:--:-- --:--:--     0

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.01 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:47$  if [ -f '/tmp/cve-2013-2275_report_acl.rb.OK7phg/puppet.conf.bak' ]; then cat '/tmp/cve-2013-2275_report_acl.rb.OK7phg/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cve-2013-2275_report_acl.rb.OK7phg/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:47$  cat `puppet master --configprint pidfile`  
25896
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:48$  kill 25896  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:48$  kill -0 25896  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:49$  kill -0 25896  
bash: line 0: kill: (25896) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
Exited: 1
]]></system-out><system-err><![CDATA[  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0   164      0   1798 --:--:-- --:--:-- --:--:--  1798
289   125  125   125    0   164    945   1240 --:--:-- --:--:-- --:--:--     0
]]></system-err></testcase><testcase classname="tests/security" name="cve-2013-3567_yaml_deserialization_again.rb" time="6.187717"><system-out><![CDATA[
CVE-2013-3567 Arbitrary YAML Deserialization

n6vo88vhlunm0j0 (centos6-64-1) 13:41:49$  mktemp -dt yaml_deserialization.XXXXXX  
/tmp/yaml_deserialization.DExo7v

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:49$  mktemp -dt cve-2013-3567_yaml_deserialization_again.rb.XXXXXX  
/tmp/cve-2013-3567_yaml_deserialization_again.rb.evUdZo

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:49$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:49$  cp /etc/puppet/puppet.conf /tmp/cve-2013-3567_yaml_deserialization_again.rb.evUdZo/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:49$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-tfu7po centos6-64-1:/tmp/cve-2013-3567_yaml_deserialization_again.rb.evUdZo/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:49$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
reportdir = /tmp/yaml_deserialization.DExo7v
reports = store

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.67 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:41:51$  curl -k -X PUT --cacert $(puppet master --configprint cacert) --cert $(puppet master --configprint hostcert) --key $(puppet master --configprint hostprivkey) -H 'Content-Type: text/yaml' -d "--- !ruby/object:Puppet::Transaction::Report { metrics: { resources: !ruby/object:ERB { src: 'exit 0' } }, logs: [], resource_statuses: [], host: '$(puppet master --configprint certname)' }" "https://n6vo88vhlunm0j0:8140/production/report/$(puppet master --configprint certname)"  
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0   189      0   2155 --:--:-- --:--:-- --:--:--  2155["store"]  0     9    0     9    0   189     62   1314 --:--:-- --:--:-- --:--:--     0

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.89 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:54$  cat /tmp/yaml_deserialization.DExo7v/$(puppet master --configprint certname)/*  
--- !ruby/object:Puppet::Transaction::Report
  logs: []
  transaction_uuid: 
  kind: 
  configuration_version: 
  resource_statuses: {}
  status: 
  report_format: 
  metrics: 
    resources: !ruby/object:Puppet::Util::Metric
      values: 
      label: ""
      name: ""
  puppet_version: 
  environment: 
  host: n6vo88vhlunm0j0.delivery.puppetlabs.net
  time: 
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.56 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:54$  if [ -f '/tmp/cve-2013-3567_yaml_deserialization_again.rb.evUdZo/puppet.conf.bak' ]; then cat '/tmp/cve-2013-3567_yaml_deserialization_again.rb.evUdZo/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cve-2013-3567_yaml_deserialization_again.rb.evUdZo/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:54$  cat `puppet master --configprint pidfile`  
25980
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.56 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:55$  kill 25980  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:55$  kill -0 25980  
bash: line 0: kill: (25980) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:41:55$  rm -rf /tmp/yaml_deserialization.DExo7v  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/security" name="cve-2013-3567_yaml_parameter_deserialization.rb" time="7.883132"><system-out><![CDATA[
CVE-2013-3567 Arbitrary YAML Query Parameter Deserialization

n6vo88vhlunm0j0 (centos6-64-1) 13:41:55$  mktemp -dt modules.XXXXXX  
/tmp/modules.qb4LAS

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:55$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Nm2FJ1

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1mv42bg centos6-64-1:/tmp/apply_manifest.pp.Nm2FJ1 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:41:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Nm2FJ1
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403124116'
Notice: /Stage[main]/Main/File[/tmp/modules.qb4LAS]/owner: owner changed 'root' to 'puppet'
Notice: /Stage[main]/Main/File[/tmp/modules.qb4LAS/testing]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/modules.qb4LAS/testing/files]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/modules.qb4LAS/testing/files/tested]/ensure: defined content as '{md5}098f6bcd4621d373cade4e832627b4f6'
Notice: Finished catalog run in 0.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.47 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:57$  mktemp -dt cve-2013-3567_yaml_parameter_deserialization.rb.XXXXXX  
/tmp/cve-2013-3567_yaml_parameter_deserialization.rb.QHyYd0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:57$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:58$  cp /etc/puppet/puppet.conf /tmp/cve-2013-3567_yaml_parameter_deserialization.rb.QHyYd0/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:58$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1pzqhpt centos6-64-1:/tmp/cve-2013-3567_yaml_parameter_deserialization.rb.QHyYd0/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:58$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
modulepath = /tmp/modules.qb4LAS

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:41:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.50 seconds
Waiting for the puppet master to start
The puppet master has started

  * Expect the master to reject the request

n6vo88vhlunm0j0 (centos6-64-1) 13:41:59$  curl -f -s -S -k -X GET --cacert $(puppet master --configprint cacert) --cert $(puppet master --configprint hostcert) --key $(puppet master --configprint hostprivkey) -H 'Accept: yaml' "https://n6vo88vhlunm0j0:8140/production/file_metadata/modules/testing/tested?links=---%20!ruby/object:Puppet::Node::Environment%20%7B%20name:%20'manage'%20%7D"  
curl: (22) The requested URL returned error: 400 Bad Request 

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.63 seconds
Exited: 22

n6vo88vhlunm0j0 (centos6-64-1) 13:42:02$  if [ -f '/tmp/cve-2013-3567_yaml_parameter_deserialization.rb.QHyYd0/puppet.conf.bak' ]; then cat '/tmp/cve-2013-3567_yaml_parameter_deserialization.rb.QHyYd0/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cve-2013-3567_yaml_parameter_deserialization.rb.QHyYd0/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:02$  cat `puppet master --configprint pidfile`  
26206
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.66 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:03$  kill 26206  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:03$  kill -0 26206  
bash: line 0: kill: (26206) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1
]]></system-out><system-err><![CDATA[curl: (22) The requested URL returned error: 400 Bad Request 
]]></system-err></testcase><testcase classname="tests/security" name="cve-2013-4761_injection_of_class_names_loading_code.rb" time="16.116136"><system-out><![CDATA[
n6vo88vhlunm0j0 (centos6-64-1) 13:42:03$  mktemp -dt cve-2013-4761_injection_of_class_names_loading_code.XXXXXX  
/tmp/cve-2013-4761_injection_of_class_names_loading_code.IhGEHe

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:03$  chmod 755 /tmp/cve-2013-4761_injection_of_class_names_loading_code.IhGEHe  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:03$  mktemp -dt cve-2013-4761_injection_of_class_names_loading_code.XXXXXX  
/tmp/cve-2013-4761_injection_of_class_names_loading_code.0vBcp3

t21rjumdkqr2x5d (centos6-64-2) executed in 0.34 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:03$  chmod 755 /tmp/cve-2013-4761_injection_of_class_names_loading_code.0vBcp3  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.09 seconds

CVE 2013-4761 Injection of bad class names causing code loading

  * Create exploit file
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-14fh9tl centos6-64-1:/tmp/exploit.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:42:03$  chmod 777 /tmp/exploit.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Class name is not interpreted as an absolute path
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-951q1o centos6-64-1:/tmp/cve-2013-4761_injection_of_class_names_loading_code.IhGEHe/site.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:42:04$  chown root:puppet /tmp/cve-2013-4761_injection_of_class_names_loading_code.IhGEHe/site.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:04$  chmod 755 /tmp/cve-2013-4761_injection_of_class_names_loading_code.IhGEHe/site.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:04$  mktemp -dt cve-2013-4761_injection_of_class_names_loading_code.rb.XXXXXX  
/tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.YpdXFd

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:04$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:04$  cp /etc/puppet/puppet.conf /tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.YpdXFd/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:04$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10zy55a centos6-64-1:/tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.YpdXFd/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:04$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
autosign = true
manifest = /tmp/cve-2013-4761_injection_of_class_names_loading_code.IhGEHe/site.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.44 seconds
Waiting for the puppet master to start
The puppet master has started

  * Ensure that the exploit marker is gone

n6vo88vhlunm0j0 (centos6-64-1) 13:42:05$  rm -f /tmp/exploit.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * Request a catalog to trigger the exploit

t21rjumdkqr2x5d (centos6-64-2) 13:42:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Error: Could not retrieve catalog from remote server: Error 400 on SERVER: Could not find class tmp::exploit for t21rjumdkqr2x5d.delivery.puppetlabs.net on node t21rjumdkqr2x5d.delivery.puppetlabs.net
Warning: Not using cache on failed catalog
Error: Could not retrieve catalog; skipping run

t21rjumdkqr2x5d (centos6-64-2) executed in 4.18 seconds
Exited: 1

  * Check that the exploit marker was not created

n6vo88vhlunm0j0 (centos6-64-1) 13:42:10$  test ! -e /tmp/exploit.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:10$  if [ -f '/tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.YpdXFd/puppet.conf.bak' ]; then cat '/tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.YpdXFd/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.YpdXFd/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:10$  cat `puppet master --configprint pidfile`  
26305
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.88 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:11$  kill 26305  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:11$  kill -0 26305  
bash: line 0: kill: (26305) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1

  * Class name cannot be used for a directory traversal out of the module path
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1vu7a4b centos6-64-1:/tmp/cve-2013-4761_injection_of_class_names_loading_code.IhGEHe/site_traversal.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:42:11$  chown root:puppet /tmp/cve-2013-4761_injection_of_class_names_loading_code.IhGEHe/site_traversal.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:11$  chmod 755 /tmp/cve-2013-4761_injection_of_class_names_loading_code.IhGEHe/site_traversal.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:11$  mktemp -dt cve-2013-4761_injection_of_class_names_loading_code.rb.XXXXXX  
/tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.G7OWMR

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:11$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:11$  cp /etc/puppet/puppet.conf /tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.G7OWMR/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:11$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-qf93oz centos6-64-1:/tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.G7OWMR/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:11$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
autosign = true
manifest = /tmp/cve-2013-4761_injection_of_class_names_loading_code.IhGEHe/site_traversal.pp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.02 seconds
Waiting for the puppet master to start
The puppet master has started

  * Ensure that the exploit marker is gone

n6vo88vhlunm0j0 (centos6-64-1) 13:42:13$  rm -f /tmp/exploit.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Request a catalog to trigger the exploit

t21rjumdkqr2x5d (centos6-64-2) 13:42:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Error: Could not retrieve catalog from remote server: Error 400 on SERVER: Could not find class ::..::..::..::..::..::..::..::..::..::..::..::..::..::..::..::..::..::..::..::..::tmp::exploit.rb for t21rjumdkqr2x5d.delivery.puppetlabs.net on node t21rjumdkqr2x5d.delivery.puppetlabs.net
Warning: Not using cache on failed catalog
Error: Could not retrieve catalog; skipping run

t21rjumdkqr2x5d (centos6-64-2) executed in 3.73 seconds
Exited: 1

  * Check that the exploit marker was not created

n6vo88vhlunm0j0 (centos6-64-1) 13:42:17$  test ! -e /tmp/exploit.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:17$  if [ -f '/tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.G7OWMR/puppet.conf.bak' ]; then cat '/tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.G7OWMR/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cve-2013-4761_injection_of_class_names_loading_code.rb.G7OWMR/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:17$  cat `puppet master --configprint pidfile`  
26377
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:18$  kill 26377  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:18$  kill -0 26377  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:19$  kill -0 26377  
bash: line 0: kill: (26377) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:42:19$  rm -rf /tmp/cve-2013-4761_injection_of_class_names_loading_code.IhGEHe  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:19$  rm -rf /tmp/cve-2013-4761_injection_of_class_names_loading_code.0vBcp3  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/security" name="cve-2013-4761_resource_type.rb" time="12.054906"><system-out><![CDATA[
n6vo88vhlunm0j0 (centos6-64-1) 13:42:19$  mktemp -dt cve-2013-4761_resource_type.XXXXXX  
/tmp/cve-2013-4761_resource_type.1nNbN2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:19$  chmod 755 /tmp/cve-2013-4761_resource_type.1nNbN2  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:19$  mktemp -dt cve-2013-4761_resource_type.XXXXXX  
/tmp/cve-2013-4761_resource_type.DDaUmM

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:19$  chmod 755 /tmp/cve-2013-4761_resource_type.DDaUmM  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.08 seconds

CVE 2013-4761 Remote code execution via REST resource_type
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1v5mhjr centos6-64-1:/tmp/cve-2013-4761_resource_type.1nNbN2/auth.conf {}

n6vo88vhlunm0j0 (centos6-64-1) 13:42:19$  chown root:puppet /tmp/cve-2013-4761_resource_type.1nNbN2/auth.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:19$  chmod 755 /tmp/cve-2013-4761_resource_type.1nNbN2/auth.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-a7zc0x centos6-64-1:/tmp/exploit.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:42:19$  chmod 777 /tmp/exploit.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:19$  mktemp -dt cve-2013-4761_resource_type.rb.XXXXXX  
/tmp/cve-2013-4761_resource_type.rb.kdk1zP

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:19$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:19$  cp /etc/puppet/puppet.conf /tmp/cve-2013-4761_resource_type.rb.kdk1zP/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:19$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1tjzmj centos6-64-1:/tmp/cve-2013-4761_resource_type.rb.kdk1zP/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:20$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
autosign = true
rest_authconfig = /tmp/cve-2013-4761_resource_type.1nNbN2/auth.conf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.62 seconds
Waiting for the puppet master to start
The puppet master has started

n6vo88vhlunm0j0 (centos6-64-1) 13:42:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403124144'
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.58 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  -t --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403124144'
Notice: Finished catalog run in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.79 seconds

  * Ensure that the exploit marker is gone

n6vo88vhlunm0j0 (centos6-64-1) 13:42:28$  rm -f /tmp/exploited  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * Request a type that maps to the exploit file

t21rjumdkqr2x5d (centos6-64-2) 13:42:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostcert
/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.58 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint hostprivkey
/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem

t21rjumdkqr2x5d (centos6-64-2) executed in 0.57 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:29$  curl -g --cert "/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem" --key "/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem" -k -H 'Accept: pson' 'https://n6vo88vhlunm0j0:8140/production/resource_type/::..::..::..::..::..::tmp::exploit'  
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0    74    0Not Found: Could not find resource_type ::..::..::..::..::..::tmp::exploit    74    0     0    453      0 --:--:-- --:--:-- --:--:--  1510

t21rjumdkqr2x5d (centos6-64-2) executed in 0.19 seconds

  * Check that the exploit marker was not created

n6vo88vhlunm0j0 (centos6-64-1) 13:42:29$  test ! -e /tmp/exploited  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:29$  if [ -f '/tmp/cve-2013-4761_resource_type.rb.kdk1zP/puppet.conf.bak' ]; then cat '/tmp/cve-2013-4761_resource_type.rb.kdk1zP/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/cve-2013-4761_resource_type.rb.kdk1zP/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:29$  cat `puppet master --configprint pidfile`  
26467
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:30$  kill 26467  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:30$  kill -0 26467  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:31$  kill -0 26467  
bash: line 0: kill: (26467) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:42:31$  rm -rf /tmp/cve-2013-4761_resource_type.1nNbN2  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:31$  rm -rf /tmp/cve-2013-4761_resource_type.DDaUmM  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/ssl" name="autosign_command.rb" time="63.887637"><system-out><![CDATA[
autosign command and csr attributes behavior (#7243,#7244)

  * generate tmp dirs on all hosts

n6vo88vhlunm0j0 (centos6-64-1) 13:42:31$  mktemp -dt autosign_command.XXXXXX  
/tmp/autosign_command.Kgckz0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:31$  mktemp -dt autosign_command.XXXXXX  
/tmp/autosign_command.qD82Wv

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:31$  facter hostname  
n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:31$  facter fqdn  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.19 seconds

  * All: Clear agent only ssl settings (do not clear master)

t21rjumdkqr2x5d (centos6-64-2) 13:42:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.62 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:32$ rm -rf '/var/lib/puppet/ssl'

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:32$  facter hostname  
n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:32$  facter fqdn  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.18 seconds

  * Clear old agent certificates from master

n6vo88vhlunm0j0 (centos6-64-1) 13:42:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.84 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean n6vo88vhlunm0j0.delivery.puppetlabs.net
Notice: Revoked certificate with serial 2
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Key n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.87 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.63 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean t21rjumdkqr2x5d.delivery.puppetlabs.net
Notice: Revoked certificate with serial 3
Notice: Removing file Puppet::SSL::Certificate t21rjumdkqr2x5d.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate t21rjumdkqr2x5d.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.33 seconds

  * Step 1: ensure autosign command can approve CSRs

n6vo88vhlunm0j0 (centos6-64-1) 13:42:37$  mktemp -dt autosign_command.rb.XXXXXX  
/tmp/autosign_command.rb.xRHHey

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:37$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:37$  cp /etc/puppet/puppet.conf /tmp/autosign_command.rb.xRHHey/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:37$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1owuegr centos6-64-1:/tmp/autosign_command.rb.xRHHey/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:37$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
autosign = /bin/true
dns_alt_names = puppet,n6vo88vhlunm0j0,n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.56 seconds
Waiting for the puppet master to start
The puppet master has started

t21rjumdkqr2x5d (centos6-64-2) 13:42:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --test --server n6vo88vhlunm0j0 --waitforcert 0 --certname t21rjumdkqr2x5d-autosign  
Info: Creating a new SSL key for t21rjumdkqr2x5d-autosign
Info: Caching certificate for ca
Info: csr_attributes file loading from /etc/puppet/csr_attributes.yaml
Info: Creating a new SSL certificate request for t21rjumdkqr2x5d-autosign
Info: Certificate Request fingerprint (SHA256): F3:EE:8A:36:31:D4:A1:9B:03:71:CF:C8:6A:75:FD:37:34:8C:99:77:76:47:99:4A:2E:2D:16:A0:CC:D7:AF:9E
Info: Caching certificate for t21rjumdkqr2x5d-autosign
Info: Caching certificate_revocation_list for ca
Info: Caching certificate for ca
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d-autosign
Info: Applying configuration version '1403124168'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 7.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:48$  if [ -f '/tmp/autosign_command.rb.xRHHey/puppet.conf.bak' ]; then cat '/tmp/autosign_command.rb.xRHHey/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/autosign_command.rb.xRHHey/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:48$  cat `puppet master --configprint pidfile`  
26713
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.86 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:49$  kill 26713  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:49$  kill -0 26713  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:50$  kill -0 26713  
bash: line 0: kill: (26713) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1

  * All: Clear agent only ssl settings (do not clear master)

t21rjumdkqr2x5d (centos6-64-2) 13:42:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.59 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:51$ rm -rf '/var/lib/puppet/ssl'

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:51$  facter hostname  
n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:51$  facter fqdn  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.14 seconds

  * Clear old agent certificates from master

n6vo88vhlunm0j0 (centos6-64-1) 13:42:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.80 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean n6vo88vhlunm0j0.delivery.puppetlabs.net
Notice: Revoked certificate with serial 5
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Key n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.39 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:42:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.58 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean t21rjumdkqr2x5d.delivery.puppetlabs.net
Notice: Revoked certificate with serial 3

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.27 seconds

  * Step 2: ensure autosign command can reject CSRs

n6vo88vhlunm0j0 (centos6-64-1) 13:42:55$  mktemp -dt autosign_command.rb.XXXXXX  
/tmp/autosign_command.rb.BM9SpL

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:55$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:55$  cp /etc/puppet/puppet.conf /tmp/autosign_command.rb.BM9SpL/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:55$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1voiee centos6-64-1:/tmp/autosign_command.rb.BM9SpL/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:55$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
autosign = /bin/false
dns_alt_names = puppet,n6vo88vhlunm0j0,n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:42:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.04 seconds
Waiting for the puppet master to start
The puppet master has started

t21rjumdkqr2x5d (centos6-64-2) 13:42:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --test --server n6vo88vhlunm0j0 --waitforcert 0 --certname t21rjumdkqr2x5d-reject  
Info: Creating a new SSL key for t21rjumdkqr2x5d-reject
Info: Caching certificate for ca
Info: csr_attributes file loading from /etc/puppet/csr_attributes.yaml
Info: Creating a new SSL certificate request for t21rjumdkqr2x5d-reject
Info: Certificate Request fingerprint (SHA256): DF:6F:E1:1E:C6:1B:B8:E8:61:A7:E0:AF:6C:80:FF:A4:85:21:2F:BA:C8:E2:35:45:F5:13:25:8D:85:4B:83:9C
Info: Caching certificate for ca
Exiting; no certificate found and waitforcert is disabled

t21rjumdkqr2x5d (centos6-64-2) executed in 2.60 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:43:01$  if [ -f '/tmp/autosign_command.rb.BM9SpL/puppet.conf.bak' ]; then cat '/tmp/autosign_command.rb.BM9SpL/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/autosign_command.rb.BM9SpL/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:01$  cat `puppet master --configprint pidfile`  
26814
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.57 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:02$  kill 26814  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:02$  kill -0 26814  
bash: line 0: kill: (26814) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.14 seconds
Exited: 1

  * Step 3: setup an autosign command that inspects CSR attributes
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-17italn centos6-64-1:/tmp/autosign_command.Kgckz0/autosign_inspect_csr.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:43:02$  chmod 777 /tmp/autosign_command.Kgckz0  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:02$  chmod 777 /tmp/autosign_command.Kgckz0/autosign_inspect_csr.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

  * Step 4: create attributes for inclusion on csr on agents
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-bdrnom centos6-64-1:/tmp/autosign_command.Kgckz0/csr_attributes.yaml {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1r8bywi centos6-64-2:/tmp/autosign_command.qD82Wv/csr_attributes.yaml {}

  * All: Clear agent only ssl settings (do not clear master)

t21rjumdkqr2x5d (centos6-64-2) 13:43:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

t21rjumdkqr2x5d (centos6-64-2) executed in 1.50 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:43:04$ rm -rf '/var/lib/puppet/ssl'

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:04$  facter hostname  
n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:04$  facter fqdn  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

  * Clear old agent certificates from master

n6vo88vhlunm0j0 (centos6-64-1) 13:43:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean n6vo88vhlunm0j0.delivery.puppetlabs.net
Notice: Revoked certificate with serial 7
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Key n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.29 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:43:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 1.01 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean t21rjumdkqr2x5d.delivery.puppetlabs.net
Notice: Revoked certificate with serial 3

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.22 seconds

  * Step 5: successfully obtain a cert

n6vo88vhlunm0j0 (centos6-64-1) 13:43:09$  mktemp -dt autosign_command.rb.XXXXXX  
/tmp/autosign_command.rb.V9Dq3F

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:09$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:09$  cp /etc/puppet/puppet.conf /tmp/autosign_command.rb.V9Dq3F/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:09$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xb0zzp centos6-64-1:/tmp/autosign_command.rb.V9Dq3F/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:09$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
autosign = /tmp/autosign_command.Kgckz0/autosign_inspect_csr.rb
dns_alt_names = puppet,n6vo88vhlunm0j0,n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  --debug --trace

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.87 seconds
Waiting for the puppet master to start
The puppet master has started

  * attempting to obtain cert for t21rjumdkqr2x5d

t21rjumdkqr2x5d (centos6-64-2) 13:43:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --test --server n6vo88vhlunm0j0 --waitforcert 0 --csr_attributes '/tmp/autosign_command.qD82Wv/csr_attributes.yaml' --certname t21rjumdkqr2x5d-attrs  
Info: Creating a new SSL key for t21rjumdkqr2x5d-attrs
Info: Caching certificate for ca
Info: csr_attributes file loading from /tmp/autosign_command.qD82Wv/csr_attributes.yaml
Info: Creating a new SSL certificate request for t21rjumdkqr2x5d-attrs
Info: Certificate Request fingerprint (SHA256): 2B:A0:76:CA:05:86:83:A1:2E:16:ED:EE:06:89:F6:A7:9C:47:CA:C1:31:DC:B6:A9:59:A3:87:58:D5:78:D1:8C
Info: Caching certificate for t21rjumdkqr2x5d-attrs
Info: Caching certificate_revocation_list for ca
Info: Caching certificate for ca
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d-attrs
Info: Applying configuration version '1403124197'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.77 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:17$  if [ -f '/tmp/autosign_command.rb.V9Dq3F/puppet.conf.bak' ]; then cat '/tmp/autosign_command.rb.V9Dq3F/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/autosign_command.rb.V9Dq3F/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:17$  cat `puppet master --configprint pidfile`  
26921
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:17$  kill 26921  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:17$  kill -0 26921  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:18$  kill -0 26921  
bash: line 0: kill: (26921) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

  * Remove autosign configuration

n6vo88vhlunm0j0 (centos6-64-1) 13:43:19$ rm -rf '/tmp/autosign_command.Kgckz0'

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:43:19$ rm -rf '/tmp/autosign_command.qD82Wv'

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * All: Clear agent only ssl settings (do not clear master)

t21rjumdkqr2x5d (centos6-64-2) 13:43:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.66 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:43:19$ rm -rf '/var/lib/puppet/ssl'

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:19$  facter hostname  
n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:19$  facter fqdn  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds

  * Clear old agent certificates from master

n6vo88vhlunm0j0 (centos6-64-1) 13:43:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean n6vo88vhlunm0j0.delivery.puppetlabs.net
Notice: Revoked certificate with serial 8
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Key n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.49 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:43:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.56 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean t21rjumdkqr2x5d.delivery.puppetlabs.net
Notice: Revoked certificate with serial 3

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.30 seconds

  * Master: Ensure the master is listening and autosigning

n6vo88vhlunm0j0 (centos6-64-1) 13:43:24$  mktemp -dt autosign_command.rb.XXXXXX  
/tmp/autosign_command.rb.MwLG9y

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:24$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:24$  cp /etc/puppet/puppet.conf /tmp/autosign_command.rb.MwLG9y/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:24$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-44pnbq centos6-64-1:/tmp/autosign_command.rb.MwLG9y/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:24$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
dns_alt_names = puppet,n6vo88vhlunm0j0,n6vo88vhlunm0j0.delivery.puppetlabs.net
autosign = true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.07 seconds
Waiting for the puppet master to start
The puppet master has started

  * Agents: Run agent --test once to obtain auto-signed cert

n6vo88vhlunm0j0 (centos6-64-1) 13:43:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403124209'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.97 seconds

  * Agents: Run agent --test once to obtain auto-signed cert

t21rjumdkqr2x5d (centos6-64-2) 13:43:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Creating a new SSL key for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Caching certificate for ca
Info: csr_attributes file loading from /etc/puppet/csr_attributes.yaml
Info: Creating a new SSL certificate request for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Certificate Request fingerprint (SHA256): B6:F5:A4:1E:C2:1F:36:D5:8C:06:73:06:AE:D8:91:E0:04:40:9D:79:32:F1:AB:F4:5E:85:56:FD:FE:C0:13:87
Info: Caching certificate for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Caching certificate_revocation_list for ca
Info: Caching certificate for ca
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403124209'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 4.21 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:33$  if [ -f '/tmp/autosign_command.rb.MwLG9y/puppet.conf.bak' ]; then cat '/tmp/autosign_command.rb.MwLG9y/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/autosign_command.rb.MwLG9y/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:33$  cat `puppet master --configprint pidfile`  
27024
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.57 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:34$  kill 27024  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:34$  kill -0 27024  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:35$  kill -0 27024  
bash: line 0: kill: (27024) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/ssl" name="certificate_extensions.rb" time="41.314350"><system-out><![CDATA[
n6vo88vhlunm0j0 (centos6-64-1) 13:43:35$  mktemp -dt certificate_extensions.XXXXXX  
/tmp/certificate_extensions.t2EScr

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:35$  chmod 755 /tmp/certificate_extensions.t2EScr  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:43:35$  mktemp -dt certificate_extensions.XXXXXX  
/tmp/certificate_extensions.Q7nnDO

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:43:35$  chmod 755 /tmp/certificate_extensions.Q7nnDO  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

certificate extensions available as trusted data

n6vo88vhlunm0j0 (centos6-64-1) 13:43:35$  facter hostname  
n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.26 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:35$  facter fqdn  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.18 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-n6nn6r centos6-64-1:/tmp/certificate_extensions.t2EScr/site.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:43:35$  chown root:puppet /tmp/certificate_extensions.t2EScr/site.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:35$  chmod 755 /tmp/certificate_extensions.t2EScr/site.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * All: Clear agent only ssl settings (do not clear master)

t21rjumdkqr2x5d (centos6-64-2) 13:43:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.67 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:43:36$ rm -rf '/var/lib/puppet/ssl'

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:36$  facter hostname  
n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.14 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:36$  facter fqdn  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.18 seconds

  * Clear old agent certificates from master

n6vo88vhlunm0j0 (centos6-64-1) 13:43:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean n6vo88vhlunm0j0.delivery.puppetlabs.net
Notice: Revoked certificate with serial 10
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Key n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.27 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:43:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.69 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean t21rjumdkqr2x5d.delivery.puppetlabs.net
Notice: Revoked certificate with serial 11
Notice: Removing file Puppet::SSL::Certificate t21rjumdkqr2x5d.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate t21rjumdkqr2x5d.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:40$  mktemp -dt certificate_extensions.rb.XXXXXX  
/tmp/certificate_extensions.rb.qa6Qfa

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:40$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:40$  cp /etc/puppet/puppet.conf /tmp/certificate_extensions.rb.qa6Qfa/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:40$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-bevyoh centos6-64-1:/tmp/certificate_extensions.rb.qa6Qfa/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:41$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
autosign = /bin/true
dns_alt_names = puppet,n6vo88vhlunm0j0,n6vo88vhlunm0j0.delivery.puppetlabs.net
manifest = /tmp/certificate_extensions.t2EScr/site.pp
trusted_node_data = true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.45 seconds
Waiting for the puppet master to start
The puppet master has started
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1rghlzc centos6-64-2:/tmp/certificate_extensions.Q7nnDO/csr_attributes.yaml {}

t21rjumdkqr2x5d (centos6-64-2) 13:43:43$ env FACTER_test_dir="/tmp/certificate_extensions.Q7nnDO/" PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0 --waitforcert 0 --csr_attributes /tmp/certificate_extensions.Q7nnDO/csr_attributes.yaml --certname t21rjumdkqr2x5d-extensions
Info: Creating a new SSL key for t21rjumdkqr2x5d-extensions
Info: Caching certificate for ca
Info: csr_attributes file loading from /tmp/certificate_extensions.Q7nnDO/csr_attributes.yaml
Info: Creating a new SSL certificate request for t21rjumdkqr2x5d-extensions
Info: Certificate Request fingerprint (SHA256): C2:AD:43:EA:B5:C0:2D:F0:F6:09:C2:F8:44:C2:AA:DE:49:AD:6D:BB:A8:85:9C:63:3B:6A:95:66:E5:A9:58:26
Info: Caching certificate for t21rjumdkqr2x5d-extensions
Info: Caching certificate_revocation_list for ca
Info: Caching certificate for ca
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d-extensions
Info: Applying configuration version '1403124228'
Notice: /Stage[main]/Main/File[/tmp/certificate_extensions.Q7nnDO//trusted.yaml]/ensure: defined content as '{md5}db92e303c4cbbec47d1f0aa58e4823e4'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 5.42 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:43:49$  cat /tmp/certificate_extensions.Q7nnDO/trusted.yaml  
--- 
  authenticated: remote
  extensions: 
    pp_uuid: b5e63090-5167-11e3-8f96-0800200c9a66
    "1.3.6.1.4.1.34380.1.2.1": db-server
    "1.3.6.1.4.1.34380.1.2.2": webops
    pp_instance_id: i-3fkva
  certname: t21rjumdkqr2x5d-extensions
t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:49$  if [ -f '/tmp/certificate_extensions.rb.qa6Qfa/puppet.conf.bak' ]; then cat '/tmp/certificate_extensions.rb.qa6Qfa/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/certificate_extensions.rb.qa6Qfa/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:49$  cat `puppet master --configprint pidfile`  
27273
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.58 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:49$  kill 27273  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:49$  kill -0 27273  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:50$  kill -0 27273  
bash: line 0: kill: (27273) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

  * All: Clear agent only ssl settings (do not clear master)

t21rjumdkqr2x5d (centos6-64-2) 13:43:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:43:51$ rm -rf '/var/lib/puppet/ssl'

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:51$  facter hostname  
n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:51$  facter fqdn  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.13 seconds

  * Clear old agent certificates from master

n6vo88vhlunm0j0 (centos6-64-1) 13:43:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.59 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean n6vo88vhlunm0j0.delivery.puppetlabs.net
Notice: Revoked certificate with serial 12
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Key n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.32 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:43:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.65 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean t21rjumdkqr2x5d.delivery.puppetlabs.net
Notice: Revoked certificate with serial 3

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.24 seconds

  * Master: Ensure the master is listening and autosigning

n6vo88vhlunm0j0 (centos6-64-1) 13:43:55$  mktemp -dt certificate_extensions.rb.XXXXXX  
/tmp/certificate_extensions.rb.TAuEIv

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:55$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:55$  cp /etc/puppet/puppet.conf /tmp/certificate_extensions.rb.TAuEIv/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:55$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-y0rp3g centos6-64-1:/tmp/certificate_extensions.rb.TAuEIv/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:55$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
dns_alt_names = puppet,n6vo88vhlunm0j0,n6vo88vhlunm0j0.delivery.puppetlabs.net
autosign = true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:43:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.73 seconds
Waiting for the puppet master to start
The puppet master has started

  * Agents: Run agent --test once to obtain auto-signed cert

n6vo88vhlunm0j0 (centos6-64-1) 13:43:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403124246'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 7.04 seconds

  * Agents: Run agent --test once to obtain auto-signed cert

t21rjumdkqr2x5d (centos6-64-2) 13:44:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Creating a new SSL key for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Caching certificate for ca
Info: csr_attributes file loading from /etc/puppet/csr_attributes.yaml
Info: Creating a new SSL certificate request for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Certificate Request fingerprint (SHA256): DE:11:6B:8B:A6:45:48:DB:2C:2C:AB:D0:CA:C0:3A:10:6F:38:01:8A:30:55:07:3A:C3:5B:A7:DD:D9:3E:01:03
Info: Caching certificate for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Caching certificate_revocation_list for ca
Info: Caching certificate for ca
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403124246'
Notice: Finished catalog run in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 8.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:14$  if [ -f '/tmp/certificate_extensions.rb.TAuEIv/puppet.conf.bak' ]; then cat '/tmp/certificate_extensions.rb.TAuEIv/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/certificate_extensions.rb.TAuEIv/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:14$  cat `puppet master --configprint pidfile`  
27373
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.62 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:15$  kill 27373  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:15$  kill -0 27373  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:16$  kill -0 27373  
bash: line 0: kill: (27373) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/ssl" name="puppet_cert_generate_and_autosign.rb" time="79.105186"><system-out><![CDATA[
Puppet cert generate behavior (#6112)

  * Case 1 and 2: Tests behavior of `puppet cert generate` on a master node, and on an agent node that has already authenticated to the master.  Tests with combinations of autosign and dns_alt_names.

  * All: Clear agent only ssl settings (do not clear master)

t21rjumdkqr2x5d (centos6-64-2) 13:44:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.58 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:44:17$ rm -rf '/var/lib/puppet/ssl'

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:17$  facter hostname  
n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:17$  facter fqdn  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.19 seconds

  * Clear old agent certificates from master

n6vo88vhlunm0j0 (centos6-64-1) 13:44:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.64 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean n6vo88vhlunm0j0.delivery.puppetlabs.net
Notice: Revoked certificate with serial 14
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Key n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.59 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:44:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.70 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean t21rjumdkqr2x5d.delivery.puppetlabs.net
Notice: Revoked certificate with serial 15
Notice: Removing file Puppet::SSL::Certificate t21rjumdkqr2x5d.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate t21rjumdkqr2x5d.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.52 seconds

  * Master: Ensure the master is listening and autosigning

n6vo88vhlunm0j0 (centos6-64-1) 13:44:22$  mktemp -dt puppet_cert_generate_and_autosign.rb.XXXXXX  
/tmp/puppet_cert_generate_and_autosign.rb.HRCUYR

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:22$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:22$  cp /etc/puppet/puppet.conf /tmp/puppet_cert_generate_and_autosign.rb.HRCUYR/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:22$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1tylua1 centos6-64-1:/tmp/puppet_cert_generate_and_autosign.rb.HRCUYR/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:22$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
dns_alt_names = puppet,n6vo88vhlunm0j0,n6vo88vhlunm0j0.delivery.puppetlabs.net
autosign = true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.76 seconds
Waiting for the puppet master to start
The puppet master has started

  * Agents: Run agent --test once to obtain auto-signed cert

n6vo88vhlunm0j0 (centos6-64-1) 13:44:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403124268'
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.26 seconds

  * Agents: Run agent --test once to obtain auto-signed cert

t21rjumdkqr2x5d (centos6-64-2) 13:44:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Creating a new SSL key for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Caching certificate for ca
Info: csr_attributes file loading from /etc/puppet/csr_attributes.yaml
Info: Creating a new SSL certificate request for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Certificate Request fingerprint (SHA256): 9E:52:31:66:F2:29:56:FA:2E:0A:7B:12:D3:C7:BF:F3:18:58:F4:A2:84:52:A9:F9:95:98:B5:01:17:3C:DD:39
Info: Caching certificate for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Caching certificate_revocation_list for ca
Info: Caching certificate for ca
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403124268'
Notice: Finished catalog run in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 4.47 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:33$  if [ -f '/tmp/puppet_cert_generate_and_autosign.rb.HRCUYR/puppet.conf.bak' ]; then cat '/tmp/puppet_cert_generate_and_autosign.rb.HRCUYR/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/puppet_cert_generate_and_autosign.rb.HRCUYR/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:33$  cat `puppet master --configprint pidfile`  
27593
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.66 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:34$  kill 27593  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:34$  kill -0 27593  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:35$  kill -0 27593  
bash: line 0: kill: (27593) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

  * puppet cert generate with autosign false

n6vo88vhlunm0j0 (centos6-64-1) 13:44:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  generate cert.test --autosign false
Notice: cert.test has a waiting certificate request
Notice: Signed certificate request for cert.test
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/ca/requests/cert.test.pem'
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/certificate_requests/cert.test.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.37 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean cert.test
Notice: Revoked certificate with serial 18
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/ca/signed/cert.test.pem'
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/certs/cert.test.pem'
Notice: Removing file Puppet::SSL::Key cert.test at '/var/lib/puppet/ssl/private_keys/cert.test.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.26 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  list --all
  "t21rjumdkqr2x5d-reject"                  (SHA256) DF:6F:E1:1E:C6:1B:B8:E8:61:A7:E0:AF:6C:80:FF:A4:85:21:2F:BA:C8:E2:35:45:F5:13:25:8D:85:4B:83:9C
+ "foobar_not_my_hostname"                  (SHA256) D6:2C:D2:A6:82:4F:C3:E7:BB:15:E4:A7:96:CD:09:63:7E:F3:2A:89:CF:4B:17:BC:CA:DC:11:72:E7:1E:2E:9D (alt names: "DNS:blue_cert", "DNS:foobar_not_my_hostname", "DNS:one_cert", "DNS:red_cert", "DNS:two_cert")
+ "n6vo88vhlunm0j0.delivery.puppetlabs.net" (SHA256) 8A:8D:FD:B1:96:EB:81:31:7C:A3:DF:01:BA:4D:AC:EB:62:37:5D:F5:66:DE:6B:DB:DE:1C:BA:E2:24:DA:F8:A5 (alt names: "DNS:n6vo88vhlunm0j0", "DNS:n6vo88vhlunm0j0.delivery.puppetlabs.net", "DNS:puppet")
+ "t21rjumdkqr2x5d-attrs"                   (SHA256) 86:F0:71:A8:9A:22:86:66:A3:5F:13:5C:7D:49:5C:36:71:54:A2:09:2E:C5:73:FD:E0:3D:EA:5E:B8:D9:8A:4C
+ "t21rjumdkqr2x5d-autosign"                (SHA256) 72:B7:C1:4F:79:F0:56:0B:FF:0D:78:6E:5E:1D:DF:1E:30:D7:AD:C4:F4:30:34:2C:CF:6B:18:18:5B:77:D7:2F
+ "t21rjumdkqr2x5d-extensions"              (SHA256) E0:CA:4B:79:4F:30:CA:1C:B7:08:84:4D:0A:60:92:FB:3A:31:0C:18:12:C6:30:68:8B:E8:3B:FE:C7:16:C9:FC
+ "t21rjumdkqr2x5d.delivery.puppetlabs.net" (SHA256) 0E:0C:32:37:07:AA:A8:ED:4C:36:F7:07:56:22:8E:82:5B:3E:AD:E3:88:42:14:09:E7:8E:FF:44:26:C1:DF:38

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.27 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:44:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  generate cert.test --autosign false
Error: The certificate retrieved from the master does not match the agent's private key.
Certificate fingerprint: 5C:59:E4:9C:70:EA:1E:0E:01:30:74:E7:65:50:28:F3:C0:9A:5D:90:77:3E:CC:D7:5C:00:A7:7C:6E:D9:65:37
To fix this, remove the certificate from both the master and the agent and then start a puppet run, which will automatically regenerate a certficate.
On the master:
  puppet cert clean t21rjumdkqr2x5d.delivery.puppetlabs.net
On the agent:
  rm -f /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
  puppet agent -t


t21rjumdkqr2x5d (centos6-64-2) executed in 2.17 seconds
Exited: 23

  * puppet cert generate with autosign true

n6vo88vhlunm0j0 (centos6-64-1) 13:44:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  generate cert.test --autosign true
Notice: cert.test has a waiting certificate request
Notice: Signed certificate request for cert.test
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/ca/requests/cert.test.pem'
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/certificate_requests/cert.test.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.64 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean cert.test
Notice: Revoked certificate with serial 19
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/ca/signed/cert.test.pem'
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/certs/cert.test.pem'
Notice: Removing file Puppet::SSL::Key cert.test at '/var/lib/puppet/ssl/private_keys/cert.test.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  list --all
  "t21rjumdkqr2x5d-reject"                  (SHA256) DF:6F:E1:1E:C6:1B:B8:E8:61:A7:E0:AF:6C:80:FF:A4:85:21:2F:BA:C8:E2:35:45:F5:13:25:8D:85:4B:83:9C
+ "foobar_not_my_hostname"                  (SHA256) D6:2C:D2:A6:82:4F:C3:E7:BB:15:E4:A7:96:CD:09:63:7E:F3:2A:89:CF:4B:17:BC:CA:DC:11:72:E7:1E:2E:9D (alt names: "DNS:blue_cert", "DNS:foobar_not_my_hostname", "DNS:one_cert", "DNS:red_cert", "DNS:two_cert")
+ "n6vo88vhlunm0j0.delivery.puppetlabs.net" (SHA256) 8A:8D:FD:B1:96:EB:81:31:7C:A3:DF:01:BA:4D:AC:EB:62:37:5D:F5:66:DE:6B:DB:DE:1C:BA:E2:24:DA:F8:A5 (alt names: "DNS:n6vo88vhlunm0j0", "DNS:n6vo88vhlunm0j0.delivery.puppetlabs.net", "DNS:puppet")
+ "t21rjumdkqr2x5d-attrs"                   (SHA256) 86:F0:71:A8:9A:22:86:66:A3:5F:13:5C:7D:49:5C:36:71:54:A2:09:2E:C5:73:FD:E0:3D:EA:5E:B8:D9:8A:4C
+ "t21rjumdkqr2x5d-autosign"                (SHA256) 72:B7:C1:4F:79:F0:56:0B:FF:0D:78:6E:5E:1D:DF:1E:30:D7:AD:C4:F4:30:34:2C:CF:6B:18:18:5B:77:D7:2F
+ "t21rjumdkqr2x5d-extensions"              (SHA256) E0:CA:4B:79:4F:30:CA:1C:B7:08:84:4D:0A:60:92:FB:3A:31:0C:18:12:C6:30:68:8B:E8:3B:FE:C7:16:C9:FC
+ "t21rjumdkqr2x5d.delivery.puppetlabs.net" (SHA256) 0E:0C:32:37:07:AA:A8:ED:4C:36:F7:07:56:22:8E:82:5B:3E:AD:E3:88:42:14:09:E7:8E:FF:44:26:C1:DF:38

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.36 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:44:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  generate cert.test --autosign true
Error: The certificate retrieved from the master does not match the agent's private key.
Certificate fingerprint: 5C:59:E4:9C:70:EA:1E:0E:01:30:74:E7:65:50:28:F3:C0:9A:5D:90:77:3E:CC:D7:5C:00:A7:7C:6E:D9:65:37
To fix this, remove the certificate from both the master and the agent and then start a puppet run, which will automatically regenerate a certficate.
On the master:
  puppet cert clean t21rjumdkqr2x5d.delivery.puppetlabs.net
On the agent:
  rm -f /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
  puppet agent -t


t21rjumdkqr2x5d (centos6-64-2) executed in 1.12 seconds
Exited: 23

  * puppet cert generate with autosign false and dns_alt_names

n6vo88vhlunm0j0 (centos6-64-1) 13:44:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  generate cert.test --autosign false --dns_alt_names foo,bar
Notice: cert.test has a waiting certificate request
Notice: Signed certificate request for cert.test
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/ca/requests/cert.test.pem'
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/certificate_requests/cert.test.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.25 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  list --all
  "t21rjumdkqr2x5d-reject"                  (SHA256) DF:6F:E1:1E:C6:1B:B8:E8:61:A7:E0:AF:6C:80:FF:A4:85:21:2F:BA:C8:E2:35:45:F5:13:25:8D:85:4B:83:9C
+ "cert.test"                               (SHA256) BD:D4:18:C2:F1:AC:18:B8:B8:2A:7C:0F:70:59:CF:DA:AE:A2:09:D1:40:C7:28:F4:2B:F2:A9:63:61:FA:72:EA (alt names: "DNS:bar", "DNS:cert.test", "DNS:foo")
+ "foobar_not_my_hostname"                  (SHA256) D6:2C:D2:A6:82:4F:C3:E7:BB:15:E4:A7:96:CD:09:63:7E:F3:2A:89:CF:4B:17:BC:CA:DC:11:72:E7:1E:2E:9D (alt names: "DNS:blue_cert", "DNS:foobar_not_my_hostname", "DNS:one_cert", "DNS:red_cert", "DNS:two_cert")
+ "n6vo88vhlunm0j0.delivery.puppetlabs.net" (SHA256) 8A:8D:FD:B1:96:EB:81:31:7C:A3:DF:01:BA:4D:AC:EB:62:37:5D:F5:66:DE:6B:DB:DE:1C:BA:E2:24:DA:F8:A5 (alt names: "DNS:n6vo88vhlunm0j0", "DNS:n6vo88vhlunm0j0.delivery.puppetlabs.net", "DNS:puppet")
+ "t21rjumdkqr2x5d-attrs"                   (SHA256) 86:F0:71:A8:9A:22:86:66:A3:5F:13:5C:7D:49:5C:36:71:54:A2:09:2E:C5:73:FD:E0:3D:EA:5E:B8:D9:8A:4C
+ "t21rjumdkqr2x5d-autosign"                (SHA256) 72:B7:C1:4F:79:F0:56:0B:FF:0D:78:6E:5E:1D:DF:1E:30:D7:AD:C4:F4:30:34:2C:CF:6B:18:18:5B:77:D7:2F
+ "t21rjumdkqr2x5d-extensions"              (SHA256) E0:CA:4B:79:4F:30:CA:1C:B7:08:84:4D:0A:60:92:FB:3A:31:0C:18:12:C6:30:68:8B:E8:3B:FE:C7:16:C9:FC
+ "t21rjumdkqr2x5d.delivery.puppetlabs.net" (SHA256) 0E:0C:32:37:07:AA:A8:ED:4C:36:F7:07:56:22:8E:82:5B:3E:AD:E3:88:42:14:09:E7:8E:FF:44:26:C1:DF:38

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.29 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean cert.test
Notice: Revoked certificate with serial 20
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/ca/signed/cert.test.pem'
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/certs/cert.test.pem'
Notice: Removing file Puppet::SSL::Key cert.test at '/var/lib/puppet/ssl/private_keys/cert.test.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.24 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  list --all
  "t21rjumdkqr2x5d-reject"                  (SHA256) DF:6F:E1:1E:C6:1B:B8:E8:61:A7:E0:AF:6C:80:FF:A4:85:21:2F:BA:C8:E2:35:45:F5:13:25:8D:85:4B:83:9C
+ "foobar_not_my_hostname"                  (SHA256) D6:2C:D2:A6:82:4F:C3:E7:BB:15:E4:A7:96:CD:09:63:7E:F3:2A:89:CF:4B:17:BC:CA:DC:11:72:E7:1E:2E:9D (alt names: "DNS:blue_cert", "DNS:foobar_not_my_hostname", "DNS:one_cert", "DNS:red_cert", "DNS:two_cert")
+ "n6vo88vhlunm0j0.delivery.puppetlabs.net" (SHA256) 8A:8D:FD:B1:96:EB:81:31:7C:A3:DF:01:BA:4D:AC:EB:62:37:5D:F5:66:DE:6B:DB:DE:1C:BA:E2:24:DA:F8:A5 (alt names: "DNS:n6vo88vhlunm0j0", "DNS:n6vo88vhlunm0j0.delivery.puppetlabs.net", "DNS:puppet")
+ "t21rjumdkqr2x5d-attrs"                   (SHA256) 86:F0:71:A8:9A:22:86:66:A3:5F:13:5C:7D:49:5C:36:71:54:A2:09:2E:C5:73:FD:E0:3D:EA:5E:B8:D9:8A:4C
+ "t21rjumdkqr2x5d-autosign"                (SHA256) 72:B7:C1:4F:79:F0:56:0B:FF:0D:78:6E:5E:1D:DF:1E:30:D7:AD:C4:F4:30:34:2C:CF:6B:18:18:5B:77:D7:2F
+ "t21rjumdkqr2x5d-extensions"              (SHA256) E0:CA:4B:79:4F:30:CA:1C:B7:08:84:4D:0A:60:92:FB:3A:31:0C:18:12:C6:30:68:8B:E8:3B:FE:C7:16:C9:FC
+ "t21rjumdkqr2x5d.delivery.puppetlabs.net" (SHA256) 0E:0C:32:37:07:AA:A8:ED:4C:36:F7:07:56:22:8E:82:5B:3E:AD:E3:88:42:14:09:E7:8E:FF:44:26:C1:DF:38

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.28 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:44:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  generate cert.test --autosign false
Error: The certificate retrieved from the master does not match the agent's private key.
Certificate fingerprint: 5C:59:E4:9C:70:EA:1E:0E:01:30:74:E7:65:50:28:F3:C0:9A:5D:90:77:3E:CC:D7:5C:00:A7:7C:6E:D9:65:37
To fix this, remove the certificate from both the master and the agent and then start a puppet run, which will automatically regenerate a certficate.
On the master:
  puppet cert clean t21rjumdkqr2x5d.delivery.puppetlabs.net
On the agent:
  rm -f /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
  puppet agent -t


t21rjumdkqr2x5d (centos6-64-2) executed in 1.23 seconds
Exited: 23

  * puppet cert generate with autosign true and dns_alt_names

n6vo88vhlunm0j0 (centos6-64-1) 13:44:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  generate cert.test --autosign false --dns_alt_names foo,bar
Notice: cert.test has a waiting certificate request
Notice: Signed certificate request for cert.test
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/ca/requests/cert.test.pem'
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/certificate_requests/cert.test.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.90 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  list --all
  "t21rjumdkqr2x5d-reject"                  (SHA256) DF:6F:E1:1E:C6:1B:B8:E8:61:A7:E0:AF:6C:80:FF:A4:85:21:2F:BA:C8:E2:35:45:F5:13:25:8D:85:4B:83:9C
+ "cert.test"                               (SHA256) 89:D1:83:B2:92:4B:C1:B1:08:9B:29:66:CB:28:0E:FF:70:90:28:6C:E6:43:57:46:F5:56:82:7B:1C:1C:3B:FA (alt names: "DNS:bar", "DNS:cert.test", "DNS:foo")
+ "foobar_not_my_hostname"                  (SHA256) D6:2C:D2:A6:82:4F:C3:E7:BB:15:E4:A7:96:CD:09:63:7E:F3:2A:89:CF:4B:17:BC:CA:DC:11:72:E7:1E:2E:9D (alt names: "DNS:blue_cert", "DNS:foobar_not_my_hostname", "DNS:one_cert", "DNS:red_cert", "DNS:two_cert")
+ "n6vo88vhlunm0j0.delivery.puppetlabs.net" (SHA256) 8A:8D:FD:B1:96:EB:81:31:7C:A3:DF:01:BA:4D:AC:EB:62:37:5D:F5:66:DE:6B:DB:DE:1C:BA:E2:24:DA:F8:A5 (alt names: "DNS:n6vo88vhlunm0j0", "DNS:n6vo88vhlunm0j0.delivery.puppetlabs.net", "DNS:puppet")
+ "t21rjumdkqr2x5d-attrs"                   (SHA256) 86:F0:71:A8:9A:22:86:66:A3:5F:13:5C:7D:49:5C:36:71:54:A2:09:2E:C5:73:FD:E0:3D:EA:5E:B8:D9:8A:4C
+ "t21rjumdkqr2x5d-autosign"                (SHA256) 72:B7:C1:4F:79:F0:56:0B:FF:0D:78:6E:5E:1D:DF:1E:30:D7:AD:C4:F4:30:34:2C:CF:6B:18:18:5B:77:D7:2F
+ "t21rjumdkqr2x5d-extensions"              (SHA256) E0:CA:4B:79:4F:30:CA:1C:B7:08:84:4D:0A:60:92:FB:3A:31:0C:18:12:C6:30:68:8B:E8:3B:FE:C7:16:C9:FC
+ "t21rjumdkqr2x5d.delivery.puppetlabs.net" (SHA256) 0E:0C:32:37:07:AA:A8:ED:4C:36:F7:07:56:22:8E:82:5B:3E:AD:E3:88:42:14:09:E7:8E:FF:44:26:C1:DF:38

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.27 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:44:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean cert.test
Notice: Revoked certificate with serial 21
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/ca/signed/cert.test.pem'
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/certs/cert.test.pem'
Notice: Removing file Puppet::SSL::Key cert.test at '/var/lib/puppet/ssl/private_keys/cert.test.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.54 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  list --all
  "t21rjumdkqr2x5d-reject"                  (SHA256) DF:6F:E1:1E:C6:1B:B8:E8:61:A7:E0:AF:6C:80:FF:A4:85:21:2F:BA:C8:E2:35:45:F5:13:25:8D:85:4B:83:9C
+ "foobar_not_my_hostname"                  (SHA256) D6:2C:D2:A6:82:4F:C3:E7:BB:15:E4:A7:96:CD:09:63:7E:F3:2A:89:CF:4B:17:BC:CA:DC:11:72:E7:1E:2E:9D (alt names: "DNS:blue_cert", "DNS:foobar_not_my_hostname", "DNS:one_cert", "DNS:red_cert", "DNS:two_cert")
+ "n6vo88vhlunm0j0.delivery.puppetlabs.net" (SHA256) 8A:8D:FD:B1:96:EB:81:31:7C:A3:DF:01:BA:4D:AC:EB:62:37:5D:F5:66:DE:6B:DB:DE:1C:BA:E2:24:DA:F8:A5 (alt names: "DNS:n6vo88vhlunm0j0", "DNS:n6vo88vhlunm0j0.delivery.puppetlabs.net", "DNS:puppet")
+ "t21rjumdkqr2x5d-attrs"                   (SHA256) 86:F0:71:A8:9A:22:86:66:A3:5F:13:5C:7D:49:5C:36:71:54:A2:09:2E:C5:73:FD:E0:3D:EA:5E:B8:D9:8A:4C
+ "t21rjumdkqr2x5d-autosign"                (SHA256) 72:B7:C1:4F:79:F0:56:0B:FF:0D:78:6E:5E:1D:DF:1E:30:D7:AD:C4:F4:30:34:2C:CF:6B:18:18:5B:77:D7:2F
+ "t21rjumdkqr2x5d-extensions"              (SHA256) E0:CA:4B:79:4F:30:CA:1C:B7:08:84:4D:0A:60:92:FB:3A:31:0C:18:12:C6:30:68:8B:E8:3B:FE:C7:16:C9:FC
+ "t21rjumdkqr2x5d.delivery.puppetlabs.net" (SHA256) 0E:0C:32:37:07:AA:A8:ED:4C:36:F7:07:56:22:8E:82:5B:3E:AD:E3:88:42:14:09:E7:8E:FF:44:26:C1:DF:38

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.57 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  generate cert.test --autosign false
Error: The certificate retrieved from the master does not match the agent's private key.
Certificate fingerprint: 5C:59:E4:9C:70:EA:1E:0E:01:30:74:E7:65:50:28:F3:C0:9A:5D:90:77:3E:CC:D7:5C:00:A7:7C:6E:D9:65:37
To fix this, remove the certificate from both the master and the agent and then start a puppet run, which will automatically regenerate a certficate.
On the master:
  puppet cert clean t21rjumdkqr2x5d.delivery.puppetlabs.net
On the agent:
  rm -f /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
  puppet agent -t


t21rjumdkqr2x5d (centos6-64-2) executed in 3.80 seconds
Exited: 23

  * Case 3: A host with no ssl infrastructure makes a `puppet cert generate` call

  * All: Clear agent only ssl settings (do not clear master)

t21rjumdkqr2x5d (centos6-64-2) 13:45:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.57 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:06$ rm -rf '/var/lib/puppet/ssl'

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * puppet cert generate

n6vo88vhlunm0j0 (centos6-64-1) 13:45:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  generate cert.test --autosign false
Notice: cert.test has a waiting certificate request
Notice: Signed certificate request for cert.test
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/ca/requests/cert.test.pem'
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/certificate_requests/cert.test.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.78 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean cert.test
Notice: Revoked certificate with serial 22
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/ca/signed/cert.test.pem'
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/certs/cert.test.pem'
Notice: Removing file Puppet::SSL::Key cert.test at '/var/lib/puppet/ssl/private_keys/cert.test.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.23 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  list --all
  "t21rjumdkqr2x5d-reject"                  (SHA256) DF:6F:E1:1E:C6:1B:B8:E8:61:A7:E0:AF:6C:80:FF:A4:85:21:2F:BA:C8:E2:35:45:F5:13:25:8D:85:4B:83:9C
+ "foobar_not_my_hostname"                  (SHA256) D6:2C:D2:A6:82:4F:C3:E7:BB:15:E4:A7:96:CD:09:63:7E:F3:2A:89:CF:4B:17:BC:CA:DC:11:72:E7:1E:2E:9D (alt names: "DNS:blue_cert", "DNS:foobar_not_my_hostname", "DNS:one_cert", "DNS:red_cert", "DNS:two_cert")
+ "n6vo88vhlunm0j0.delivery.puppetlabs.net" (SHA256) 8A:8D:FD:B1:96:EB:81:31:7C:A3:DF:01:BA:4D:AC:EB:62:37:5D:F5:66:DE:6B:DB:DE:1C:BA:E2:24:DA:F8:A5 (alt names: "DNS:n6vo88vhlunm0j0", "DNS:n6vo88vhlunm0j0.delivery.puppetlabs.net", "DNS:puppet")
+ "t21rjumdkqr2x5d-attrs"                   (SHA256) 86:F0:71:A8:9A:22:86:66:A3:5F:13:5C:7D:49:5C:36:71:54:A2:09:2E:C5:73:FD:E0:3D:EA:5E:B8:D9:8A:4C
+ "t21rjumdkqr2x5d-autosign"                (SHA256) 72:B7:C1:4F:79:F0:56:0B:FF:0D:78:6E:5E:1D:DF:1E:30:D7:AD:C4:F4:30:34:2C:CF:6B:18:18:5B:77:D7:2F
+ "t21rjumdkqr2x5d-extensions"              (SHA256) E0:CA:4B:79:4F:30:CA:1C:B7:08:84:4D:0A:60:92:FB:3A:31:0C:18:12:C6:30:68:8B:E8:3B:FE:C7:16:C9:FC
+ "t21rjumdkqr2x5d.delivery.puppetlabs.net" (SHA256) 0E:0C:32:37:07:AA:A8:ED:4C:36:F7:07:56:22:8E:82:5B:3E:AD:E3:88:42:14:09:E7:8E:FF:44:26:C1:DF:38

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.25 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  generate cert.test --autosign false
Notice: Signed certificate request for ca
Notice: cert.test has a waiting certificate request
Notice: Signed certificate request for cert.test
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/ca/requests/cert.test.pem'
Notice: Removing file Puppet::SSL::CertificateRequest cert.test at '/var/lib/puppet/ssl/certificate_requests/cert.test.pem'

t21rjumdkqr2x5d (centos6-64-2) executed in 3.26 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean cert.test
Notice: Revoked certificate with serial 2
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/ca/signed/cert.test.pem'
Notice: Removing file Puppet::SSL::Certificate cert.test at '/var/lib/puppet/ssl/certs/cert.test.pem'
Notice: Removing file Puppet::SSL::Key cert.test at '/var/lib/puppet/ssl/private_keys/cert.test.pem'

t21rjumdkqr2x5d (centos6-64-2) executed in 1.65 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  list --all

t21rjumdkqr2x5d (centos6-64-2) executed in 1.28 seconds

  * And try to leave with a good ssl configuration

  * All: Clear agent only ssl settings (do not clear master)

t21rjumdkqr2x5d (centos6-64-2) 13:45:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.57 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:18$ rm -rf '/var/lib/puppet/ssl'

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:18$  facter hostname  
n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.16 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:18$  facter fqdn  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.16 seconds

  * Clear old agent certificates from master

n6vo88vhlunm0j0 (centos6-64-1) 13:45:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.80 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean n6vo88vhlunm0j0.delivery.puppetlabs.net
Notice: Revoked certificate with serial 16
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Key n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/private_keys/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.39 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint certname  
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.64 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean t21rjumdkqr2x5d.delivery.puppetlabs.net
Notice: Revoked certificate with serial 17
Notice: Removing file Puppet::SSL::Certificate t21rjumdkqr2x5d.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/signed/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem'
Notice: Removing file Puppet::SSL::Certificate t21rjumdkqr2x5d.delivery.puppetlabs.net at '/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.35 seconds

  * Master: Ensure the master is listening and autosigning

n6vo88vhlunm0j0 (centos6-64-1) 13:45:23$  mktemp -dt puppet_cert_generate_and_autosign.rb.XXXXXX  
/tmp/puppet_cert_generate_and_autosign.rb.NeTUrM

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:23$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:23$  cp /etc/puppet/puppet.conf /tmp/puppet_cert_generate_and_autosign.rb.NeTUrM/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:23$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1hgew8o centos6-64-1:/tmp/puppet_cert_generate_and_autosign.rb.NeTUrM/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:23$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
dns_alt_names = puppet,n6vo88vhlunm0j0,n6vo88vhlunm0j0.delivery.puppetlabs.net
autosign = true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.20 seconds
Waiting for the puppet master to start
The puppet master has started

  * Agents: Run agent --test once to obtain auto-signed cert

n6vo88vhlunm0j0 (centos6-64-1) 13:45:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403124328'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.43 seconds

  * Agents: Run agent --test once to obtain auto-signed cert

t21rjumdkqr2x5d (centos6-64-2) 13:45:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Creating a new SSL key for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Caching certificate for ca
Info: csr_attributes file loading from /etc/puppet/csr_attributes.yaml
Info: Creating a new SSL certificate request for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Certificate Request fingerprint (SHA256): B3:A5:5A:88:84:51:83:83:5B:73:B4:D3:26:68:11:29:65:F4:54:A0:72:2F:B4:B7:EA:B7:0C:E3:7D:7E:05:93
Info: Caching certificate for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Caching certificate_revocation_list for ca
Info: Caching certificate for ca
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403124328'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 4.63 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:33$  if [ -f '/tmp/puppet_cert_generate_and_autosign.rb.NeTUrM/puppet.conf.bak' ]; then cat '/tmp/puppet_cert_generate_and_autosign.rb.NeTUrM/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/puppet_cert_generate_and_autosign.rb.NeTUrM/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:33$  cat `puppet master --configprint pidfile`  
27949
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.63 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:34$  kill 27949  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:34$  kill -0 27949  
bash: line 0: kill: (27949) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:45:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  clean cert.test
Notice: Revoked certificate with serial 18

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.40 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/stages" name="ticket_4655_default_stage_for_classes.rb" time="5.015264"><system-out><![CDATA[
#4655: Allow setting the default stage for parameterized classes

n6vo88vhlunm0j0 (centos6-64-1) 13:45:35$  mktemp -t 4655-stage-in-parameterized-class.XXXXXX  
/tmp/4655-stage-in-parameterized-class.pBCl5L

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:35$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.LQJKsp

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1k79dew centos6-64-1:/tmp/apply_manifest.pp.LQJKsp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:45:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LQJKsp
Warning: stage is a metaparam; this value will inherit to all contained resources in the in_two definition
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403124337'
Notice: /Stage[one]/In_one/Exec[echo in_one > /tmp/4655-stage-in-parameterized-class.pBCl5L]/returns: executed successfully
Notice: /Stage[two]/In_two/Exec[echo in_two >> /tmp/4655-stage-in-parameterized-class.pBCl5L]/returns: executed successfully
Notice: /Stage[three]/In_three/Exec[echo in_three >> /tmp/4655-stage-in-parameterized-class.pBCl5L]/returns: executed successfully
Notice: Finished catalog run in 0.39 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.49 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:38$  cat /tmp/4655-stage-in-parameterized-class.pBCl5L  
in_one
in_two
in_three

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:38$  mktemp -t 4655-stage-in-parameterized-class.XXXXXX  
/tmp/4655-stage-in-parameterized-class.G9MPdf

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.wUWTs2

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1qkkcqy centos6-64-2:/tmp/apply_manifest.pp.wUWTs2 {}

t21rjumdkqr2x5d (centos6-64-2) 13:45:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wUWTs2
Warning: stage is a metaparam; this value will inherit to all contained resources in the in_two definition
Warning: Config file /etc/puppet/hiera.yaml not found, using Hiera defaults
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403124339'
Notice: /Stage[one]/In_one/Exec[echo in_one > /tmp/4655-stage-in-parameterized-class.G9MPdf]/returns: executed successfully
Notice: /Stage[two]/In_two/Exec[echo in_two >> /tmp/4655-stage-in-parameterized-class.G9MPdf]/returns: executed successfully
Notice: /Stage[three]/In_three/Exec[echo in_three >> /tmp/4655-stage-in-parameterized-class.G9MPdf]/returns: executed successfully
Notice: Finished catalog run in 0.28 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.15 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:40$  cat /tmp/4655-stage-in-parameterized-class.G9MPdf  
in_one
in_two
in_three

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/store_configs" name="enc_provides_node_when_storeconfigs_enabled.rb" time="0.000406"><skip type="skip"/><system-out><![CDATA[
ENC node information is used when store configs enabled (#16698)
Warning: No suitable hosts with: {:platform=>"el-6"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests" name="ticket_12572_no_last_run_summary_diff.rb" time="7.735144"><system-out><![CDATA[
#12572: Don't print a diff for last_run_summary when show_diff is on

n6vo88vhlunm0j0 (centos6-64-1) 13:45:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --show_diff
Notice: Scope(Class[main]): hello
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403124341'
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.99 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --show_diff
Notice: Scope(Class[main]): hello
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403124343'
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.88 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --show_diff
Notice: Scope(Class[main]): hello
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403124345'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.89 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose --show_diff
Notice: Scope(Class[main]): hello
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403124347'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.96 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_13948_lib_dir_hook_should_be_called_on_initialization.rb" time="17.100816"><system-out><![CDATA[
the $libdir setting hook is called on startup

n6vo88vhlunm0j0 (centos6-64-1) 13:45:48$  mktemp -dt ticket_13948_lib_dir_hook_should_be_called_on_initialization.XXXXXX  
/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:48$  chmod 755 /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:48$  mktemp -dt ticket_13948_lib_dir_hook_should_be_called_on_initialization.XXXXXX  
/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:48$  chmod 755 /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * write our simple module out to the master

n6vo88vhlunm0j0 (centos6-64-1) 13:45:48$  mkdir -p /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/master_modules/superbogus/lib/puppet/application  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1hdit69 centos6-64-1:/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/master_modules/superbogus/lib/puppet/application/superbogus.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:45:48$  chown root:puppet /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/master_modules/superbogus/lib/puppet/application/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:48$  chmod 755 /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/master_modules/superbogus/lib/puppet/application/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:48$  mkdir -p /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/master_modules/superbogus/lib/puppet/face  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1w8tvuf centos6-64-1:/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/master_modules/superbogus/lib/puppet/face/superbogus.rb {}

n6vo88vhlunm0j0 (centos6-64-1) 13:45:48$  chown root:puppet /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/master_modules/superbogus/lib/puppet/face/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:49$  chmod 755 /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/master_modules/superbogus/lib/puppet/face/superbogus.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * verify that the app file exists on the master

n6vo88vhlunm0j0 (centos6-64-1) 13:45:49$  test -f "/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/master_modules/superbogus/lib/puppet/application/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:49$  test -f "/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/master_modules/superbogus/lib/puppet/face/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * start the master

n6vo88vhlunm0j0 (centos6-64-1) 13:45:49$  mktemp -dt ticket_13948_lib_dir_hook_should_be_called_on_initialization.rb.XXXXXX  
/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.rb.b3qmCI

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:49$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:49$  cp /etc/puppet/puppet.conf /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.rb.b3qmCI/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:49$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1884d3l centos6-64-1:/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.rb.b3qmCI/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:49$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
modulepath = /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/master_modules
node_terminus = plain

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.54 seconds
Waiting for the puppet master to start
The puppet master has started

  * verify that the module files don't exist on the agent path

n6vo88vhlunm0j0 (centos6-64-1) 13:45:51$  test -f "/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var/lib/puppet/application/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:45:51$  test -f "/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var/lib/puppet/face/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:45:51$  test -f "/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var/lib/puppet/application/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.08 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:45:51$  test -f "/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var/lib/puppet/face/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
Exited: 1

  * run the agent

  * capture the existing ssldir, in case the default package puppet.conf sets it within vardir (rhel...)

n6vo88vhlunm0j0 (centos6-64-1) 13:45:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.71 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --vardir="/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var"  --ssldir="/var/lib/puppet/ssl"  --trace  --test --server n6vo88vhlunm0j0
Warning: Setting modulepath is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `each'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1094:in `issue_deprecations'; /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:325:in `initialize_app_defaults'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:152:in `do_initialize_settings_for_run_mode'; /usr/lib/ruby/site_ruby/1.8/puppet.rb:136:in `initialize_settings'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:86:in `execute'; /usr/lib/ruby/site_ruby/1.8/puppet/util.rb:479:in `exit_on_fail'; /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:85:in `execute'; /usr/bin/puppet:8)
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var/lib/puppet]/ensure: created
Notice: /File[/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var/lib/puppet/face]/ensure: created
Notice: /File[/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var/lib/puppet/application]/ensure: created
Notice: /File[/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var/lib/puppet/application/superbogus.rb]/ensure: defined content as '{md5}f39411e2e4c7a7caf890778afc24887f'
Notice: /File[/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var/lib/puppet/face/superbogus.rb]/ensure: defined content as '{md5}75d454702df04250ac39981e09e8eb70'
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403124355'
Info: Creating state file /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var/state/state.yaml
Notice: Finished catalog run in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.41 seconds

  * capture the existing ssldir, in case the default package puppet.conf sets it within vardir (rhel...)

t21rjumdkqr2x5d (centos6-64-2) 13:45:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent --configprint ssldir  
/var/lib/puppet/ssl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.59 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:45:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --vardir="/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var"  --ssldir="/var/lib/puppet/ssl"  --trace  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Notice: /File[/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var/lib/puppet]/ensure: created
Notice: /File[/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var/lib/puppet/face]/ensure: created
Notice: /File[/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var/lib/puppet/face/superbogus.rb]/ensure: defined content as '{md5}75d454702df04250ac39981e09e8eb70'
Notice: /File[/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var/lib/puppet/application]/ensure: created
Notice: /File[/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var/lib/puppet/application/superbogus.rb]/ensure: defined content as '{md5}f39411e2e4c7a7caf890778afc24887f'
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403124355'
Info: Creating state file /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var/state/state.yaml
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.40 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:59$  if [ -f '/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.rb.b3qmCI/puppet.conf.bak' ]; then cat '/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.rb.b3qmCI/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.rb.b3qmCI/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:45:59$  cat `puppet master --configprint pidfile`  
28533
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:00$  kill 28533  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:00$  kill -0 28533  
bash: line 0: kill: (28533) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
Exited: 1

  * verify that the module files were synced down to the agent

n6vo88vhlunm0j0 (centos6-64-1) 13:46:00$  test -f "/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var/lib/puppet/application/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:00$  test -f "/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var/lib/puppet/face/superbogus.rb"  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:00$  test -f "/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var/lib/puppet/application/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:00$  test -f "/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var/lib/puppet/face/superbogus.rb"  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * verify that the application shows up in help

n6vo88vhlunm0j0 (centos6-64-1) 13:46:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet help  --vardir="/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var"

Usage: puppet <subcommand> [options] <action> [options]

Available subcommands:
    
  agent             The puppet agent daemon
  apply             Apply Puppet manifests locally
  ca                Local Puppet Certificate Authority management.
  catalog           Compile, save, view, and convert catalogs.
  cert              Manage certificates and requests
  certificate       Provide access to the CA for certificate management.
  certificate_request  Manage certificate requests.
  certificate_revocation_list  Manage the list of revoked certificates.
  config            Interact with Puppet's settings.
  describe          Display help about resource types
  device            Manage remote network devices
  doc               Generate Puppet documentation and references
  facts             Retrieve and store facts.
  file              Retrieve and store files in a filebucket
  filebucket        Store and retrieve files in a filebucket
  help              Display Puppet help.
  inspect           Send an inspection report
  instrumentation_data  Manage instrumentation listener accumulated data.
  instrumentation_listener  Manage instrumentation listeners.
  instrumentation_probe  Manage instrumentation probes.
  key               Create, save, and remove certificate keys.
  kick              Remotely control puppet agent
  man               Display Puppet manual pages.
  master            The puppet master daemon
  module            Creates, installs and searches for modules on the Puppet Forge.
  node              View and manage node definitions.
  parser            Interact directly with the parser.
  plugin            Interact with the Puppet plugin system.
  queue             Deprecated queuing daemon for asynchronous storeconfigs
  report            Create, display, and submit reports.
  resource          The resource abstraction layer shell
  resource_type     View classes, defined resource types, and nodes from all manifests.
  secret_agent      Mimics puppet agent.
  status            View puppet server status.
  superbogus        a simple face for testing face delivery via plugin sync

See 'puppet help <subcommand> <action>' for help on a specific subcommand action.
See 'puppet help <subcommand>' for help on a specific subcommand.
Puppet v3.6.2

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.10 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet help  --vardir="/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var"

Usage: puppet <subcommand> [options] <action> [options]

Available subcommands:
    
  agent             The puppet agent daemon
  apply             Apply Puppet manifests locally
  ca                Local Puppet Certificate Authority management.
  catalog           Compile, save, view, and convert catalogs.
  cert              Manage certificates and requests
  certificate       Provide access to the CA for certificate management.
  certificate_request  Manage certificate requests.
  certificate_revocation_list  Manage the list of revoked certificates.
  config            Interact with Puppet's settings.
  describe          Display help about resource types
  device            Manage remote network devices
  doc               Generate Puppet documentation and references
  facts             Retrieve and store facts.
  file              Retrieve and store files in a filebucket
  filebucket        Store and retrieve files in a filebucket
  help              Display Puppet help.
  inspect           Send an inspection report
  instrumentation_data  Manage instrumentation listener accumulated data.
  instrumentation_listener  Manage instrumentation listeners.
  instrumentation_probe  Manage instrumentation probes.
  key               Create, save, and remove certificate keys.
  kick              Remotely control puppet agent
  man               Display Puppet manual pages.
  master            The puppet master daemon
  module            Creates, installs and searches for modules on the Puppet Forge.
  node              View and manage node definitions.
  parser            Interact directly with the parser.
  plugin            Interact with the Puppet plugin system.
  queue             Deprecated queuing daemon for asynchronous storeconfigs
  report            Create, display, and submit reports.
  resource          The resource abstraction layer shell
  resource_type     View classes, defined resource types, and nodes from all manifests.
  secret_agent      Mimics puppet agent.
  status            View puppet server status.
  superbogus        a simple face for testing face delivery via plugin sync

See 'puppet help <subcommand> <action>' for help on a specific subcommand action.
See 'puppet help <subcommand>' for help on a specific subcommand.
Puppet v3.6.2

t21rjumdkqr2x5d (centos6-64-2) executed in 0.93 seconds

  * verify that we can run the application

n6vo88vhlunm0j0 (centos6-64-1) 13:46:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet superbogus  --vardir="/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var"
Hello from the superbogus face

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.91 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet superbogus  --vardir="/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var"
Hello from the superbogus face

t21rjumdkqr2x5d (centos6-64-2) executed in 1.56 seconds

  * clear out the libdir on the agents in preparation for the next test

n6vo88vhlunm0j0 (centos6-64-1) 13:46:05$  rm -rf '/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ/agent_var/lib/*'  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:05$  rm -rf '/tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4/agent_var/lib/*'  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:05$  rm -rf /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.a1bYYQ  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:05$  rm -rf /tmp/ticket_13948_lib_dir_hook_should_be_called_on_initialization.egwHQ4  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.15 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_15560_managehome.rb" time="0.006750"><skip type="skip"/><system-out><![CDATA[
#15560: Manage home directories
Warning: No suitable hosts with: {:platform=>"windows"}

No suitable hosts found
]]></system-out></testcase><testcase classname="tests" name="ticket_15717_puppet_kick.rb" time="9.827388"><system-out><![CDATA[
#15717: puppet kick

  * verify puppet kick actually triggers an agent run

n6vo88vhlunm0j0 (centos6-64-1) 13:46:05$  mktemp -dt ticket_15717_puppet_kick.rb.XXXXXX  
/tmp/ticket_15717_puppet_kick.rb.YBhahd

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:05$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:05$  cp /etc/puppet/puppet.conf /tmp/ticket_15717_puppet_kick.rb.YBhahd/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:05$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-2oqr8b centos6-64-1:/tmp/ticket_15717_puppet_kick.rb.YBhahd/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:05$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.85 seconds
Waiting for the puppet master to start
The puppet master has started
Warning: This test does not support nodes that are both master and agent

t21rjumdkqr2x5d (centos6-64-2) 13:46:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint certname
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.72 seconds

  * create rest auth.conf on agent

t21rjumdkqr2x5d (centos6-64-2) 13:46:08$  mktemp -dt puppet-kick-auth.XXXXXX  
/tmp/puppet-kick-auth.4IjJpQ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1q5xiw6 centos6-64-2:/tmp/puppet-kick-auth.4IjJpQ/auth.conf {}

  * daemonize the agent

t21rjumdkqr2x5d (centos6-64-2) 13:46:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --debug --daemonize --server n6vo88vhlunm0j0 --listen --no-client --rest_authconfig /tmp/puppet-kick-auth.4IjJpQ/auth.conf
Debug: Puppet::Type::User::ProviderLdap: true value when expecting false
Debug: Puppet::Type::User::ProviderDirectoryservice: file /usr/bin/dsimport does not exist
Debug: Puppet::Type::User::ProviderUser_role_add: file roleadd does not exist
Debug: Puppet::Type::User::ProviderPw: file pw does not exist
Debug: Puppet::Type::Group::ProviderLdap: true value when expecting false
Debug: Puppet::Type::Group::ProviderDirectoryservice: file /usr/bin/dscl does not exist
Debug: Puppet::Type::Group::ProviderPw: file pw does not exist
Debug: Using settings: adding file resource 'hostprivkey': 'File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'publickeydir': 'File[/var/lib/puppet/ssl/public_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys"}'
Debug: Using settings: adding file resource 'plugindest': 'File[/var/lib/puppet/lib]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/lib"}'
Debug: Using settings: adding file resource 'classfile': 'File[/var/lib/puppet/classes.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/classes.txt"}'
Debug: Using settings: adding file resource 'lastrunreport': 'File[/var/lib/puppet/state/last_run_report.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_report.yaml"}'
Debug: Using settings: adding file resource 'statedir': 'File[/var/lib/puppet/state]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"1755", :loglevel=>:debug, :path=>"/var/lib/puppet/state"}'
Debug: Using settings: adding file resource 'clientbucketdir': 'File[/var/lib/puppet/clientbucket]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/clientbucket"}'
Debug: Using settings: adding file resource 'localcacert': 'File[/var/lib/puppet/ssl/certs/ca.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/ca.pem"}'
Debug: Using settings: adding file resource 'privatekeydir': 'File[/var/lib/puppet/ssl/private_keys]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private_keys"}'
Debug: Using settings: adding file resource 'pluginfactdest': 'File[/var/lib/puppet/facts.d]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/facts.d"}'
Debug: Using settings: adding file resource 'graphdir': 'File[/var/lib/puppet/state/graphs]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet/state/graphs"}'
Debug: Using settings: adding file resource 'confdir': 'File[/etc/puppet]{:links=>:follow, :backup=>false, :ensure=>:directory, :loglevel=>:debug, :path=>"/etc/puppet"}'
Debug: Using settings: adding file resource 'statefile': 'File[/var/lib/puppet/state/state.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"660", :loglevel=>:debug, :path=>"/var/lib/puppet/state/state.yaml"}'
Debug: Using settings: adding file resource 'httplog': 'File[/var/log/puppet/http.log]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/log/puppet/http.log"}'
Debug: Using settings: adding file resource 'hostcert': 'File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'ssldir': 'File[/var/lib/puppet/ssl]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"771", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl"}'
Debug: Using settings: adding file resource 'client_datadir': 'File[/var/lib/puppet/client_data]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_data"}'
Debug: Using settings: adding file resource 'lastrunfile': 'File[/var/lib/puppet/state/last_run_summary.yaml]{:links=>:follow, :backup=>false, :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/state/last_run_summary.yaml"}'
Debug: Using settings: adding file resource 'rundir': 'File[/var/run/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/run/puppet"}'
Debug: Using settings: adding file resource 'hostpubkey': 'File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem"}'
Debug: Using settings: adding file resource 'requestdir': 'File[/var/lib/puppet/ssl/certificate_requests]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certificate_requests"}'
Debug: Using settings: adding file resource 'resourcefile': 'File[/var/lib/puppet/state/resources.txt]{:links=>:follow, :backup=>false, :owner=>"root", :ensure=>:file, :mode=>"640", :loglevel=>:debug, :path=>"/var/lib/puppet/state/resources.txt"}'
Debug: Using settings: adding file resource 'logdir': 'File[/var/log/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/log/puppet"}'
Debug: Using settings: adding file resource 'privatedir': 'File[/var/lib/puppet/ssl/private]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/private"}'
Debug: Using settings: adding file resource 'vardir': 'File[/var/lib/puppet]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :loglevel=>:debug, :path=>"/var/lib/puppet"}'
Debug: Using settings: adding file resource 'hostcrl': 'File[/var/lib/puppet/ssl/crl.pem]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:file, :mode=>"644", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/crl.pem"}'
Debug: Using settings: adding file resource 'certdir': 'File[/var/lib/puppet/ssl/certs]{:links=>:follow, :group=>"puppet", :backup=>false, :owner=>"puppet", :ensure=>:directory, :mode=>"755", :loglevel=>:debug, :path=>"/var/lib/puppet/ssl/certs"}'
Debug: Using settings: adding file resource 'clientyamldir': 'File[/var/lib/puppet/client_yaml]{:links=>:follow, :backup=>false, :ensure=>:directory, :mode=>"750", :loglevel=>:debug, :path=>"/var/lib/puppet/client_yaml"}'
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/ssl/public_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys
Debug: /File[/var/lib/puppet/lib]/seluser: Found seluser default 'system_u' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrole: Found selrole default 'object_r' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/lib]/selrange: Found selrange default 's0' for /var/lib/puppet/lib
Debug: /File[/var/lib/puppet/classes.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/classes.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/classes.txt
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_report.yaml
Debug: /File[/var/lib/puppet/state]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/state]/selrange: Found selrange default 's0' for /var/lib/puppet/state
Debug: /File[/var/lib/puppet/clientbucket]/seluser: Found seluser default 'system_u' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrole: Found selrole default 'object_r' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/clientbucket]/selrange: Found selrange default 's0' for /var/lib/puppet/clientbucket
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/ca.pem
Debug: /File[/var/lib/puppet/ssl/private_keys]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/ssl/private_keys]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private_keys
Debug: /File[/var/lib/puppet/facts.d]/seluser: Found seluser default 'system_u' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrole: Found selrole default 'object_r' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/facts.d]/selrange: Found selrange default 's0' for /var/lib/puppet/facts.d
Debug: /File[/var/lib/puppet/state/graphs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/graphs
Debug: /File[/var/lib/puppet/state/graphs]/selrange: Found selrange default 's0' for /var/lib/puppet/state/graphs
Debug: /File[/etc/puppet]/seluser: Found seluser default 'system_u' for /etc/puppet
Debug: /File[/etc/puppet]/selrole: Found selrole default 'object_r' for /etc/puppet
Debug: /File[/etc/puppet]/seltype: Found seltype default 'puppet_etc_t' for /etc/puppet
Debug: /File[/etc/puppet]/selrange: Found selrange default 's0' for /etc/puppet
Debug: /File[/var/lib/puppet/state/state.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/lib/puppet/state/state.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/state.yaml
Debug: /File[/var/log/puppet/http.log]/seluser: Found seluser default 'system_u' for /var/log/puppet/http.log
Debug: /File[/var/log/puppet/http.log]/selrole: Found selrole default 'object_r' for /var/log/puppet/http.log
Debug: /File[/var/log/puppet/http.log]/seltype: Found seltype default 'puppet_log_t' for /var/log/puppet/http.log
Debug: /File[/var/log/puppet/http.log]/selrange: Found selrange default 's0' for /var/log/puppet/http.log
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/ssl]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl
Debug: /File[/var/lib/puppet/client_data]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/client_data]/selrange: Found selrange default 's0' for /var/lib/puppet/client_data
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/state/last_run_summary.yaml
Debug: /File[/var/run/puppet]/seluser: Found seluser default 'system_u' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrole: Found selrole default 'object_r' for /var/run/puppet
Debug: /File[/var/run/puppet]/seltype: Found seltype default 'puppet_var_run_t' for /var/run/puppet
Debug: /File[/var/run/puppet]/selrange: Found selrange default 's0' for /var/run/puppet
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/ssl/certificate_requests]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certificate_requests
Debug: /File[/var/lib/puppet/state/resources.txt]/seluser: Found seluser default 'system_u' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrole: Found selrole default 'object_r' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/lib/puppet/state/resources.txt]/selrange: Found selrange default 's0' for /var/lib/puppet/state/resources.txt
Debug: /File[/var/log/puppet]/seluser: Found seluser default 'system_u' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrole: Found selrole default 'object_r' for /var/log/puppet
Debug: /File[/var/log/puppet]/seltype: Found seltype default 'puppet_log_t' for /var/log/puppet
Debug: /File[/var/log/puppet]/selrange: Found selrange default 's0' for /var/log/puppet
Debug: /File[/var/lib/puppet/ssl/private]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet/ssl/private]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/private
Debug: /File[/var/lib/puppet]/seluser: Found seluser default 'system_u' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrole: Found selrole default 'object_r' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet
Debug: /File[/var/lib/puppet]/selrange: Found selrange default 's0' for /var/lib/puppet
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/crl.pem]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/crl.pem
Debug: /File[/var/lib/puppet/ssl/certs]/seluser: Found seluser default 'system_u' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrole: Found selrole default 'object_r' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/ssl/certs]/selrange: Found selrange default 's0' for /var/lib/puppet/ssl/certs
Debug: /File[/var/lib/puppet/client_yaml]/seluser: Found seluser default 'system_u' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrole: Found selrole default 'object_r' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/seltype: Found seltype default 'puppet_var_lib_t' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/client_yaml]/selrange: Found selrange default 's0' for /var/lib/puppet/client_yaml
Debug: /File[/var/lib/puppet/ssl/private]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/public_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/public_keys]
Debug: /File[/var/lib/puppet/state/graphs]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl/certs/ca.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/client_data]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/facts.d]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/classes.txt]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/lib]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/log/puppet/http.log]: Autorequiring File[/var/log/puppet]
Debug: /File[/var/lib/puppet/clientbucket]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/private_keys/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/private_keys]
Debug: /File[/var/lib/puppet/ssl/crl.pem]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/certs]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/ssl/certificate_requests]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/state/state.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl/private_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/state/resources.txt]: Autorequiring File[/var/lib/puppet/state]
Debug: /File[/var/lib/puppet/ssl/public_keys]: Autorequiring File[/var/lib/puppet/ssl]
Debug: /File[/var/lib/puppet/client_yaml]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/state]: Autorequiring File[/var/lib/puppet]
Debug: /File[/var/lib/puppet/ssl/certs/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem]: Autorequiring File[/var/lib/puppet/ssl/certs]
Debug: /File[/var/lib/puppet/state/last_run_report.yaml]/seluser: seluser changed 'unconfined_u' to 'system_u'
Debug: /File[/var/lib/puppet/state/state.yaml]/seluser: seluser changed 'unconfined_u' to 'system_u'
Debug: /File[/var/lib/puppet/state/last_run_summary.yaml]/seluser: seluser changed 'unconfined_u' to 'system_u'
Debug: Finishing transaction 70078732614520

t21rjumdkqr2x5d (centos6-64-2) executed in 1.42 seconds

  * wait for agent to start listening

t21rjumdkqr2x5d (centos6-64-2) 13:46:09$  curl -k https://t21rjumdkqr2x5d:8139  

curl: (7) couldn't connect to host

t21rjumdkqr2x5d (centos6-64-2) executed in 0.08 seconds
Exited: 7

t21rjumdkqr2x5d (centos6-64-2) 13:46:11$  curl -k https://t21rjumdkqr2x5d:8139  
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0    51    0    51    0     0    361      0 --:--:-- --:--:-- --:--:--  1133
The environment must be purely alphanumeric, not ''
t21rjumdkqr2x5d (centos6-64-2) executed in 0.18 seconds

  * kick the agent from the master

n6vo88vhlunm0j0 (centos6-64-1) 13:46:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet kick  --host t21rjumdkqr2x5d.delivery.puppetlabs.net
Warning: Puppet kick is deprecated. See http://links.puppetlabs.com/puppet-kick-deprecation
Warning: Failed to load ruby LDAP library. LDAP functionality will not be available
Triggering t21rjumdkqr2x5d.delivery.puppetlabs.net
Getting status
status is success
t21rjumdkqr2x5d.delivery.puppetlabs.net finished with exit code 0
Finished

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.80 seconds

  * kill agent

t21rjumdkqr2x5d (centos6-64-2) 13:46:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint pidfile
/var/run/puppet/agent.pid

t21rjumdkqr2x5d (centos6-64-2) executed in 0.58 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:13$  kill `cat /var/run/puppet/agent.pid`  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:13$  if [ -f '/tmp/ticket_15717_puppet_kick.rb.YBhahd/puppet.conf.bak' ]; then cat '/tmp/ticket_15717_puppet_kick.rb.YBhahd/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/ticket_15717_puppet_kick.rb.YBhahd/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:13$  cat `puppet master --configprint pidfile`  
28755
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.65 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:14$  kill 28755  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:14$  kill -0 28755  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:15$  kill -0 28755  
bash: line 0: kill: (28755) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_17458_puppet_command_prints_help.rb" time="1.198991"><system-out><![CDATA[
puppet command with an unknown external command prints help

n6vo88vhlunm0j0 (centos6-64-1) 13:46:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet unknown  
Error: Unknown Puppet subcommand 'unknown'
See 'puppet help' for help on available puppet subcommands

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.68 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet unknown  
Error: Unknown Puppet subcommand 'unknown'
See 'puppet help' for help on available puppet subcommands

t21rjumdkqr2x5d (centos6-64-2) executed in 0.51 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_3172_puppet_kick_with_hostnames_on_the_command_line.rb" time="3.379383"><system-out><![CDATA[
#3172: puppet kick with hostnames on the command line

  * Verify puppet kick application attempts to connect to the hostname specified on the command line

n6vo88vhlunm0j0 (centos6-64-1) 13:46:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet kick  working.example.org
Warning: Puppet kick is deprecated. See http://links.puppetlabs.com/puppet-kick-deprecation
Warning: Failed to load ruby LDAP library. LDAP functionality will not be available
Triggering working.example.org
Error: Host working.example.org failed: getaddrinfo: Name or service not known

working.example.org finished with exit code 2
Failed: working.example.org

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.65 seconds
Exited: 3

t21rjumdkqr2x5d (centos6-64-2) 13:46:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet kick  working.example.org
Warning: Puppet kick is deprecated. See http://links.puppetlabs.com/puppet-kick-deprecation
Warning: Failed to load ruby LDAP library. LDAP functionality will not be available
Triggering working.example.org
Error: Host working.example.org failed: getaddrinfo: Name or service not known

working.example.org finished with exit code 2
Failed: working.example.org

t21rjumdkqr2x5d (centos6-64-2) executed in 1.73 seconds
Exited: 3
]]></system-out><system-err><![CDATA[Warning: Puppet kick is deprecated. See http://links.puppetlabs.com/puppet-kick-deprecation
Warning: Failed to load ruby LDAP library. LDAP functionality will not be available
Error: Host working.example.org failed: getaddrinfo: Name or service not known

]]></system-err></testcase><testcase classname="tests" name="ticket_3360_allow_duplicate_csr_with_option_set.rb" time="15.995963"><system-out><![CDATA[
#3360: Allow duplicate CSR when allow_duplicate_certs is on

n6vo88vhlunm0j0 (centos6-64-1) 13:46:19$  mktemp -dt ticket_3360_allow_duplicate_csr_with_option_set.rb.XXXXXX  
/tmp/ticket_3360_allow_duplicate_csr_with_option_set.rb.lhtD0L

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:19$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:20$  cp /etc/puppet/puppet.conf /tmp/ticket_3360_allow_duplicate_csr_with_option_set.rb.lhtD0L/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:20$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-198ttr0 centos6-64-1:/tmp/ticket_3360_allow_duplicate_csr_with_option_set.rb.lhtD0L/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:20$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
allow_duplicate_certs = true

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.53 seconds
Waiting for the puppet master to start
The puppet master has started

  * Generate a certificate request for the agent

n6vo88vhlunm0j0 (centos6-64-1) 13:46:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  fqdn
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:22$  puppet certificate generate n6vo88vhlunm0j0.delivery.puppetlabs.net --ca-location remote --server n6vo88vhlunm0j0  
true

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.52 seconds

  * Generate a certificate request for the agent

t21rjumdkqr2x5d (centos6-64-2) 13:46:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  fqdn
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.20 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:23$  puppet certificate generate t21rjumdkqr2x5d.delivery.puppetlabs.net --ca-location remote --server n6vo88vhlunm0j0  
true

t21rjumdkqr2x5d (centos6-64-2) executed in 1.35 seconds

  * Collect the original certs

n6vo88vhlunm0j0 (centos6-64-1) 13:46:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  --sign --all
Notice: Signed certificate request for n6vo88vhlunm0j0.delivery.puppetlabs.net
Notice: Removing file Puppet::SSL::CertificateRequest n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/requests/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Signed certificate request for t21rjumdkqr2x5d-reject
Notice: Removing file Puppet::SSL::CertificateRequest t21rjumdkqr2x5d-reject at '/var/lib/puppet/ssl/ca/requests/t21rjumdkqr2x5d-reject.pem'
Notice: Signed certificate request for t21rjumdkqr2x5d.delivery.puppetlabs.net
Notice: Removing file Puppet::SSL::CertificateRequest t21rjumdkqr2x5d.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/requests/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.83 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  --list --all
+ "foobar_not_my_hostname"                  (SHA256) D6:2C:D2:A6:82:4F:C3:E7:BB:15:E4:A7:96:CD:09:63:7E:F3:2A:89:CF:4B:17:BC:CA:DC:11:72:E7:1E:2E:9D (alt names: "DNS:blue_cert", "DNS:foobar_not_my_hostname", "DNS:one_cert", "DNS:red_cert", "DNS:two_cert")
+ "n6vo88vhlunm0j0.delivery.puppetlabs.net" (SHA256) B0:60:5D:30:4D:02:3A:2A:0A:A5:5A:1C:C4:94:84:7C:EC:7F:08:04:6A:0F:1D:DA:93:B2:18:AF:25:93:40:06
+ "t21rjumdkqr2x5d-attrs"                   (SHA256) 86:F0:71:A8:9A:22:86:66:A3:5F:13:5C:7D:49:5C:36:71:54:A2:09:2E:C5:73:FD:E0:3D:EA:5E:B8:D9:8A:4C
+ "t21rjumdkqr2x5d-autosign"                (SHA256) 72:B7:C1:4F:79:F0:56:0B:FF:0D:78:6E:5E:1D:DF:1E:30:D7:AD:C4:F4:30:34:2C:CF:6B:18:18:5B:77:D7:2F
+ "t21rjumdkqr2x5d-extensions"              (SHA256) E0:CA:4B:79:4F:30:CA:1C:B7:08:84:4D:0A:60:92:FB:3A:31:0C:18:12:C6:30:68:8B:E8:3B:FE:C7:16:C9:FC
+ "t21rjumdkqr2x5d-reject"                  (SHA256) 1C:0E:89:59:2F:78:E8:6D:44:C9:94:68:92:84:07:B0:56:5D:C7:5A:34:7F:8C:46:D2:92:30:F3:C8:3F:5E:60
+ "t21rjumdkqr2x5d.delivery.puppetlabs.net" (SHA256) D1:7C:7C:37:2A:73:F2:6F:99:26:2C:E6:33:31:C1:0E:2C:9B:52:F8:CB:08:2D:B1:80:14:EE:31:99:67:BA:7B

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.41 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  fqdn
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

  * Make another request with the same certname

n6vo88vhlunm0j0 (centos6-64-1) 13:46:28$  puppet certificate generate n6vo88vhlunm0j0.delivery.puppetlabs.net --ca-location remote --server n6vo88vhlunm0j0  
true

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.31 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  fqdn
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.12 seconds

  * Make another request with the same certname

t21rjumdkqr2x5d (centos6-64-2) 13:46:29$  puppet certificate generate t21rjumdkqr2x5d.delivery.puppetlabs.net --ca-location remote --server n6vo88vhlunm0j0  
true

t21rjumdkqr2x5d (centos6-64-2) executed in 1.29 seconds

  * Collect the new certs

n6vo88vhlunm0j0 (centos6-64-1) 13:46:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  --sign --all
Notice: Signed certificate request for n6vo88vhlunm0j0.delivery.puppetlabs.net
Notice: Removing file Puppet::SSL::CertificateRequest n6vo88vhlunm0j0.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/requests/n6vo88vhlunm0j0.delivery.puppetlabs.net.pem'
Notice: Signed certificate request for t21rjumdkqr2x5d.delivery.puppetlabs.net
Notice: Removing file Puppet::SSL::CertificateRequest t21rjumdkqr2x5d.delivery.puppetlabs.net at '/var/lib/puppet/ssl/ca/requests/t21rjumdkqr2x5d.delivery.puppetlabs.net.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.51 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert  --list --all
+ "foobar_not_my_hostname"                  (SHA256) D6:2C:D2:A6:82:4F:C3:E7:BB:15:E4:A7:96:CD:09:63:7E:F3:2A:89:CF:4B:17:BC:CA:DC:11:72:E7:1E:2E:9D (alt names: "DNS:blue_cert", "DNS:foobar_not_my_hostname", "DNS:one_cert", "DNS:red_cert", "DNS:two_cert")
+ "n6vo88vhlunm0j0.delivery.puppetlabs.net" (SHA256) FF:E7:A7:35:6E:44:3E:4C:00:F3:E9:85:D4:02:74:DA:31:DE:D6:BE:7F:4C:3C:29:EF:CC:A3:72:BB:A0:A0:81
+ "t21rjumdkqr2x5d-attrs"                   (SHA256) 86:F0:71:A8:9A:22:86:66:A3:5F:13:5C:7D:49:5C:36:71:54:A2:09:2E:C5:73:FD:E0:3D:EA:5E:B8:D9:8A:4C
+ "t21rjumdkqr2x5d-autosign"                (SHA256) 72:B7:C1:4F:79:F0:56:0B:FF:0D:78:6E:5E:1D:DF:1E:30:D7:AD:C4:F4:30:34:2C:CF:6B:18:18:5B:77:D7:2F
+ "t21rjumdkqr2x5d-extensions"              (SHA256) E0:CA:4B:79:4F:30:CA:1C:B7:08:84:4D:0A:60:92:FB:3A:31:0C:18:12:C6:30:68:8B:E8:3B:FE:C7:16:C9:FC
+ "t21rjumdkqr2x5d-reject"                  (SHA256) 1C:0E:89:59:2F:78:E8:6D:44:C9:94:68:92:84:07:B0:56:5D:C7:5A:34:7F:8C:46:D2:92:30:F3:C8:3F:5E:60
+ "t21rjumdkqr2x5d.delivery.puppetlabs.net" (SHA256) 92:F9:BC:CC:DE:4A:73:EC:B6:74:AB:0F:4C:36:F3:DB:DF:C8:97:45:C6:B3:B2:8B:CD:FF:4F:FA:1C:AF:08:42

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.41 seconds

  * Verify the certs have changed

n6vo88vhlunm0j0 (centos6-64-1) 13:46:34$  if [ -f '/tmp/ticket_3360_allow_duplicate_csr_with_option_set.rb.lhtD0L/puppet.conf.bak' ]; then cat '/tmp/ticket_3360_allow_duplicate_csr_with_option_set.rb.lhtD0L/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/ticket_3360_allow_duplicate_csr_with_option_set.rb.lhtD0L/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:34$  cat `puppet master --configprint pidfile`  
28842
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.74 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:34$  kill 28842  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:34$  kill -0 28842  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:35$  kill -0 28842  
bash: line 0: kill: (28842) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_3656_requiring_multiple_resources.rb" time="5.233156"><system-out><![CDATA[
#3656: requiring multiple resources

n6vo88vhlunm0j0 (centos6-64-1) 13:46:35$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Dk42pf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1pgtqcu centos6-64-1:/tmp/apply_manifest.pp.Dk42pf {}

n6vo88vhlunm0j0 (centos6-64-1) 13:46:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Dk42pf
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.06 seconds
Info: Applying configuration version '1403124397'
Notice: foo
Notice: /Stage[main]/Main/Notify[foo]/message: defined 'message' as 'foo'
Notice: bar
Notice: /Stage[main]/Main/Notify[bar]/message: defined 'message' as 'bar'
Notice: baz
Notice: /Stage[main]/Main/Notify[baz]/message: defined 'message' as 'baz'
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.85 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.JDyd0j

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-17s9a5n centos6-64-2:/tmp/apply_manifest.pp.JDyd0j {}

t21rjumdkqr2x5d (centos6-64-2) 13:46:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.JDyd0j
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403124400'
Notice: foo
Notice: /Stage[main]/Main/Notify[foo]/message: defined 'message' as 'foo'
Notice: bar
Notice: /Stage[main]/Main/Notify[bar]/message: defined 'message' as 'bar'
Notice: baz
Notice: /Stage[main]/Main/Notify[baz]/message: defined 'message' as 'baz'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.16 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_3961_puppet_ca_should_produce_certs.rb" time="8.050440"><system-out><![CDATA[
#3961: puppet ca should produce certs spec

n6vo88vhlunm0j0 (centos6-64-1) 13:46:41$  mktemp -dt puppet-ssl-3961.XXXXXX  
/tmp/puppet-ssl-3961.PP58oQ

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * removing the SSL scratch directory...

n6vo88vhlunm0j0 (centos6-64-1) 13:46:41$  rm -rf /tmp/puppet-ssl-3961.PP58oQ  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * generate a certificate in /tmp/puppet-ssl-3961.PP58oQ

n6vo88vhlunm0j0 (centos6-64-1) 13:46:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert --confdir=/tmp/puppet-ssl-3961.PP58oQ --vardir=/tmp/puppet-ssl-3961.PP58oQ --trace --generate working3961.example.org
Notice: Signed certificate request for ca
Notice: working3961.example.org has a waiting certificate request
Notice: Signed certificate request for working3961.example.org
Notice: Removing file Puppet::SSL::CertificateRequest working3961.example.org at '/tmp/puppet-ssl-3961.PP58oQ/ssl/ca/requests/working3961.example.org.pem'
Notice: Removing file Puppet::SSL::CertificateRequest working3961.example.org at '/tmp/puppet-ssl-3961.PP58oQ/ssl/certificate_requests/working3961.example.org.pem'

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.88 seconds

  * verify the certificate for working3961.example.org exists

n6vo88vhlunm0j0 (centos6-64-1) 13:46:44$  test -f /tmp/puppet-ssl-3961.PP58oQ/ssl/certs/working3961.example.org.pem  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * verify the private key for working3961.example.org exists

n6vo88vhlunm0j0 (centos6-64-1) 13:46:44$  grep -q 'BEGIN RSA PRIVATE KEY' /tmp/puppet-ssl-3961.PP58oQ/ssl/private_keys/working3961.example.org.pem  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:44$  mktemp -dt puppet-ssl-3961.XXXXXX  
/tmp/puppet-ssl-3961.cdUrYU

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * removing the SSL scratch directory...

t21rjumdkqr2x5d (centos6-64-2) 13:46:44$  rm -rf /tmp/puppet-ssl-3961.cdUrYU  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * generate a certificate in /tmp/puppet-ssl-3961.cdUrYU

t21rjumdkqr2x5d (centos6-64-2) 13:46:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet cert --confdir=/tmp/puppet-ssl-3961.cdUrYU --vardir=/tmp/puppet-ssl-3961.cdUrYU --trace --generate working3961.example.org
Notice: Signed certificate request for ca
Notice: working3961.example.org has a waiting certificate request
Notice: Signed certificate request for working3961.example.org
Notice: Removing file Puppet::SSL::CertificateRequest working3961.example.org at '/tmp/puppet-ssl-3961.cdUrYU/ssl/ca/requests/working3961.example.org.pem'
Notice: Removing file Puppet::SSL::CertificateRequest working3961.example.org at '/tmp/puppet-ssl-3961.cdUrYU/ssl/certificate_requests/working3961.example.org.pem'

t21rjumdkqr2x5d (centos6-64-2) executed in 4.94 seconds

  * verify the certificate for working3961.example.org exists

t21rjumdkqr2x5d (centos6-64-2) 13:46:49$  test -f /tmp/puppet-ssl-3961.cdUrYU/ssl/certs/working3961.example.org.pem  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * verify the private key for working3961.example.org exists

t21rjumdkqr2x5d (centos6-64-2) 13:46:49$  grep -q 'BEGIN RSA PRIVATE KEY' /tmp/puppet-ssl-3961.cdUrYU/ssl/private_keys/working3961.example.org.pem  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_4059_ralsh_can_change_settings.rb" time="2.578632"><system-out><![CDATA[
#4059: ralsh can change settings

n6vo88vhlunm0j0 (centos6-64-1) 13:46:49$  mktemp -t hosts-#4059.XXXXXX  
/tmp/hosts-#4059.OCos5g

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

  * cleanup the target file

n6vo88vhlunm0j0 (centos6-64-1) 13:46:49$  rm -f /tmp/hosts-#4059.OCos5g  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * run the resource agent

n6vo88vhlunm0j0 (centos6-64-1) 13:46:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host example.com ensure=present ip=127.0.0.1 target=/tmp/hosts-#4059.OCos5g
Notice: /Host[example.com]/ensure: created
host { 'example.com':
  ensure => 'present',
  ip     => '127.0.0.1',
  target => '/tmp/hosts-#4059.OCos5g',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.26 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:46:50$  cat /tmp/hosts-#4059.OCos5g  
# HEADER: This file was autogenerated at Wed Jun 18 13:46:50 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.1	example.com

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

  * cleanup at the end of the test

n6vo88vhlunm0j0 (centos6-64-1) 13:46:50$  rm -f /tmp/hosts-#4059.OCos5g  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:50$  mktemp -t hosts-#4059.XXXXXX  
/tmp/hosts-#4059.xylRnU

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * cleanup the target file

t21rjumdkqr2x5d (centos6-64-2) 13:46:50$  rm -f /tmp/hosts-#4059.xylRnU  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds

  * run the resource agent

t21rjumdkqr2x5d (centos6-64-2) 13:46:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  host example.com ensure=present ip=127.0.0.1 target=/tmp/hosts-#4059.xylRnU
Notice: /Host[example.com]/ensure: created
host { 'example.com':
  ensure => 'present',
  ip     => '127.0.0.1',
  target => '/tmp/hosts-#4059.xylRnU',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.06 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:51$  cat /tmp/hosts-#4059.xylRnU  
# HEADER: This file was autogenerated at Wed Jun 18 13:46:51 -0700 2014
# HEADER: by puppet.  While it can still be managed manually, it
# HEADER: is definitely not recommended.
127.0.0.1	example.com

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * cleanup at the end of the test

t21rjumdkqr2x5d (centos6-64-2) 13:46:51$  rm -f /tmp/hosts-#4059.xylRnU  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_4110_puppet_apply_should_not_create_a_user_that_already_exists.rb" time="4.825414"><system-out><![CDATA[
#4110: puppet apply should not create a user that already exists

n6vo88vhlunm0j0 (centos6-64-1) 13:46:51$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.UujWCw

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-4ihb0q centos6-64-1:/tmp/apply_manifest.pp.UujWCw {}

n6vo88vhlunm0j0 (centos6-64-1) 13:46:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.UujWCw
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.23 seconds
Info: Applying configuration version '1403124413'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.37 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:54$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.0JfnDD

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1uvnajn centos6-64-2:/tmp/apply_manifest.pp.0JfnDD {}

t21rjumdkqr2x5d (centos6-64-2) 13:46:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0JfnDD
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403124415'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.19 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_4233_resource_with_a_newline.rb" time="4.862307"><system-out><![CDATA[
#4233: resource with a newline

n6vo88vhlunm0j0 (centos6-64-1) 13:46:56$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ArUHa1

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1tmxe3s centos6-64-1:/tmp/apply_manifest.pp.ArUHa1 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:46:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ArUHa1
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403124418'
Notice: /Stage[main]/Main/Exec[/bin/echo -e "\nHello World\n"]/returns: executed successfully
Notice: Finished catalog run in 0.26 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.23 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:46:59$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.bsOYYF

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1p7v7h7 centos6-64-2:/tmp/apply_manifest.pp.bsOYYF {}

t21rjumdkqr2x5d (centos6-64-2) 13:46:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bsOYYF
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403124420'
Notice: /Stage[main]/Main/Exec[/bin/echo -e "\nHello World\n"]/returns: executed successfully
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.37 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_4285_file_resource_fail_when_name_defined_instead_of_path.rb" time="5.459604"><system-out><![CDATA[
Bug #4285: ArgumentError: Cannot alias File[mytitle] to [nil]

n6vo88vhlunm0j0 (centos6-64-1) 13:47:01$  mktemp -dt 4285-aliasing.XXXXXX  
/tmp/4285-aliasing.a5r8g1

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:47:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.mGGDjS

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.08 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1muxbw2 centos6-64-1:/tmp/apply_manifest.pp.mGGDjS {}

n6vo88vhlunm0j0 (centos6-64-1) 13:47:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.mGGDjS
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403124423'
Notice: /Stage[main]/Main/File[file1]/ensure: created
Notice: /Stage[main]/Main/File[file2]/ensure: created
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.17 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:47:03$  mktemp -dt 4285-aliasing.XXXXXX  
/tmp/4285-aliasing.Ptubk3

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:47:03$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.aOqz8K

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-cnqur centos6-64-2:/tmp/apply_manifest.pp.aOqz8K {}

t21rjumdkqr2x5d (centos6-64-2) 13:47:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.aOqz8K
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403124425'
Notice: /Stage[main]/Main/File[file1]/ensure: created
Notice: /Stage[main]/Main/File[file2]/ensure: created
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.89 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_4287_undefined_method_evaluate_match_when_function_call_used_in_an_if_statement.rb" time="5.398962"><system-out><![CDATA[
Bug #4287: undefined method 'evaluate_match' when function call used in an 'if' statement

n6vo88vhlunm0j0 (centos6-64-1) 13:47:06$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.zeGxfA

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1l3v6v7 centos6-64-1:/tmp/apply_manifest.pp.zeGxfA {}

n6vo88vhlunm0j0 (centos6-64-1) 13:47:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.zeGxfA
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403124428'
Notice: No issue here...
Notice: /Stage[main]/Main/Notify[No issue here...]/message: defined 'message' as 'No issue here...'
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.07 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:47:09$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.FERqb9

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-6s50uv centos6-64-2:/tmp/apply_manifest.pp.FERqb9 {}

t21rjumdkqr2x5d (centos6-64-2) 13:47:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.FERqb9
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403124431'
Notice: No issue here...
Notice: /Stage[main]/Main/Notify[No issue here...]/message: defined 'message' as 'No issue here...'
Notice: Finished catalog run in 0.12 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.06 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_4289_facter_should_recognize_OEL_operatingsystemrelease.rb" time="0.310992"><system-out><![CDATA[
#4289: facter should recognize OEL operatingsystemrelease

  * determine the operating system of n6vo88vhlunm0j0

n6vo88vhlunm0j0 (centos6-64-1) 13:47:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  operatingsystem
CentOS

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.15 seconds

  * determine the operating system of t21rjumdkqr2x5d

t21rjumdkqr2x5d (centos6-64-2) 13:47:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  operatingsystem
CentOS

t21rjumdkqr2x5d (centos6-64-2) executed in 0.15 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_4293_define_and_use_a_define_within_a_class.rb" time="4.970097"><system-out><![CDATA[
n6vo88vhlunm0j0 (centos6-64-1) 13:47:12$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.9blZ3n

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1sujefi centos6-64-1:/tmp/apply_manifest.pp.9blZ3n {}

n6vo88vhlunm0j0 (centos6-64-1) 13:47:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.9blZ3n
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403124434'
Notice: Message for test_one: a_message_for_you
Notice: /Stage[main]/Foo/Foo::Do_notify[test_one]/Notify[Message for test_one: a_message_for_you]/message: defined 'message' as 'Message for test_one: a_message_for_you'
Notice: Finished catalog run in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.51 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:47:15$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.n7DOaQ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1elw597 centos6-64-2:/tmp/apply_manifest.pp.n7DOaQ {}

t21rjumdkqr2x5d (centos6-64-2) 13:47:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.n7DOaQ
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Info: Applying configuration version '1403124436'
Notice: Message for test_one: a_message_for_you
Notice: /Stage[main]/Foo/Foo::Do_notify[test_one]/Notify[Message for test_one: a_message_for_you]/message: defined 'message' as 'Message for test_one: a_message_for_you'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.04 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_4404_should_allow_stage_main_on_left_side_of_relationship.rb" time="5.727481"><system-out><![CDATA[
n6vo88vhlunm0j0 (centos6-64-1) 13:47:17$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.LyiQZG

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1f1ix1w centos6-64-1:/tmp/apply_manifest.pp.LyiQZG {}

n6vo88vhlunm0j0 (centos6-64-1) 13:47:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LyiQZG
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403124439'
Notice: class one, first stage
Notice: /Stage[pre]/One/Notify[class one, first stage]/message: defined 'message' as 'class one, first stage'
Notice: class two, second stage
Notice: /Stage[main]/Two/Notify[class two, second stage]/message: defined 'message' as 'class two, second stage'
Notice: class three, third stage
Notice: /Stage[post]/Three/Notify[class three, third stage]/message: defined 'message' as 'class three, third stage'
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.74 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:47:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.SSZ5R5

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-12dsbya centos6-64-2:/tmp/apply_manifest.pp.SSZ5R5 {}

t21rjumdkqr2x5d (centos6-64-2) 13:47:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SSZ5R5
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403124442'
Notice: class one, first stage
Notice: /Stage[pre]/One/Notify[class one, first stage]/message: defined 'message' as 'class one, first stage'
Notice: class two, second stage
Notice: /Stage[main]/Two/Notify[class two, second stage]/message: defined 'message' as 'class two, second stage'
Notice: class three, third stage
Notice: /Stage[post]/Three/Notify[class three, third stage]/message: defined 'message' as 'class three, third stage'
Notice: Finished catalog run in 0.13 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.72 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_4423_cannot_declare_two_parameterized_classes.rb" time="26.342908"><system-out><![CDATA[
#4423: cannot declare two parameterized classes

  * Declaring one parameterized class works just fine

n6vo88vhlunm0j0 (centos6-64-1) 13:47:23$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.yOWyde

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-18733zu centos6-64-1:/tmp/apply_manifest.pp.yOWyde {}

n6vo88vhlunm0j0 (centos6-64-1) 13:47:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yOWyde
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403124444'
Notice: Color is [green]
Notice: /Stage[main]/Rainbow/Notify[color]/message: defined 'message' as 'Color is [green]'
Notice: Finished catalog run in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.08 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:47:25$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.AncEvX

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1x5u9n4 centos6-64-2:/tmp/apply_manifest.pp.AncEvX {}

t21rjumdkqr2x5d (centos6-64-2) 13:47:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.AncEvX
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403124448'
Notice: Color is [green]
Notice: /Stage[main]/Rainbow/Notify[color]/message: defined 'message' as 'Color is [green]'
Notice: Finished catalog run in 0.12 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 4.00 seconds

  * Make sure we try both classes stand-alone

n6vo88vhlunm0j0 (centos6-64-1) 13:47:29$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.5kERT9

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.12 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1f6qjc6 centos6-64-1:/tmp/apply_manifest.pp.5kERT9 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:47:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.5kERT9
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403124451'
Notice: Moons are [1]
Notice: /Stage[main]/Planet/Notify[planet]/message: defined 'message' as 'Moons are [1]'
Notice: Finished catalog run in 0.13 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.71 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:47:32$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.XYJJiv

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-16t5ors centos6-64-2:/tmp/apply_manifest.pp.XYJJiv {}

t21rjumdkqr2x5d (centos6-64-2) 13:47:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XYJJiv
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403124454'
Notice: Moons are [1]
Notice: /Stage[main]/Planet/Notify[planet]/message: defined 'message' as 'Moons are [1]'
Notice: Finished catalog run in 2.41 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 5.15 seconds

  * Putting both classes in the same manifest should work.

n6vo88vhlunm0j0 (centos6-64-1) 13:47:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.u7c3j4

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-xjrxs5 centos6-64-1:/tmp/apply_manifest.pp.u7c3j4 {}

n6vo88vhlunm0j0 (centos6-64-1) 13:47:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.u7c3j4
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403124459'
Notice: Color is [green]
Notice: /Stage[main]/Rainbow/Notify[color]/message: defined 'message' as 'Color is [green]'
Notice: Moons are [1]
Notice: /Stage[main]/Planet/Notify[planet]/message: defined 'message' as 'Moons are [1]'
Notice: Finished catalog run in 0.15 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.60 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:47:40$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.4KzglX

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-k4iyc3 centos6-64-2:/tmp/apply_manifest.pp.4KzglX {}

t21rjumdkqr2x5d (centos6-64-2) 13:47:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4KzglX
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403124462'
Notice: Color is [green]
Notice: /Stage[main]/Rainbow/Notify[color]/message: defined 'message' as 'Color is [green]'
Notice: Moons are [1]
Notice: /Stage[main]/Planet/Notify[planet]/message: defined 'message' as 'Moons are [1]'
Notice: Finished catalog run in 0.16 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.27 seconds

  * Putting both classes in the same manifest should work.

n6vo88vhlunm0j0 (centos6-64-1) 13:47:43$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ccL9lE

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1mqr59n centos6-64-1:/tmp/apply_manifest.pp.ccL9lE {}

n6vo88vhlunm0j0 (centos6-64-1) 13:47:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ccL9lE
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403124465'
Notice: pretty:[false] ugly:[true]
Notice: /Stage[main]/Rainbow::Type/Notify[rainbow::type]/message: defined 'message' as 'pretty:[false] ugly:[true]'
Notice: Color is [green]
Notice: /Stage[main]/Rainbow/Notify[color]/message: defined 'message' as 'Color is [green]'
Notice: Moons are [1]
Notice: /Stage[main]/Planet/Notify[planet]/message: defined 'message' as 'Moons are [1]'
Notice: prism:[true] water:[false]
Notice: /Stage[main]/Rainbow::Location/Notify[rainbow::location]/message: defined 'message' as 'prism:[true] water:[false]'
Notice: Finished catalog run in 0.20 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.48 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:47:46$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ANXTWU

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1oq1moz centos6-64-2:/tmp/apply_manifest.pp.ANXTWU {}

t21rjumdkqr2x5d (centos6-64-2) 13:47:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ANXTWU
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.05 seconds
Info: Applying configuration version '1403124468'
Notice: pretty:[false] ugly:[true]
Notice: /Stage[main]/Rainbow::Type/Notify[rainbow::type]/message: defined 'message' as 'pretty:[false] ugly:[true]'
Notice: Color is [green]
Notice: /Stage[main]/Rainbow/Notify[color]/message: defined 'message' as 'Color is [green]'
Notice: Moons are [1]
Notice: /Stage[main]/Planet/Notify[planet]/message: defined 'message' as 'Moons are [1]'
Notice: prism:[true] water:[false]
Notice: /Stage[main]/Rainbow::Location/Notify[rainbow::location]/message: defined 'message' as 'prism:[true] water:[false]'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.80 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_5477_master_not_dectect_sitepp.rb" time="26.577657"><system-out><![CDATA[
Ticket 5477, Puppet Master does not detect newly created site.pp file

n6vo88vhlunm0j0 (centos6-64-1) 13:47:49$  mktemp -dt missing_site_pp.XXXXXX  
/tmp/missing_site_pp.68WXjU

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:47:49$  chmod 777 /tmp/missing_site_pp.68WXjU  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:47:49$  rm -f /tmp/missing_site_pp.68WXjU/site.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:47:49$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:47:49$  cp /etc/puppet/puppet.conf /tmp/missing_site_pp.68WXjU/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:47:49$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-tb37qp centos6-64-1:/tmp/missing_site_pp.68WXjU/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:47:50$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
manifest = /tmp/missing_site_pp.68WXjU/site.pp
node_terminus = plain
filetimeout = 1

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:47:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.72 seconds
Waiting for the puppet master to start
The puppet master has started

  * Agent: agent --test

n6vo88vhlunm0j0 (centos6-64-1) 13:47:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403124475'
Notice: Finished catalog run in 0.11 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.08 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:47:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403124475'
Notice: Finished catalog run in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.57 seconds

  * Master: create basic site.pp file
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xamcpl centos6-64-1:/tmp/missing_site_pp.68WXjU/site.pp {}

n6vo88vhlunm0j0 (centos6-64-1) 13:47:59$  chmod 644 /tmp/missing_site_pp.68WXjU/site.pp  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * Agent: puppet agent --test

n6vo88vhlunm0j0 (centos6-64-1) 13:48:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Warning: Setting manifest is deprecated in puppet.conf. See http://links.puppetlabs.com/env-settings-deprecations
   (at /usr/lib/ruby/site_ruby/1.8/puppet/settings.rb:1095:in `issue_deprecations')
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403124487'
Notice: ticket_5477_notify
Notice: /Stage[main]/Main/Notify[ticket_5477_notify]/message: defined 'message' as 'ticket_5477_notify'
Notice: Finished catalog run in 0.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 4.46 seconds
Exited: 2

t21rjumdkqr2x5d (centos6-64-2) 13:48:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403124487'
Notice: ticket_5477_notify
Notice: /Stage[main]/Main/Notify[ticket_5477_notify]/message: defined 'message' as 'ticket_5477_notify'
Notice: Finished catalog run in 0.06 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 7.96 seconds
Exited: 2

n6vo88vhlunm0j0 (centos6-64-1) 13:48:15$  if [ -f '/tmp/missing_site_pp.68WXjU/puppet.conf.bak' ]; then cat '/tmp/missing_site_pp.68WXjU/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/missing_site_pp.68WXjU/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:15$  cat `puppet master --configprint pidfile`  
30332
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.76 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:16$  kill 30332  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:16$  kill -0 30332  
bash: line 0: kill: (30332) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_6418_file_recursion_and_audit.rb" time="6.520359"><system-out><![CDATA[
#6418: file recursion and audit

n6vo88vhlunm0j0 (centos6-64-1) 13:48:16$  mktemp -dt 6418-recurse-audit.XXXXXX  
/tmp/6418-recurse-audit.9kJDfz

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Query agent for statefile

n6vo88vhlunm0j0 (centos6-64-1) 13:48:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint statefile
/var/lib/puppet/state/state.yaml

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.87 seconds

  * Remove the statefile on the agent

n6vo88vhlunm0j0 (centos6-64-1) 13:48:17$  rm -f '/var/lib/puppet/state/state.yaml'  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.05 seconds

  * Apply the manifest

n6vo88vhlunm0j0 (centos6-64-1) 13:48:17$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Q3gdsB

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-14e3m2p centos6-64-1:/tmp/apply_manifest.pp.Q3gdsB {}

n6vo88vhlunm0j0 (centos6-64-1) 13:48:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Q3gdsB
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403124498'
Notice: /Stage[main]/Main/File[/tmp/6418-recurse-audit.9kJDfz/6418]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/6418-recurse-audit.9kJDfz/6418/dir]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/6418-recurse-audit.9kJDfz/6418/dir/dir]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/6418-recurse-audit.9kJDfz/6418/dir/dir/dir]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/6418-recurse-audit.9kJDfz/6418-copy]/ensure: created
Info: Creating state file /var/lib/puppet/state/state.yaml
Notice: Finished catalog run in 0.08 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.25 seconds

  * Verify correct file recursion and audit state

n6vo88vhlunm0j0 (centos6-64-1) 13:48:19$  grep ensure.*directory '/var/lib/puppet/state/state.yaml'  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:48:19$  mktemp -dt 6418-recurse-audit.XXXXXX  
/tmp/6418-recurse-audit.KXaEdD

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * Query agent for statefile

t21rjumdkqr2x5d (centos6-64-2) 13:48:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --configprint statefile
/var/lib/puppet/state/state.yaml

t21rjumdkqr2x5d (centos6-64-2) executed in 0.64 seconds

  * Remove the statefile on the agent

t21rjumdkqr2x5d (centos6-64-2) 13:48:20$  rm -f '/var/lib/puppet/state/state.yaml'  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * Apply the manifest

t21rjumdkqr2x5d (centos6-64-2) 13:48:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.DcdWcQ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-rxg92r centos6-64-2:/tmp/apply_manifest.pp.DcdWcQ {}

t21rjumdkqr2x5d (centos6-64-2) 13:48:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DcdWcQ
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403124501'
Notice: /Stage[main]/Main/File[/tmp/6418-recurse-audit.KXaEdD/6418]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/6418-recurse-audit.KXaEdD/6418/dir]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/6418-recurse-audit.KXaEdD/6418/dir/dir]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/6418-recurse-audit.KXaEdD/6418/dir/dir/dir]/ensure: created
Notice: /Stage[main]/Main/File[/tmp/6418-recurse-audit.KXaEdD/6418-copy]/ensure: created
Info: Creating state file /var/lib/puppet/state/state.yaml
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.25 seconds

  * Verify correct file recursion and audit state

t21rjumdkqr2x5d (centos6-64-2) 13:48:22$  grep ensure.*directory '/var/lib/puppet/state/state.yaml'  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_6541_invalid_filebucket_files.rb" time="23.168013"><system-out><![CDATA[
#6541: file type truncates target when filebucket cannot retrieve hash

n6vo88vhlunm0j0 (centos6-64-1) 13:48:22$  mktemp -t 6541-target.XXXXXX  
/tmp/6541-target.6Tz3BA

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:22$ rm -rf /var/lib/puppet/*bucket

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.13 seconds

  * write zero length file

n6vo88vhlunm0j0 (centos6-64-1) 13:48:22$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.rASSbl

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-xprqa5 centos6-64-1:/tmp/apply_manifest.pp.rASSbl {}

n6vo88vhlunm0j0 (centos6-64-1) 13:48:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.rASSbl
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403124504'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.01 seconds

  * overwrite file, causing zero-length file to be backed up

n6vo88vhlunm0j0 (centos6-64-1) 13:48:25$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.gAmDAN

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-e4igw0 centos6-64-1:/tmp/apply_manifest.pp.gAmDAN {}

n6vo88vhlunm0j0 (centos6-64-1) 13:48:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.gAmDAN
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403124506'
Info: /Stage[main]/Main/File[/tmp/6541-target.6Tz3BA]: Filebucketed /tmp/6541-target.6Tz3BA to puppet with sum d41d8cd98f00b204e9800998ecf8427e
Notice: /Stage[main]/Main/File[/tmp/6541-target.6Tz3BA]/content: content changed '{md5}d41d8cd98f00b204e9800998ecf8427e' to '{md5}552e21cd4cd9918678e3c1a0df491bc3'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.27 seconds

verify invalid hashes should not change the file

n6vo88vhlunm0j0 (centos6-64-1) 13:48:27$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.9UiD2s

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xfusdb centos6-64-1:/tmp/apply_manifest.pp.9UiD2s {}

n6vo88vhlunm0j0 (centos6-64-1) 13:48:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.9UiD2s
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403124508'
Info: /Stage[main]/Main/File[/tmp/6541-target.6Tz3BA]: Filebucketed /tmp/6541-target.6Tz3BA to puppet with sum 552e21cd4cd9918678e3c1a0df491bc3
Error: Could not retrieve content for {md5}notahash from filebucket: Invalid checksum "notahash"
Wrapped exception:
Invalid checksum "notahash"
Error: /Stage[main]/Main/File[/tmp/6541-target.6Tz3BA]/content: change from {md5}552e21cd4cd9918678e3c1a0df491bc3 to {md5}notahash failed: Could not retrieve content for {md5}notahash from filebucket: Invalid checksum "notahash"
Notice: Finished catalog run in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.81 seconds

verify valid but unbucketed hashes should not change the file

n6vo88vhlunm0j0 (centos6-64-1) 13:48:29$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.iX51AG

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-17m8kx9 centos6-64-1:/tmp/apply_manifest.pp.iX51AG {}

n6vo88vhlunm0j0 (centos6-64-1) 13:48:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.iX51AG
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403124510'
Info: FileBucket got a duplicate file {md5}552e21cd4cd9918678e3c1a0df491bc3
Info: /Stage[main]/Main/File[/tmp/6541-target.6Tz3BA]: Filebucketed /tmp/6541-target.6Tz3BA to puppet with sum 552e21cd4cd9918678e3c1a0df491bc3
Error: Could not retrieve content for {md5}13ad7345d56b566a4408ffdcd877bc78 from filebucket: File not found
Wrapped exception:
File not found
Error: /Stage[main]/Main/File[/tmp/6541-target.6Tz3BA]/content: change from {md5}552e21cd4cd9918678e3c1a0df491bc3 to {md5}13ad7345d56b566a4408ffdcd877bc78 failed: Could not retrieve content for {md5}13ad7345d56b566a4408ffdcd877bc78 from filebucket: File not found
Notice: Finished catalog run in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.18 seconds

verify that an empty file can be retrieved from the filebucket

n6vo88vhlunm0j0 (centos6-64-1) 13:48:31$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.awlrAC

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1ppwhco centos6-64-1:/tmp/apply_manifest.pp.awlrAC {}

n6vo88vhlunm0j0 (centos6-64-1) 13:48:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.awlrAC
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Info: Applying configuration version '1403124513'
Info: FileBucket got a duplicate file {md5}552e21cd4cd9918678e3c1a0df491bc3
Info: /Stage[main]/Main/File[/tmp/6541-target.6Tz3BA]: Filebucketed /tmp/6541-target.6Tz3BA to puppet with sum 552e21cd4cd9918678e3c1a0df491bc3
Info: FileBucket read d41d8cd98f00b204e9800998ecf8427e
Notice: /Stage[main]/Main/File[/tmp/6541-target.6Tz3BA]/content: content changed '{md5}552e21cd4cd9918678e3c1a0df491bc3' to '{md5}d41d8cd98f00b204e9800998ecf8427e'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.97 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:48:33$  mktemp -t 6541-target.XXXXXX  
/tmp/6541-target.BGJby6

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:48:33$ rm -rf /var/lib/puppet/*bucket

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds

  * write zero length file

t21rjumdkqr2x5d (centos6-64-2) 13:48:33$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.L7AgS9

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-13aaayl centos6-64-2:/tmp/apply_manifest.pp.L7AgS9 {}

t21rjumdkqr2x5d (centos6-64-2) 13:48:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.L7AgS9
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403124515'
Notice: Finished catalog run in 0.07 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.14 seconds

  * overwrite file, causing zero-length file to be backed up

t21rjumdkqr2x5d (centos6-64-2) 13:48:36$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.NKvaTa

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-13laxfz centos6-64-2:/tmp/apply_manifest.pp.NKvaTa {}

t21rjumdkqr2x5d (centos6-64-2) 13:48:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.NKvaTa
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.11 seconds
Info: Applying configuration version '1403124517'
Info: /Stage[main]/Main/File[/tmp/6541-target.BGJby6]: Filebucketed /tmp/6541-target.BGJby6 to puppet with sum d41d8cd98f00b204e9800998ecf8427e
Notice: /Stage[main]/Main/File[/tmp/6541-target.BGJby6]/content: content changed '{md5}d41d8cd98f00b204e9800998ecf8427e' to '{md5}552e21cd4cd9918678e3c1a0df491bc3'
Notice: Finished catalog run in 0.08 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.19 seconds

verify invalid hashes should not change the file

t21rjumdkqr2x5d (centos6-64-2) 13:48:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.0ksO44

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-38clmn centos6-64-2:/tmp/apply_manifest.pp.0ksO44 {}

t21rjumdkqr2x5d (centos6-64-2) 13:48:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0ksO44
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.13 seconds
Info: Applying configuration version '1403124519'
Info: /Stage[main]/Main/File[/tmp/6541-target.BGJby6]: Filebucketed /tmp/6541-target.BGJby6 to puppet with sum 552e21cd4cd9918678e3c1a0df491bc3
Error: Could not retrieve content for {md5}notahash from filebucket: Invalid checksum "notahash"
Wrapped exception:
Invalid checksum "notahash"
Error: /Stage[main]/Main/File[/tmp/6541-target.BGJby6]/content: change from {md5}552e21cd4cd9918678e3c1a0df491bc3 to {md5}notahash failed: Could not retrieve content for {md5}notahash from filebucket: Invalid checksum "notahash"
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.60 seconds

verify valid but unbucketed hashes should not change the file

t21rjumdkqr2x5d (centos6-64-2) 13:48:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.2UtzjV

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1me2s59 centos6-64-2:/tmp/apply_manifest.pp.2UtzjV {}

t21rjumdkqr2x5d (centos6-64-2) 13:48:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.2UtzjV
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.12 seconds
Info: Applying configuration version '1403124522'
Info: FileBucket got a duplicate file {md5}552e21cd4cd9918678e3c1a0df491bc3
Info: /Stage[main]/Main/File[/tmp/6541-target.BGJby6]: Filebucketed /tmp/6541-target.BGJby6 to puppet with sum 552e21cd4cd9918678e3c1a0df491bc3
Error: Could not retrieve content for {md5}13ad7345d56b566a4408ffdcd877bc78 from filebucket: File not found
Wrapped exception:
File not found
Error: /Stage[main]/Main/File[/tmp/6541-target.BGJby6]/content: change from {md5}552e21cd4cd9918678e3c1a0df491bc3 to {md5}13ad7345d56b566a4408ffdcd877bc78 failed: Could not retrieve content for {md5}13ad7345d56b566a4408ffdcd877bc78 from filebucket: File not found
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.15 seconds

verify that an empty file can be retrieved from the filebucket

t21rjumdkqr2x5d (centos6-64-2) 13:48:43$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.bYLImn

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-swz092 centos6-64-2:/tmp/apply_manifest.pp.bYLImn {}

t21rjumdkqr2x5d (centos6-64-2) 13:48:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bYLImn
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.14 seconds
Info: Applying configuration version '1403124525'
Info: FileBucket got a duplicate file {md5}552e21cd4cd9918678e3c1a0df491bc3
Info: /Stage[main]/Main/File[/tmp/6541-target.BGJby6]: Filebucketed /tmp/6541-target.BGJby6 to puppet with sum 552e21cd4cd9918678e3c1a0df491bc3
Info: FileBucket read d41d8cd98f00b204e9800998ecf8427e
Notice: /Stage[main]/Main/File[/tmp/6541-target.BGJby6]/content: content changed '{md5}552e21cd4cd9918678e3c1a0df491bc3' to '{md5}d41d8cd98f00b204e9800998ecf8427e'
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.37 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_6710_relationship_syntax_should_work_with_title_arrays.rb" time="4.587692"><system-out><![CDATA[
#6710: Relationship syntax should work with title arrays

n6vo88vhlunm0j0 (centos6-64-1) 13:48:45$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.aGsMCs

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1opu1va centos6-64-1:/tmp/apply_manifest.pp.aGsMCs {}

n6vo88vhlunm0j0 (centos6-64-1) 13:48:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.aGsMCs
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403124527'
Notice: left_one
Notice: /Stage[main]/Main/Notify[left_one]/message: defined 'message' as 'left_one'
Notice: left_two
Notice: /Stage[main]/Main/Notify[left_two]/message: defined 'message' as 'left_two'
Notice: left_one_to_many
Notice: /Stage[main]/Main/Notify[left_one_to_many]/message: defined 'message' as 'left_one_to_many'
Notice: right_one_to_many_1
Notice: /Stage[main]/Main/Notify[right_one_to_many_1]/message: defined 'message' as 'right_one_to_many_1'
Notice: left
Notice: /Stage[main]/Main/Notify[left]/message: defined 'message' as 'left'
Notice: right
Notice: /Stage[main]/Main/Notify[right]/message: defined 'message' as 'right'
Notice: right_two
Notice: /Stage[main]/Main/Notify[right_two]/message: defined 'message' as 'right_two'
Notice: right_one
Notice: /Stage[main]/Main/Notify[right_one]/message: defined 'message' as 'right_one'
Notice: right_one_to_many_2
Notice: /Stage[main]/Main/Notify[right_one_to_many_2]/message: defined 'message' as 'right_one_to_many_2'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.29 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:48:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.K3RJKF

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ardzsv centos6-64-2:/tmp/apply_manifest.pp.K3RJKF {}

t21rjumdkqr2x5d (centos6-64-2) 13:48:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.K3RJKF
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.04 seconds
Info: Applying configuration version '1403124529'
Notice: left_one
Notice: /Stage[main]/Main/Notify[left_one]/message: defined 'message' as 'left_one'
Notice: left_two
Notice: /Stage[main]/Main/Notify[left_two]/message: defined 'message' as 'left_two'
Notice: left_one_to_many
Notice: /Stage[main]/Main/Notify[left_one_to_many]/message: defined 'message' as 'left_one_to_many'
Notice: right_one_to_many_1
Notice: /Stage[main]/Main/Notify[right_one_to_many_1]/message: defined 'message' as 'right_one_to_many_1'
Notice: left
Notice: /Stage[main]/Main/Notify[left]/message: defined 'message' as 'left'
Notice: right
Notice: /Stage[main]/Main/Notify[right]/message: defined 'message' as 'right'
Notice: right_two
Notice: /Stage[main]/Main/Notify[right_two]/message: defined 'message' as 'right_two'
Notice: right_one
Notice: /Stage[main]/Main/Notify[right_one]/message: defined 'message' as 'right_one'
Notice: right_one_to_many_2
Notice: /Stage[main]/Main/Notify[right_one_to_many_2]/message: defined 'message' as 'right_one_to_many_2'
Notice: Finished catalog run in 0.09 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.97 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_6734_6256_5530_5503.rb" time="4.445899"><system-out><![CDATA[
Tickets 6734 6256 5530 5503i Puppet Master fails to start

n6vo88vhlunm0j0 (centos6-64-1) 13:48:50$  mktemp -dt ticket_6734_6256_5530_5503.rb.XXXXXX  
/tmp/ticket_6734_6256_5530_5503.rb.gS3lYf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:50$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:50$  cp /etc/puppet/puppet.conf /tmp/ticket_6734_6256_5530_5503.rb.gS3lYf/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:50$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-196ts77 centos6-64-1:/tmp/ticket_6734_6256_5530_5503.rb.gS3lYf/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:50$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.84 seconds
Waiting for the puppet master to start
The puppet master has started

  * Check permissions on puppet/rrd/

n6vo88vhlunm0j0 (centos6-64-1) 13:48:53$  ls -l /var/lib/puppet | grep rrd | awk '{print $3" "$4}'  
puppet puppet

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:53$  if [ -f '/tmp/ticket_6734_6256_5530_5503.rb.gS3lYf/puppet.conf.bak' ]; then cat '/tmp/ticket_6734_6256_5530_5503.rb.gS3lYf/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/ticket_6734_6256_5530_5503.rb.gS3lYf/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:53$  cat `puppet master --configprint pidfile`  
31490
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.67 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:53$  kill 31490  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:53$  kill -0 31490  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:54$  kill -0 31490  
bash: line 0: kill: (31490) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_6857_password-disclosure-when-changing-a-users-password.rb" time="11.144907"><system-out><![CDATA[
#6857: redact password hashes when applying in noop mode

n6vo88vhlunm0j0 (centos6-64-1) 13:48:55$  /usr/bin/ruby -e 'require "shadow" or raise'  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:48:55$  /usr/bin/ruby -e 'require "shadow" or raise'  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:48:55$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.Sbk2eO

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1nz8cd0 centos6-64-1:/tmp/apply_manifest.pp.Sbk2eO {}

n6vo88vhlunm0j0 (centos6-64-1) 13:48:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Sbk2eO
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403124536'
Notice: /Stage[main]/Main/User[passwordtestuser]/ensure: created
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.29 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:48:57$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.TNK7ZE

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-q4n0us centos6-64-2:/tmp/apply_manifest.pp.TNK7ZE {}

t21rjumdkqr2x5d (centos6-64-2) 13:48:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.TNK7ZE
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.29 seconds
Info: Applying configuration version '1403124539'
Notice: /Stage[main]/Main/User[passwordtestuser]/ensure: created
Notice: Finished catalog run in 0.22 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.37 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:01$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ukaIvP

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1qftceh centos6-64-1:/tmp/apply_manifest.pp.ukaIvP {}

n6vo88vhlunm0j0 (centos6-64-1) 13:49:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ukaIvP
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403124542'
Notice: /Stage[main]/Main/User[passwordtestuser]/password: current_value [old password hash redacted], should be [new password hash redacted] (noop)
Notice: Class[Main]: Would have triggered 'refresh' from 1 events
Notice: Stage[main]: Would have triggered 'refresh' from 1 events
Notice: Finished catalog run in 0.10 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.35 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:03$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.v4YWk6

t21rjumdkqr2x5d (centos6-64-2) executed in 0.07 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-v3910x centos6-64-2:/tmp/apply_manifest.pp.v4YWk6 {}

t21rjumdkqr2x5d (centos6-64-2) 13:49:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.v4YWk6
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Info: Applying configuration version '1403124545'
Notice: /Stage[main]/Main/User[passwordtestuser]/password: current_value [old password hash redacted], should be [new password hash redacted] (noop)
Notice: Class[Main]: Would have triggered 'refresh' from 1 events
Notice: Stage[main]: Would have triggered 'refresh' from 1 events
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.49 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_6907_use_provider_in_same_run_it_becomes_suitable.rb" time="4.507374"><system-out><![CDATA[
providers should be useable in the same run they become suitable

n6vo88vhlunm0j0 (centos6-64-1) 13:49:06$  mktemp -dt provider-6907.XXXXXX  
/tmp/provider-6907.Jsgswk

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:06$  mkdir -p /tmp/provider-6907.Jsgswk/lib/puppet/{type,provider/test6907}  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:06$  cat > /tmp/provider-6907.Jsgswk/lib/puppet/type/test6907.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:06$  cat > /tmp/provider-6907.Jsgswk/lib/puppet/provider/test6907/only.rb  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --libdir /tmp/provider-6907.Jsgswk/lib --trace
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.08 seconds
Notice: /Stage[main]/Main/File[/tmp/provider-6907.Jsgswk/must_exist.exe]/ensure: created
Notice: /Stage[main]/Main/Test6907[test-6907]/file: file changed 'not correct' to '/tmp/provider-6907.Jsgswk/test_file'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.94 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:08$  ls /tmp/provider-6907.Jsgswk/test_file  
/tmp/provider-6907.Jsgswk/test_file

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:08$  mktemp -dt provider-6907.XXXXXX  
/tmp/provider-6907.CHZtnl

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:08$  mkdir -p /tmp/provider-6907.CHZtnl/lib/puppet/{type,provider/test6907}  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:08$  cat > /tmp/provider-6907.CHZtnl/lib/puppet/type/test6907.rb  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:08$  cat > /tmp/provider-6907.CHZtnl/lib/puppet/provider/test6907/only.rb  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --libdir /tmp/provider-6907.CHZtnl/lib --trace
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.15 seconds
Notice: /Stage[main]/Main/File[/tmp/provider-6907.CHZtnl/must_exist.exe]/ensure: created
Notice: /Stage[main]/Main/Test6907[test-6907]/file: file changed 'not correct' to '/tmp/provider-6907.CHZtnl/test_file'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.25 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:10$  ls /tmp/provider-6907.CHZtnl/test_file  
/tmp/provider-6907.CHZtnl/test_file

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_6928_puppet_master_parse_fails.rb" time="6.750313"><system-out><![CDATA[
#6928: Puppet --parseonly should return deprication message

  * Master: create valid, invalid formatted manifests
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-mit46q centos6-64-1:/tmp/good.pp {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-ejm9ye centos6-64-1:/tmp/bad.pp {}

  * Master: use --parseonly on an invalid manifest, should return 1 and issue deprecation warning

n6vo88vhlunm0j0 (centos6-64-1) 13:49:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  --parseonly /tmp/bad.pp
--parseonly has been removed. Please use 'puppet parser validate <manifest>'

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.63 seconds
Exited: 1

  * Agents: create valid, invalid formatted manifests

n6vo88vhlunm0j0 (centos6-64-1) 13:49:11$  mktemp -t good-6928.XXXXXX  
/tmp/good-6928.8LLdgc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:11$  mktemp -t bad-6928.XXXXXX  
/tmp/bad-6928.XaNeX6

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1n4vndy centos6-64-1:/tmp/good-6928.8LLdgc {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10v5j4l centos6-64-1:/tmp/bad-6928.XaNeX6 {}

  * Agents: use --parseonly on an invalid manifest, should return 1 and issue deprecation warning

n6vo88vhlunm0j0 (centos6-64-1) 13:49:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --parseonly /tmp/bad-6928.XaNeX6
--parseonly has been removed. Please use 'puppet parser validate <manifest>'

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.59 seconds
Exited: 1

  * Test Face for 'parser validate' with good manifest -- should pass

n6vo88vhlunm0j0 (centos6-64-1) 13:49:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet parser  validate /tmp/good-6928.8LLdgc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.63 seconds

  * Test Faces for 'parser validate' with bad manifest -- should fail

n6vo88vhlunm0j0 (centos6-64-1) 13:49:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet parser  validate /tmp/bad-6928.XaNeX6
Error: Could not parse for environment production: Syntax error at end of file; expected '}' at /tmp/bad-6928.XaNeX6:2

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.59 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:49:13$  mktemp -t good-6928.XXXXXX  
/tmp/good-6928.UMSiUM

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:13$  mktemp -t bad-6928.XXXXXX  
/tmp/bad-6928.Z8n9Wi

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-iro1mx centos6-64-2:/tmp/good-6928.UMSiUM {}
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xiu0nn centos6-64-2:/tmp/bad-6928.Z8n9Wi {}

  * Agents: use --parseonly on an invalid manifest, should return 1 and issue deprecation warning

t21rjumdkqr2x5d (centos6-64-2) 13:49:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --parseonly /tmp/bad-6928.Z8n9Wi
--parseonly has been removed. Please use 'puppet parser validate <manifest>'

t21rjumdkqr2x5d (centos6-64-2) executed in 0.74 seconds
Exited: 1

  * Test Face for 'parser validate' with good manifest -- should pass

t21rjumdkqr2x5d (centos6-64-2) 13:49:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet parser  validate /tmp/good-6928.UMSiUM

t21rjumdkqr2x5d (centos6-64-2) executed in 1.50 seconds

  * Test Faces for 'parser validate' with bad manifest -- should fail

t21rjumdkqr2x5d (centos6-64-2) 13:49:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet parser  validate /tmp/bad-6928.Z8n9Wi
Error: Could not parse for environment production: Syntax error at end of file; expected '}' at /tmp/bad-6928.Z8n9Wi:2

t21rjumdkqr2x5d (centos6-64-2) executed in 1.24 seconds
Exited: 1
]]></system-out><system-err><![CDATA[Error: Could not parse for environment production: Syntax error at end of file; expected '}' at /tmp/bad-6928.Z8n9Wi:2
]]></system-err></testcase><testcase classname="tests" name="ticket_7101_template_compile.rb" time="5.276088"><system-out><![CDATA[
#7101: template compile

n6vo88vhlunm0j0 (centos6-64-1) 13:49:17$  mktemp -t template_7101.erb.XXXXXX  
/tmp/template_7101.erb.ZcrP2R

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:17$  mktemp -t file_7101.erb.XXXXXX  
/tmp/file_7101.erb.vg7RCU

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.11 seconds

  * Agents: Create template file
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-10v4u1d centos6-64-1:/tmp/template_7101.erb.ZcrP2R {}

  * Run manifest referencing template file

n6vo88vhlunm0j0 (centos6-64-1) 13:49:17$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.iZxYmG

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xmc23s centos6-64-1:/tmp/apply_manifest.pp.iZxYmG {}

n6vo88vhlunm0j0 (centos6-64-1) 13:49:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.iZxYmG
Warning: Variable access via 'bar' is deprecated. Use '@bar' instead. template[/tmp/template_7101.erb.ZcrP2R]:2
   (at /tmp/template_7101.erb.ZcrP2R:2:in `result')
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403124559'
Info: FileBucket got a duplicate file {md5}d41d8cd98f00b204e9800998ecf8427e
Info: /Stage[main]/Main/File[/tmp/file_7101.erb.vg7RCU]: Filebucketed /tmp/file_7101.erb.vg7RCU to puppet with sum d41d8cd98f00b204e9800998ecf8427e
Notice: /Stage[main]/Main/File[/tmp/file_7101.erb.vg7RCU]/content: content changed '{md5}d41d8cd98f00b204e9800998ecf8427e' to '{md5}e51118464101dbdce3b6216ba1d766ae'
Notice: Finished catalog run in 0.07 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.18 seconds

  * Agents: Verify file is created with correct contents 

n6vo88vhlunm0j0 (centos6-64-1) 13:49:19$  cat /tmp/file_7101.erb.vg7RCU  
test 7101

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:19$  mktemp -t template_7101.erb.XXXXXX  
/tmp/template_7101.erb.GwJMI9

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:19$  mktemp -t file_7101.erb.XXXXXX  
/tmp/file_7101.erb.kF5Hv6

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

  * Agents: Create template file
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-oop1ib centos6-64-2:/tmp/template_7101.erb.GwJMI9 {}

  * Run manifest referencing template file

t21rjumdkqr2x5d (centos6-64-2) 13:49:20$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.jd6oDO

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1xoideg centos6-64-2:/tmp/apply_manifest.pp.jd6oDO {}

t21rjumdkqr2x5d (centos6-64-2) 13:49:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.jd6oDO
Warning: Variable access via 'bar' is deprecated. Use '@bar' instead. template[/tmp/template_7101.erb.GwJMI9]:2
   (at /tmp/template_7101.erb.GwJMI9:2:in `result')
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.16 seconds
Info: Applying configuration version '1403124561'
Info: FileBucket got a duplicate file {md5}d41d8cd98f00b204e9800998ecf8427e
Info: /Stage[main]/Main/File[/tmp/file_7101.erb.kF5Hv6]: Filebucketed /tmp/file_7101.erb.kF5Hv6 to puppet with sum d41d8cd98f00b204e9800998ecf8427e
Notice: /Stage[main]/Main/File[/tmp/file_7101.erb.kF5Hv6]/content: content changed '{md5}d41d8cd98f00b204e9800998ecf8427e' to '{md5}e51118464101dbdce3b6216ba1d766ae'
Notice: Finished catalog run in 0.13 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.39 seconds

  * Agents: Verify file is created with correct contents 

t21rjumdkqr2x5d (centos6-64-2) 13:49:22$  cat /tmp/file_7101.erb.kF5Hv6  
test 7101

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_7117_broke_env_criteria_authconf.rb" time="10.976267"><system-out><![CDATA[
#7117 Broke the environment criteria in auth.conf

n6vo88vhlunm0j0 (centos6-64-1) 13:49:22$  mktemp -dt env_in_auth_conf.XXXXXX  
/tmp/env_in_auth_conf.vwTmIv

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Create a temp auth.conf
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-oc6ktg centos6-64-1:/tmp/env_in_auth_conf.vwTmIv/auth.conf {}

n6vo88vhlunm0j0 (centos6-64-1) 13:49:22$  chmod 644 /tmp/env_in_auth_conf.vwTmIv/auth.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:22$  chmod 777 /tmp/env_in_auth_conf.vwTmIv  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:22$  test -e /etc/puppet/puppet.conf  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:22$  cp /etc/puppet/puppet.conf /tmp/env_in_auth_conf.vwTmIv/puppet.conf.bak  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:22$  cat /etc/puppet/puppet.conf  
[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

[agent]
    # The file in which puppetd stores a list of the classes
    # associated with the retrieved configuratiion.  Can be loaded in
    # the separate ``puppet`` executable using the ``--loadclasses``
    # option.
    # The default value is '$confdir/classes.txt'.
    classfile = $vardir/classes.txt

    # Where puppetd caches the local configuration.  An
    # extension indicating the cache format is added automatically.
    # The default value is '$confdir/localconfig'.
    localconfig = $vardir/localconfig

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1epykdv centos6-64-1:/tmp/env_in_auth_conf.vwTmIv/puppet.conf {}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:23$  cat /etc/puppet/puppet.conf  
[main]
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl

[agent]
classfile = $vardir/classes.txt
localconfig = $vardir/localconfig

[master]
rest_authconfig = /tmp/env_in_auth_conf.vwTmIv/auth.conf

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet master  

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.42 seconds
Waiting for the puppet master to start
The puppet master has started

  * Run agent to upload facts

n6vo88vhlunm0j0 (centos6-64-1) 13:49:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net
Info: Applying configuration version '1403124567'
Notice: Finished catalog run in 0.05 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.49 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  fqdn
n6vo88vhlunm0j0.delivery.puppetlabs.net

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.22 seconds

  * Fetch agent facts from Puppet Master

n6vo88vhlunm0j0 (centos6-64-1) 13:49:28$  curl -k -H "Accept: yaml" https://n6vo88vhlunm0j0:8140/override/facts/n6vo88vhlunm0j0.delivery.puppetlabs.net  
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0--- !ruby/object:Puppet::Node::Facts
  values: 
    operatingsystemrelease: "6.5"
    swapfree: "3.94 GB"
    hardwareisa: x86_64
    sshfp_rsa: |-
      SSHFP 1 1 c48ea7d5f6f38b3797e1e672f98ddf4d31796456
      SSHFP 1 2 b953c17a0af98e6fb1f3d06f2cc1e386a54e4868b2ea688ff950f4b8c5ed354a
    macaddress: "00:50:56:9B:80:20"
    uuid: "421B3CE2-6677-16C3-3989-DAE47E2DFEAA"
    uptime_hours: "1"
    blockdevice_sda_vendor: VMware
    "_timestamp": 2014-06-18 13:49:27.331067 -07:00
    memoryfree: "1.58 GB"
    netmask_eth0: "255.255.0.0"
    kernelversion: "2.6.32"
    architecture: x86_64
    processor0: "Intel(R) Xeon(R) CPU E5-2609 0 @ 2.40GHz"
    mtu_eth0: "1500"
    rubysitedir: /usr/lib/ruby/site_ruby/1.8
    domain: delivery.puppetlabs.net
    ipaddress_lo: "127.0.0.1"
    selinux_config_policy: targeted
    blockdevice_sdb_vendor: VMware
    swapsize: "3.94 GB"
    manufacturer: "VMware, Inc."
    kernelrelease: "2.6.32-431.11.2.el6.x86_64"
    memorysize_mb: "1877.21"
    sshdsakey: "AAAAB3NzaC1kc3MAAACBAJGJ+wHqAvYTv3VEzhPo3rwiaVxesMSstvufqZIYNLci54bEy7Dlq++scLFU7EjqhlnGG0HWZ+aHQpDY8TvvsRIw8Q9nyxHAonk0EtHu4RCF6MH1lo0IeAh12A0vEpaVgpQjKisfWuH/IQEi1wCCaVL0lsLc5CLe1wE+yKqWuyVrAAAAFQD+F89mMng0ZXHd9NKbsZO5LQ5vcQAAAIAN6ysU1N1SASyGwtWuAnkRKxusYgCpQ0L7hx7shXHiQ69WoQxzgUUb5AdF++kMQdplcqrD2MIf+6hk5o4kzkPTEJTpfl7l/qp2L6znDR5yjz+G4b499eD3UGmlLIOgb1R7v/mS7Q3Y0XYsh1nBJyupOiTIMT1g6f7pQkA/9eimgwAAAIAiqkmEyA+8HRxg02zyPVG3z0RBFQnqnjLO8GaVFLq+3j5HTYgHuyktn2Js2Qke0j8bJ7gs/9Zaxq2dxC9BCZV29VAtmp7DO6lZgh3qwvA1uUKraO2J5zzWZHhJ2c9/apGtySBeOD1lOgGiXLkn5x4R09kLs56f5n+ax2kVa4qs3A=="
    sshrsakey: "AAAAB3NzaC1yc2EAAAABIwAAAQEAr2ywcLVQDql7LcLz8DZvJLWuEdb86cwe/q8TVqd7E1V0fKvXhZBXUN1aGeuvY+ewfnlYh79ioDvslGCSh452caet3JljzhtU6mFtTpPm5FPofZ9a5SbR4oC5abFe8WH19KGI/HSsXEGqtNwNAcX6kfJSgcCRcPv+Jg0rO4Goncv8hLEv+ek+izVpuAPPBvgHN1QLlfSlN0rlYvn62WDs0ecYTGpmy03JisfYubefJ25roOFxakx8NAdajb1Ce5IV7GxEn5BSe9mjGPI4UvDFYtDEMeKhDl8eKxICfcei8X6uUfunr1N4kIjn3Q78aloCFhzn37OSI71rjmYISOq3JQ=="
    processorcount: "2"
    boardproductname: "440BX Desktop Reference Platform"
    blockdevice_sdb_model: "Virtual disk"
    ps: "ps -ef"
    macaddress_eth0: "00:50:56:9B:80:20"
    puppetversion: "3.6.2"
    id: root
    boardmanufacturer: "Intel Corporation"
    fqdn: n6vo88vhlunm0j0.delivery.puppetlabs.net
    blockdevice_sr0_vendor: NECVMWar
    netmask: "255.255.0.0"
    ipaddress: "10.18.82.75"
    uptime: "1:22 hours"
    hardwaremodel: x86_64
    timezone: PDT
    ipaddress_eth0: "10.18.82.75"
    clientversion: "3.6.2"
    selinux_current_mode: enforcing
    osfamily: RedHat
    physicalprocessorcount: "2"
    productname: "VMware Virtual Platform"
    blockdevice_sr0_model: "VMware IDE CDR10"
    selinux: "true"
    operatingsystemmajrelease: "6"
    virtual: vmware
    type: Other
    bios_vendor: "Phoenix Technologies LTD"
    uniqueid: "120a4b52"
    is_virtual: "true"
    path: "/usr/bin:/opt/puppet-git-repos/hiera/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin"
    selinux_policyversion: "24"
    sshfp_dsa: |-
      SSHFP 2 1 8ebb6d9078da9da416723cac88c46bca6fe0ec54
      SSHFP 2 2 fd2bf6b3b04a115a7c8368a7f7e7738cf41d9e4c3eaf13033a38a53fe119ac69
    mtu_lo: "16436"
    uptime_seconds: "4948"
    network_eth0: "10.18.0.0"
    serialnumber: "VMware-42 1b 3c e2 66 77 16 c3-39 89 da e4 7e 2d fe aa"
    blockdevice_sda_size: "8589934592"
    swapsize_mb: "4031.99"
    hostname: n6vo88vhlunm0j0
    filesystems: "ext4,iso9660"
    blockdevices: "sda,sdb,sr0"
    memorysize: "1.83 GB"
    operatingsystem: CentOS
    rubyversion: "1.8.7"
    processor1: "Intel(R) Xeon(R) CPU E5-2609 0 @ 2.40GHz"
    bios_version: "6.00"
    memoryfree_mb: "1616.50"
    clientcert: n6vo88vhlunm0j0.delivery.puppetlabs.net
    augeasversion: "1.0.0"
    blockdevice_sr0_size: "1073741312"
    selinux_config_mode: enforcing
    clientnoop: "false"
    kernel: Linux
    interfaces: "eth0,lo"
    netmask_lo: "255.0.0.0"
    facterversion: "2.0.2"
    bios_release_date: "07/30/2013"
    blockdevice_sda_model: "Virtual disk"
    swapfree_mb: "4031.99"
    network_lo: "127.0.0.0"
    100  4332  100  4332    0     0  23231      0 --:--:-- --:--:-- --:--:-- 50372
kernelmajversion: "2.6"
    selinux_enforced: "true"
    boardserialnumber: None
    uptime_days: "0"
    blockdevice_sdb_size: "8589934592"
  expiration: 2014-06-18 14:19:27.144827 -07:00
  name: n6vo88vhlunm0j0.delivery.puppetlabs.net
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.27 seconds

  * Run agent to upload facts

t21rjumdkqr2x5d (centos6-64-2) 13:49:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet agent  --test --server n6vo88vhlunm0j0
Info: Retrieving pluginfacts
Info: Retrieving plugin
Info: Caching catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net
Info: Applying configuration version '1403124567'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.17 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" facter  fqdn
t21rjumdkqr2x5d.delivery.puppetlabs.net

t21rjumdkqr2x5d (centos6-64-2) executed in 0.10 seconds

  * Fetch agent facts from Puppet Master

t21rjumdkqr2x5d (centos6-64-2) 13:49:31$  curl -k -H "Accept: yaml" https://n6vo88vhlunm0j0:8140/override/facts/t21rjumdkqr2x5d.delivery.puppetlabs.net  
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0--- !ruby/object:Puppet::Node::Facts
  values: 
    operatingsystemrelease: "6.5"
    swapfree: "3.94 GB"
    hardwareisa: x86_64
    sshfp_rsa: |-
      SSHFP 1 1 c48ea7d5f6f38b3797e1e672f98ddf4d31796456
      SSHFP 1 2 b953c17a0af98e6fb1f3d06f2cc1e386a54e4868b2ea688ff950f4b8c5ed354a
    macaddress: "00:50:56:9B:1B:02"
    uuid: "421BFC7A-2ADE-963B-4A09-1C357BDFAFC0"
    uptime_hours: "1"
    blockdevice_sda_vendor: VMware
    "_timestamp": 2014-06-18 13:49:31.474870 -07:00
    memoryfree: "1.65 GB"
    netmask_eth0: "255.255.0.0"
    architecture: x86_64
    kernelversion: "2.6.32"
    processor0: "Intel(R) Xeon(R) CPU E5-2609 0 @ 2.40GHz"
    mtu_eth0: "1500"
    domain: delivery.puppetlabs.net
    rubysitedir: /usr/lib/ruby/site_ruby/1.8
    ipaddress_lo: "127.0.0.1"
    selinux_config_policy: targeted
    blockdevice_sdb_vendor: VMware
    swapsize: "3.94 GB"
    manufacturer: "VMware, Inc."
    kernelrelease: "2.6.32-431.11.2.el6.x86_64"
    memorysize_mb: "1877.21"
    sshdsakey: "AAAAB3NzaC1kc3MAAACBAJGJ+wHqAvYTv3VEzhPo3rwiaVxesMSstvufqZIYNLci54bEy7Dlq++scLFU7EjqhlnGG0HWZ+aHQpDY8TvvsRIw8Q9nyxHAonk0EtHu4RCF6MH1lo0IeAh12A0vEpaVgpQjKisfWuH/IQEi1wCCaVL0lsLc5CLe1wE+yKqWuyVrAAAAFQD+F89mMng0ZXHd9NKbsZO5LQ5vcQAAAIAN6ysU1N1SASyGwtWuAnkRKxusYgCpQ0L7hx7shXHiQ69WoQxzgUUb5AdF++kMQdplcqrD2MIf+6hk5o4kzkPTEJTpfl7l/qp2L6znDR5yjz+G4b499eD3UGmlLIOgb1R7v/mS7Q3Y0XYsh1nBJyupOiTIMT1g6f7pQkA/9eimgwAAAIAiqkmEyA+8HRxg02zyPVG3z0RBFQnqnjLO8GaVFLq+3j5HTYgHuyktn2Js2Qke0j8bJ7gs/9Zaxq2dxC9BCZV29VAtmp7DO6lZgh3qwvA1uUKraO2J5zzWZHhJ2c9/apGtySBeOD1lOgGiXLkn5x4R09kLs56f5n+ax2kVa4qs3A=="
    processorcount: "2"
    sshrsakey: "AAAAB3NzaC1yc2EAAAABIwAAAQEAr2ywcLVQDql7LcLz8DZvJLWuEdb86cwe/q8TVqd7E1V0fKvXhZBXUN1aGeuvY+ewfnlYh79ioDvslGCSh452caet3JljzhtU6mFtTpPm5FPofZ9a5SbR4oC5abFe8WH19KGI/HSsXEGqtNwNAcX6kfJSgcCRcPv+Jg0rO4Goncv8hLEv+ek+izVpuAPPBvgHN1QLlfSlN0rlYvn62WDs0ecYTGpmy03JisfYubefJ25roOFxakx8NAdajb1Ce5IV7GxEn5BSe9mjGPI4UvDFYtDEMeKhDl8eKxICfcei8X6uUfunr1N4kIjn3Q78aloCFhzn37OSI71rjmYISOq3JQ=="
    boardproductname: "440BX Desktop Reference Platform"
    blockdevice_sdb_model: "Virtual disk"
    ps: "ps -ef"
    macaddress_eth0: "00:50:56:9B:1B:02"
    puppetversion: "3.6.2"
    id: root
    boardmanufacturer: "Intel Corporation"
    blockdevice_sr0_vendor: NECVMWar
    fqdn: t21rjumdkqr2x5d.delivery.puppetlabs.net
    netmask: "255.255.0.0"
    hardwaremodel: x86_64
    uptime: "1:39 hours"
    ipaddress: "10.18.101.161"
    timezone: PDT
    clientversion: "3.6.2"
    ipaddress_eth0: "10.18.101.161"
    selinux_current_mode: enforcing
    osfamily: RedHat
    physicalprocessorcount: "2"
    productname: "VMware Virtual Platform"
    blockdevice_sr0_model: "VMware IDE CDR10"
    selinux: "true"
    operatingsystemmajrelease: "6"
    virtual: vmware
    type: Other
    bios_vendor: "Phoenix Technologies LTD"
    uniqueid: "120aa165"
    path: "/usr/bin:/opt/puppet-git-repos/hiera/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin"
    is_virtual: "true"
    selinux_policyversion: "24"
    sshfp_dsa: |-
      SSHFP 2 1 8ebb6d9078da9da416723cac88c46bca6fe0ec54
      SSHFP 2 2 fd2bf6b3b04a115a7c8368a7f7e7738cf41d9e4c3eaf13033a38a53fe119ac69
    mtu_lo: "16436"
    network_eth0: "10.18.0.0"
    uptime_seconds: "5984"
    serialnumber: "VMware-42 1b fc 7a 2a de 96 3b-4a 09 1c 35 7b df af c0"
    blockdevice_sda_size: "8589934592"
    swapsize_mb: "4031.99"
    hostname: t21rjumdkqr2x5d
    filesystems: "ext4,iso9660"
    blockdevices: "sda,sdb,sr0"
    processor1: "Intel(R) Xeon(R) CPU E5-2609 0 @ 2.40GHz"
    rubyversion: "1.8.7"
    clientcert: t21rjumdkqr2x5d.delivery.puppetlabs.net
    memoryfree_mb: "1692.00"
    memorysize: "1.83 GB"
    operatingsystem: CentOS
    bios_version: "6.00"
    blockdevice_sr0_size: "1073741312"
    augeasversion: "1.0.0"
    blockdevice_sda_model: "Virtual disk"
    kernel: Linux
    interfaces: "eth0,lo"
    bios_release_date: "07/30/2013"
    facterversion: "2.0.2"
    swapfree_mb: "4031.99"
    netmask_lo: "255.0.0.0"
    clientnoop: "false"
    selinux_config_mode: enforcing
    uptime_days: "0"
    ker100  4336  100  4336    0     0  30433      0 --:--:-- --:--:-- --:--:-- 57052
nelmajversion: "2.6"
    network_lo: "127.0.0.0"
    boardserialnumber: None
    selinux_enforced: "true"
    blockdevice_sdb_size: "8589934592"
  expiration: 2014-06-18 14:19:31.290781 -07:00
  name: t21rjumdkqr2x5d.delivery.puppetlabs.net
t21rjumdkqr2x5d (centos6-64-2) executed in 0.17 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:31$  if [ -f '/tmp/env_in_auth_conf.vwTmIv/puppet.conf.bak' ]; then cat '/tmp/env_in_auth_conf.vwTmIv/puppet.conf.bak' > '/etc/puppet/puppet.conf'; rm -f '/tmp/env_in_auth_conf.vwTmIv/puppet.conf.bak'; fi  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.06 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:32$  cat `puppet master --configprint pidfile`  
32115
n6vo88vhlunm0j0 (centos6-64-1) executed in 0.56 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:32$  kill 32115  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:32$  kill -0 32115  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:33$  kill -0 32115  
bash: line 0: kill: (32115) - No such process

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1
]]></system-out><system-err><![CDATA[  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100  4336  100  4336    0     0  30433      0 --:--:-- --:--:-- --:--:-- 57052
]]></system-err></testcase><testcase classname="tests" name="ticket_7139_puppet_resource_file_qualified_paths.rb" time="1.961737"><system-out><![CDATA[
#7139: Puppet resource file fails on path with leading '/'

n6vo88vhlunm0j0 (centos6-64-1) 13:49:33$  mktemp -t ticket-7139.XXXXXX  
/tmp/ticket-7139.dv9qbU

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

  * Agents: create valid, invalid formatted manifests
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1oj8z28 centos6-64-1:/tmp/ticket-7139.dv9qbU {}

  * Run puppet file resource on /tmp/ticket-7139.dv9qbU

n6vo88vhlunm0j0 (centos6-64-1) 13:49:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/ticket-7139.dv9qbU
file { '/tmp/ticket-7139.dv9qbU':
  ensure   => 'file',
  content  => '{md5}1f1f84d4ee65edc006609d25767d5461',
  ctime    => 'Wed Jun 18 13:49:33 -0700 2014',
  group    => '0',
  mode     => '600',
  mtime    => 'Wed Jun 18 13:49:33 -0700 2014',
  owner    => '0',
  selrange => 's0',
  selrole  => 'object_r',
  seltype  => 'user_tmp_t',
  seluser  => 'unconfined_u',
  type     => 'file',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.91 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:34$  mktemp -t ticket-7139.XXXXXX  
/tmp/ticket-7139.KoScO3

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * Agents: create valid, invalid formatted manifests
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1bfme7z centos6-64-2:/tmp/ticket-7139.KoScO3 {}

  * Run puppet file resource on /tmp/ticket-7139.KoScO3

t21rjumdkqr2x5d (centos6-64-2) 13:49:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  file /tmp/ticket-7139.KoScO3
file { '/tmp/ticket-7139.KoScO3':
  ensure   => 'file',
  content  => '{md5}1f1f84d4ee65edc006609d25767d5461',
  ctime    => 'Wed Jun 18 13:49:34 -0700 2014',
  group    => '0',
  mode     => '600',
  mtime    => 'Wed Jun 18 13:49:34 -0700 2014',
  owner    => '0',
  selrange => 's0',
  selrole  => 'object_r',
  seltype  => 'user_tmp_t',
  seluser  => 'unconfined_u',
  type     => 'file',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.80 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_7165_no_refresh_after_starting_service.rb" time="10.725949"><system-out><![CDATA[
Bug #7165: Don't refresh service immediately after starting it

n6vo88vhlunm0j0 (centos6-64-1) 13:49:35$  mktemp -dt 7165-no-refresh.XXXXXX  
/tmp/7165-no-refresh.t3sr17

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:35$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.silL2c

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1yenm7t centos6-64-1:/tmp/apply_manifest.pp.silL2c {}

n6vo88vhlunm0j0 (centos6-64-1) 13:49:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.silL2c
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.19 seconds
Info: Applying configuration version '1403124576'
Notice: /Stage[main]/Main/File[/tmp/7165-no-refresh.t3sr17/notify]/ensure: defined content as '{md5}acbd18db4cc2f85cedef654fccc4a4d8'
Info: /Stage[main]/Main/File[/tmp/7165-no-refresh.t3sr17/notify]: Scheduling refresh of Service[service]
Notice: /Stage[main]/Main/Service[service]/ensure: ensure changed 'stopped' to 'running'
Info: /Stage[main]/Main/Service[service]: Unscheduling refresh on Service[service]
Notice: Finished catalog run in 0.22 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.28 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:38$  test -e /tmp/7165-no-refresh.t3sr17/service  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:38$  test -e /tmp/7165-no-refresh.t3sr17/service_restarted  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds
Exited: 1

n6vo88vhlunm0j0 (centos6-64-1) 13:49:38$  echo bar > /tmp/7165-no-refresh.t3sr17/notify  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:38$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.I5FbCs

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-dhctu2 centos6-64-1:/tmp/apply_manifest.pp.I5FbCs {}

n6vo88vhlunm0j0 (centos6-64-1) 13:49:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.I5FbCs
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.30 seconds
Info: Applying configuration version '1403124579'
Info: /Stage[main]/Main/File[/tmp/7165-no-refresh.t3sr17/notify]: Filebucketed /tmp/7165-no-refresh.t3sr17/notify to puppet with sum c157a79031e1c40f85931829bc5fc552
Notice: /Stage[main]/Main/File[/tmp/7165-no-refresh.t3sr17/notify]/content: content changed '{md5}c157a79031e1c40f85931829bc5fc552' to '{md5}acbd18db4cc2f85cedef654fccc4a4d8'
Info: /Stage[main]/Main/File[/tmp/7165-no-refresh.t3sr17/notify]: Scheduling refresh of Service[service]
Notice: /Stage[main]/Main/Service[service]: Triggered 'refresh' from 1 events
Notice: Finished catalog run in 0.19 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 3.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:41$  test -e /tmp/7165-no-refresh.t3sr17/service  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:41$  test -e /tmp/7165-no-refresh.t3sr17/service_restarted  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:41$  mktemp -dt 7165-no-refresh.XXXXXX  
/tmp/7165-no-refresh.W0O2r0

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:41$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.vm8m5D

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1aceqwg centos6-64-2:/tmp/apply_manifest.pp.vm8m5D {}

t21rjumdkqr2x5d (centos6-64-2) 13:49:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.vm8m5D
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.20 seconds
Info: Applying configuration version '1403124582'
Notice: /Stage[main]/Main/File[/tmp/7165-no-refresh.W0O2r0/notify]/ensure: defined content as '{md5}acbd18db4cc2f85cedef654fccc4a4d8'
Info: /Stage[main]/Main/File[/tmp/7165-no-refresh.W0O2r0/notify]: Scheduling refresh of Service[service]
Notice: /Stage[main]/Main/Service[service]/ensure: ensure changed 'stopped' to 'running'
Info: /Stage[main]/Main/Service[service]: Unscheduling refresh on Service[service]
Notice: Finished catalog run in 0.42 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.30 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:43$  test -e /tmp/7165-no-refresh.W0O2r0/service  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:43$  test -e /tmp/7165-no-refresh.W0O2r0/service_restarted  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
Exited: 1

t21rjumdkqr2x5d (centos6-64-2) 13:49:43$  echo bar > /tmp/7165-no-refresh.W0O2r0/notify  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:43$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.ytPhsz

t21rjumdkqr2x5d (centos6-64-2) executed in 0.06 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-1dirf46 centos6-64-2:/tmp/apply_manifest.pp.ytPhsz {}

t21rjumdkqr2x5d (centos6-64-2) 13:49:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ytPhsz
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.19 seconds
Info: Applying configuration version '1403124585'
Info: /Stage[main]/Main/File[/tmp/7165-no-refresh.W0O2r0/notify]: Filebucketed /tmp/7165-no-refresh.W0O2r0/notify to puppet with sum c157a79031e1c40f85931829bc5fc552
Notice: /Stage[main]/Main/File[/tmp/7165-no-refresh.W0O2r0/notify]/content: content changed '{md5}c157a79031e1c40f85931829bc5fc552' to '{md5}acbd18db4cc2f85cedef654fccc4a4d8'
Info: /Stage[main]/Main/File[/tmp/7165-no-refresh.W0O2r0/notify]: Scheduling refresh of Service[service]
Notice: /Stage[main]/Main/Service[service]: Triggered 'refresh' from 1 events
Notice: Finished catalog run in 0.33 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.33 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:46$  test -e /tmp/7165-no-refresh.W0O2r0/service  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:46$  test -e /tmp/7165-no-refresh.W0O2r0/service_restarted  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests" name="ticket_7728_don't_log_whits_on_failure.rb" time="4.926366"><system-out><![CDATA[
#7728: Don't log whits on resource failure

n6vo88vhlunm0j0 (centos6-64-1) 13:49:46$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.zfHsEi

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-l627gy centos6-64-1:/tmp/apply_manifest.pp.zfHsEi {}

n6vo88vhlunm0j0 (centos6-64-1) 13:49:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.zfHsEi
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.07 seconds
Info: Applying configuration version '1403124587'
Notice: before
Notice: /Stage[main]/Foo/Notify[before]/message: defined 'message' as 'before'
Error: false returned 1 instead of one of [0]
Error: /Stage[main]/Foo/Exec[test]/returns: change from notrun to 0 failed: false returned 1 instead of one of [0]
Notice: /Stage[main]/Foo/Notify[after]: Dependency Exec[test] has failures: true
Warning: /Stage[main]/Foo/Notify[after]: Skipping because of failed dependencies
Notice: Finished catalog run in 0.18 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.49 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:48$  mktemp -t apply_manifest.pp.XXXXXX  
/tmp/apply_manifest.pp.YjVbyJ

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds
localhost $ scp /var/folders/zy/0x8lxkt50tb98vvvhhcrz4nw0000gn/T/beaker20140618-42992-8f387i centos6-64-2:/tmp/apply_manifest.pp.YjVbyJ {}

t21rjumdkqr2x5d (centos6-64-2) 13:49:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YjVbyJ
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.09 seconds
Info: Applying configuration version '1403124590'
Notice: before
Notice: /Stage[main]/Foo/Notify[before]/message: defined 'message' as 'before'
Error: false returned 1 instead of one of [0]
Error: /Stage[main]/Foo/Exec[test]/returns: change from notrun to 0 failed: false returned 1 instead of one of [0]
Notice: /Stage[main]/Foo/Notify[after]: Dependency Exec[test] has failures: true
Warning: /Stage[main]/Foo/Notify[after]: Skipping because of failed dependencies
Notice: Finished catalog run in 0.29 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.24 seconds
]]></system-out><system-err><![CDATA[Error: false returned 1 instead of one of [0]
Error: /Stage[main]/Foo/Exec[test]/returns: change from notrun to 0 failed: false returned 1 instead of one of [0]
Warning: /Stage[main]/Foo/Notify[after]: Skipping because of failed dependencies
]]></system-err></testcase><testcase classname="tests" name="ticket_9862_puppet_runs_without_service_user_or_group_present.rb" time="23.137067"><system-out><![CDATA[
#9862: puppet runs without service user or group present

n6vo88vhlunm0j0 (centos6-64-1) 13:49:51$  mktemp -dt ticket_9862_puppet_runs_without_service_user_or_group_present.XXXXXX  
/tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.DMdnOc

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:51$  chmod 755 /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.DMdnOc  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:51$  mktemp -dt ticket_9862_puppet_runs_without_service_user_or_group_present.XXXXXX  
/tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.xPKdDs

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:51$  chmod 755 /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.xPKdDs  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.04 seconds

  * when the user and group are missing

n6vo88vhlunm0j0 (centos6-64-1) 13:49:51$  rm -rf /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.DMdnOc/log  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  -e "notify { puppet_run: }" --logdir /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.DMdnOc/log --user missinguser --group missinggroup
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Notice: puppet_run
Notice: /Stage[main]/Main/Notify[puppet_run]/message: defined 'message' as 'puppet_run'
Notice: Finished catalog run in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.09 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:53$  stat --format '%U:%G' /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.DMdnOc/log  
root:root

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:53$  rm -rf /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.xPKdDs/log  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  -e "notify { puppet_run: }" --logdir /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.xPKdDs/log --user missinguser --group missinggroup
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Notice: puppet_run
Notice: /Stage[main]/Main/Notify[puppet_run]/message: defined 'message' as 'puppet_run'
Notice: Finished catalog run in 0.04 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 1.93 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:55$  stat --format '%U:%G' /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.xPKdDs/log  
root:root

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

  * when the user and group exist

n6vo88vhlunm0j0 (centos6-64-1) 13:49:55$  rm -rf /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.DMdnOc/log  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user existinguser ensure=present
Notice: /User[existinguser]/ensure: created
user { 'existinguser':
  ensure => 'present',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.12 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group existinggroup ensure=present
Notice: /Group[existinggroup]/ensure: created
group { 'existinggroup':
  ensure => 'present',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.00 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  -e "notify { puppet_run: }" --logdir /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.DMdnOc/log --user existinguser --group existinggroup
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.03 seconds
Notice: puppet_run
Notice: /Stage[main]/Main/Notify[puppet_run]/message: defined 'message' as 'puppet_run'
Notice: Finished catalog run in 0.04 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 1.92 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:49:59$  stat --format '%U:%G' /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.DMdnOc/log  
existinguser:existinggroup

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.03 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:59$  rm -rf /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.xPKdDs/log  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:49:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user existinguser ensure=present
Notice: /User[existinguser]/ensure: created
user { 'existinguser':
  ensure => 'present',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.97 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:50:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group existinggroup ensure=present
Notice: /Group[existinggroup]/ensure: created
group { 'existinggroup':
  ensure => 'present',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 0.81 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:50:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  -e "notify { puppet_run: }" --logdir /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.xPKdDs/log --user existinguser --group existinggroup
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.06 seconds
Notice: puppet_run
Notice: /Stage[main]/Main/Notify[puppet_run]/message: defined 'message' as 'puppet_run'
Notice: Finished catalog run in 0.22 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 3.66 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:50:05$  stat --format '%U:%G' /tmp/ticket_9862_puppet_runs_without_service_user_or_group_present.xPKdDs/log  
existinguser:existinggroup

t21rjumdkqr2x5d (centos6-64-2) executed in 0.05 seconds

  * ensure puppet resets it's user/group settings

n6vo88vhlunm0j0 (centos6-64-1) 13:50:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  -e "notify { puppet_run: }"
Notice: Compiled catalog for n6vo88vhlunm0j0.delivery.puppetlabs.net in environment production in 0.04 seconds
Notice: puppet_run
Notice: /Stage[main]/Main/Notify[puppet_run]/message: defined 'message' as 'puppet_run'
Notice: Finished catalog run in 0.03 seconds

n6vo88vhlunm0j0 (centos6-64-1) executed in 2.70 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:50:07$  find /var/lib/puppet -user existinguser  

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.02 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:50:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user existinguser ensure=absent
Notice: /User[existinguser]/ensure: removed
user { 'existinguser':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.97 seconds

n6vo88vhlunm0j0 (centos6-64-1) 13:50:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group existinggroup ensure=absent
Notice: /Group[existinggroup]/ensure: removed
group { 'existinggroup':
  ensure => 'absent',
}

n6vo88vhlunm0j0 (centos6-64-1) executed in 0.97 seconds

  * ensure puppet resets it's user/group settings

t21rjumdkqr2x5d (centos6-64-2) 13:50:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  -e "notify { puppet_run: }"
Notice: Compiled catalog for t21rjumdkqr2x5d.delivery.puppetlabs.net in environment production in 0.03 seconds
Notice: puppet_run
Notice: /Stage[main]/Main/Notify[puppet_run]/message: defined 'message' as 'puppet_run'
Notice: Finished catalog run in 0.11 seconds

t21rjumdkqr2x5d (centos6-64-2) executed in 2.37 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:50:12$  find /var/lib/puppet -user existinguser  

t21rjumdkqr2x5d (centos6-64-2) executed in 0.02 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:50:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  user existinguser ensure=absent
Notice: /User[existinguser]/ensure: removed
user { 'existinguser':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.17 seconds

t21rjumdkqr2x5d (centos6-64-2) 13:50:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet resource  group existinggroup ensure=absent
Notice: /Group[existinggroup]/ensure: removed
group { 'existinggroup':
  ensure => 'absent',
}

t21rjumdkqr2x5d (centos6-64-2) executed in 1.05 seconds
]]></system-out><system-err><![CDATA[]]></system-err></testcase><testcase classname="tests/windows" name="eventlog.rb" time="0.007415"><skip type="skip"/><system-out><![CDATA[
Write to Windows eventlog
Warning: No suitable hosts with: {:platform=>"windows"}

No suitable hosts found
]]></system-out></testcase></testsuite></testsuites>
